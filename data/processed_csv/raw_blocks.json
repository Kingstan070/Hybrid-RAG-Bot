[
  {
    "page": 1,
    "chapter": "Unknown",
    "text": "Please note that you can always find the most up-to-date technical docu-\nmentation on our Web site at http://www.vmware.com/support/.\nThe VMware Web site also provides the latest product updates.\nCopyright © 1998-2004 VMware, Inc.  All rights reserved. Protected by one or  more of U.S. Patent Nos. \n6,397,242, 6,496,847, 6,704,925, 6,711,672, 6,725,289 and 6,735,601; patents pending. VMware is a registered \ntrademark and the VMware boxes logo, GSX Server, ESX Server, Virtual SMP and VMotion are trademarks of \nVMware, Inc. Microsoft, Windows, and Windows NT are registered trademarks of Microsoft Corporation. Linux \nis a registered trademark of Linus Torvalds. All other marks and names mentioned herein may be trademarks of \ntheir respective companies. Revision: 20040611 Version: 4.5.2 Item: WS-ENG-Q204-018\nVMware, Inc.\n3145 Porter Drive\nPalo Alto, CA 94304\nwww.vmware.com"
  },
  {
    "page": 2,
    "chapter": "Unknown",
    "text": "Table of Contents\n3\nIntroduction and System Requirements __________________________ 11\nPowerful Virtual Machine Software for the Technical Professional _______  12\nWhat’s New in Version 4 _________________________________________  14\nNew in Version 4.5.2 __________________________________________  14\nNew in Version 4.5 ___________________________________________  14\nNew in Version 4.0 ___________________________________________  15\nHost System Requirements _______________________________________  17\nVirtual Machine Specifications_____________________________________  20\nSupported Guest Operating Systems _______________________________  23\nTechnical Support Resources______________________________________  25\nDocumentation on the Web____________________________________  25\nVMware Knowledge Base ______________________________________  25\nVMware User Community______________________________________  25\nReporting Problems __________________________________________  25\nInstalling VMware Workstation __________________________________ 27\nSelecting Your Host System_______________________________________  28\nUpgrading from Previous Versions _______________________________  28\nInstalling VMware Workstation 4 on a Windows Host ___________________  29\nInstalling the VMware Workstation Software _______________________  29\nInstalling VMware Workstation Silently____________________________  33\nUninstalling VMware Workstation 4 on a Windows Host ______________  35\nInstalling VMware Workstation 4 on a Linux Host ______________________  36\nBefore Installing on a Linux Host_________________________________  36\nInstalling the VMware Workstation Software _______________________  37\nConfiguring Your Web Browser__________________________________  39\nUninstalling VMware Workstation 4 on a Linux Host _________________  39\nUpgrading VMware Workstation ________________________________ 41\nPreparing for the Upgrade________________________________________  42\nBefore You Install VMware Workstation 4 __________________________  42\nWhen You Remove Version 2 or 3 and Install Version 4 _______________  43\nUpgrading on a Windows Host ____________________________________  45\nUpgrading from an Earlier Release of Version 4 _____________________  45\nUpgrading from Version 2 or 3 to Version 4 ________________________  45"
  },
  {
    "page": 3,
    "chapter": "Unknown",
    "text": "www.vmware.com\n4\nUpgrading on a Linux Host _______________________________________  48\nUsing Virtual Machines Created with Version 3 under Version 4 ___________  49\nCreate Everything New from the Start ____________________________  49\nUse an Existing Configuration File and Virtual Disk___________________  49\nUse an Existing Virtual Machine and Upgrade the Virtual Hardware______  50\nUpgrading Virtual Hardware in the Guest Operating System ___________  51\nUpgrading the Virtual Hardware in an Existing Virtual Machine _________  59\nUsing Virtual Machines Created with Version 2 under Version 4 ___________  60\nUpgrading Virtual Hardware in the Guest Operating System ___________  60\nCreating a New Virtual Machine _________________________________ 65\nSetting Up a New Virtual Machine__________________________________  67\nWhat’s in a Virtual Machine? ____________________________________  67\nSimple Steps to a New Virtual Machine ___________________________  68\nInstalling a Guest Operating System and VMware Tools _________________  78\nInstalling Windows XP as a Guest Operating System____________________  79\nInstalling VMware Tools__________________________________________  81\nVMware Tools for Windows Guests_______________________________  81\nVMware Tools for Linux Guests __________________________________  85\nVMware Tools for FreeBSD Guests________________________________  87\nInstalling VMware Tools in a NetWare Virtual Machine ________________  89\nVMware Tools Configuration Options _______________________________  90\nUsing the System Console to Configure VMware Tools in a NetWare \nGuest Operating System_______________________________________  92\nRunning VMware Workstation __________________________________ 95\nOverview of the VMware Workstation Window________________________  97\nStarting a Virtual Machine _______________________________________  103\nStarting a Virtual Machine on a Windows Host_____________________  103\nStarting a Virtual Machine on a Linux Host________________________  104\nChecking the Status of VMware Tools ______________________________  106\nControlling the Display _________________________________________  107\nUsing Full Screen Mode ______________________________________  107\nUsing Quick Switch Mode_____________________________________  107\nTaking Advantage of Multiple Monitors __________________________  108\nFitting the VMware Workstation Window to the Virtual Machine_______  108\nFitting a Windows Guest Operating System’s Display to the VMware \nWorkstation Window ________________________________________  109\nSimplifying the Screen Display _________________________________  109"
  },
  {
    "page": 4,
    "chapter": "Unknown",
    "text": "5\nInstalling New Software ________________________________________  111\nCutting, Copying and Pasting Text_________________________________  112\nUsing Shared Folders___________________________________________  113\nUsing Drag and Drop___________________________________________  116\nSuspending and Resuming Virtual Machines ________________________  117\nTaking and Reverting to a Snapshot _______________________________  118\nShutting Down a Virtual Machine _________________________________  119\nRemoving a Virtual Machine _____________________________________  120\nUsing Devices in a Virtual Machine ________________________________  121\nAdding, Configuring and Removing Devices in a Virtual Machine ______  121\nConnecting and Disconnecting Removable Devices ________________  121\nCreating a Screen Shot of a Virtual Machine _________________________  123\nChecking for Product Updates____________________________________  124\nSetting Preferences for VMware Workstation_________________________  125\nCommand Reference___________________________________________  129\nStartup Options on a Linux Host________________________________  129\nStartup Options on a Windows Host ____________________________  129\nKeyboard Shortcuts _________________________________________  130\nMoving and Sharing Virtual Machines ___________________________ 133\nMoving a VMware Workstation 4 Virtual Machine _____________________  135\nVirtual Machines Use Relative Paths _____________________________  135\nPreparing Your Virtual Machine for the Move ______________________  135\nMoving a Virtual Machine to a New Host Machine__________________  136\nMoving a VMware Workstation 3.1 or 3.2 Virtual Machine_______________  137\nVirtual Machines May Have Relative or Absolute Paths_______________  137\nPreparing Your Virtual Machine for the Move ______________________  137\nMoving a Virtual Machine to a New Host Machine__________________  138\nMoving an Older Virtual Machine _________________________________  140\nPreparing Your Virtual Machine for the Move ______________________  140\nPreparing the New Host Machine_______________________________  141\nConsiderations for Moving Disks in Undoable Mode ________________  142\nSharing Virtual Machines with Other Users __________________________  144\nUsing Disks _________________________________________________ 145\nConfiguring Hard Disk Storage in a Virtual Machine ___________________  147\nDisk Types: Virtual and Physical_________________________________  147\nFile Locations ______________________________________________  149"
  },
  {
    "page": 5,
    "chapter": "Unknown",
    "text": "www.vmware.com\n6\nUpdating Filenames for Virtual Disks Created with Earlier VMware Products __ \n151\nDefragmenting and Shrinking Virtual Disks _______________________  152\nAdding Drives to a Virtual Machine ________________________________  154\nAdding Virtual Disks to a Virtual Machine _________________________  154\nAdding Raw Disks to a Virtual Machine___________________________  155\nAdding DVD or CD Drives to a Virtual Machine ____________________  159\nAdding Floppy Drives to a Virtual Machine________________________  160\nConnecting a CD-ROM or Floppy Drive to an Image File _____________  161\nUsing VMware Virtual Disk Manager _______________________________  163\nRunning the VMware Virtual Disk Manager Utility __________________  164\nShrinking Virtual Disks with VMware Virtual Disk Manager____________  166\nExamples Using the VMware Virtual Disk Manager__________________  167\nConfiguring a Dual-Boot Computer for Use with a Virtual Machine _______  169\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware \nWorkstation________________________________________________  171\nSetting Up Hardware Profiles in Virtual Machines___________________  177\nRunning a Windows 2000, Windows XP or Windows Server 2003 Virtual \nMachine from an Existing Multiple-Boot Installation ________________  180\nSetting Up the SVGA Video Driver for a Windows 95 Guest Operating \nSystem Booted from a Raw Disk ________________________________  181\nSetting Up the SVGA Video Driver for Use with a Windows 98 Guest \nOperating System Booted from a Raw Disk _______________________  182\nDo Not Use Windows 2000, Windows XP and Windows Server 2003 \nDynamic Disks as Raw Disks ___________________________________  184\nConfiguring Dual- or Multiple-Boot SCSI Systems to Run with VMware \nWorkstation on a Linux Host___________________________________  184\nInstalling an Operating System onto a Raw Partition from a Virtual Machine  190\nConfiguring a Windows Host __________________________________  190\nConfiguring a Linux Host _____________________________________  193\nDisk Performance in Windows NT Guests on Multiprocessor Hosts _______  195\nImproving Performance ______________________________________  195\nPreserving the State of a Virtual Machine ________________________ 197\nUsing Suspend and Resume _____________________________________  199\nUsing the Snapshot ____________________________________________  200\nWhat Is Captured by the Snapshot? _____________________________  200\nSettings for the Snapshot _____________________________________  201"
  },
  {
    "page": 6,
    "chapter": "Unknown",
    "text": "7\nUpdating the Snapshot When You Change Virtual Machine Settings ___  202\nRemoving the Snapshot ______________________________________  202\nWays of Using the Snapshot ___________________________________  202\nThe Snapshot and Legacy Disk Modes ___________________________  203\nThe Snapshot and Repeatable Resume __________________________  204\nThe Snapshot and Legacy Virtual Machines _______________________  204\nThe Snapshot and the Virtual Machine’s Hard Disks _________________  204\nThe Snapshot and Other Activity in the Virtual Machine _____________  205\nConfiguring a Virtual Network _________________________________ 207\nComponents of the Virtual Network _______________________________  210\nCommon Networking Configurations______________________________  212\nBridged Networking _________________________________________  212\nNetwork Address Translation (NAT) _____________________________  213\nHost-Only Networking _______________________________________  214\nCustom Networking Configurations _______________________________  216\nChanging the Networking Configuration ___________________________  219\nAdding and Modifying Virtual Network Adapters___________________  219\nConfiguring Bridged Networking Options on a Windows Host ________  220\nEnabling, Disabling, Adding and Removing Host Virtual Adapters ______  224\nAdvanced Networking Topics ____________________________________  228\nSelecting IP Addresses on a Host-Only Network or NAT Configuration __  228\nAvoiding IP Packet Leakage in a Host-Only Network ________________  230\nMaintaining and Changing the MAC Address of a Virtual Machine _____  232\nControlling Routing Information for a Host-Only Network on a Linux Host  234\nOther Potential Issues with Host-Only Networking on a Linux Host_____  234\nSetting Up a Second Bridged Network Interface on a Linux Host_______  236\nSetting Up Two Separate Host-Only Networks _____________________  236\nRouting between Two Host-Only Networks _______________________  239\nUsing Virtual Ethernet Adapters in Promiscuous Mode on a Linux Host__  243\nUnderstanding NAT ___________________________________________  244\nUsing NAT _________________________________________________  244\nThe Host Computer and the NAT Network ________________________  244\nDHCP on the NAT Network____________________________________  245\nDNS on the NAT Network _____________________________________  245\nExternal Access from the NAT Network___________________________  245\nAdvanced NAT Configuration __________________________________  247\nCustom NAT and DHCP Configuration on a Windows Host ___________  250"
  },
  {
    "page": 7,
    "chapter": "Unknown",
    "text": "www.vmware.com\n8\nConsiderations for Using NAT __________________________________  251\nUsing NAT with NetLogon ____________________________________  251\nSample Linux vmnetnat.conf File _______________________________  253\nUsing Samba on a Linux Host ____________________________________  256\nUsing Samba for File Sharing on a Linux Host______________________  256\nConfiguring Video and Sound _________________________________ 265\nSetting Screen Color Depth in a Virtual Machine______________________  266\nChanging Screen Color Depth on the Host _______________________  266\nChanging Screen Color Depth in the Virtual Machine _______________  266\nUsing Full Screen Mode on a Linux Host ___________________________  268\nConfiguring Sound ____________________________________________  269\nInstalling Sound Drivers in Windows 9x and Windows NT Guest \nOperating Systems __________________________________________  269\nConnecting Devices __________________________________________ 271\nUsing Parallel Ports ____________________________________________  273\nParallel Ports _______________________________________________  273\nInstallation in Guest Operating Systems__________________________  273\nConfiguring a Parallel Port on a Linux Host________________________  274\nSpecial Notes for the Iomega Zip Drive __________________________  276\nUsing Serial Ports______________________________________________  277\nUsing a Serial Port on the Host Computer ________________________  277\nUsing a File on the Host Computer______________________________  278\nConnecting an Application on the Host to a Virtual Machine _________  279\nConnecting Two Virtual Machines ______________________________  281\nSpecial Configuration Options for Advanced Users _________________  285\nExamples: Debugging over a Virtual Serial Port ____________________  286\nKeyboard Mapping on a Linux Host _______________________________  289\nQuick Answers _____________________________________________  289\nThe Longer Story ___________________________________________  289\nV-Scan Code Table __________________________________________  292\nUsing USB Devices in a Virtual Machine ____________________________  297\nNotes on USB Support in Version 4______________________________  297\nEnabling and Disabling the USB Controller________________________  297\nConnecting USB Devices _____________________________________  297\nUsing USB with a Windows Host________________________________  298\nReplacing USB 2.0 Drivers on a Windows 2000 Host_________________  298\nInstalling USB Devices as a Non-Administrator_____________________  299"
  },
  {
    "page": 8,
    "chapter": "Unknown",
    "text": "9\nUsing USB with a Linux Host___________________________________  299\nWho Has Control over a USB Device? ____________________________  299\nDisconnecting USB Devices from a Virtual Machine_________________  301\nHuman Interface Devices _____________________________________  301\nConnecting to a Generic SCSI Device ______________________________  302\nGeneric SCSI on a Windows Host Operating System ________________  302\nGeneric SCSI on a Linux Host Operating System ___________________  304\nPerformance Tuning __________________________________________ 307\nConfiguring and Maintaining the Host Computer_____________________  309\nConfiguring VMware Workstation _________________________________  310\nGeneral VMware Workstation Options ___________________________  310\nVMware Workstation on a Windows Host_________________________  313\nVMware Workstation on a Linux Host ____________________________  314\nMonitoring Virtual Machine Performance ___________________________  315\nMemory Usage Notes __________________________________________  317\nVirtual Machine Memory Size __________________________________  317\nMemory Use on the Host _____________________________________  318\nUsing More Than 1GB of Memory on a Linux Host__________________  320\nImproving Performance for Guest Operating Systems _________________  322\nWindows 95 and Windows 98 Guest Operating System Performance \nTips ______________________________________________________  322\nWindows 2000, Windows XP and Windows Server 2003 Guest Operating \nSystem Performance Tips _____________________________________  324\nLinux Guest Operating System Performance Tips___________________  326\nSpecial-Purpose Configuration Options _________________________ 327\nLocking Out Interface Features ___________________________________  329\nRemoving a Forgotten Password _______________________________  329\nRestricting the User Interface ____________________________________  331\nAutomatically Returning to a Snapshot with a Restricted User Interface _  332\nUsing Full Screen Switch Mode ___________________________________  334\nCreating a Virtual Machine for Use in Full Screen Switch Mode ________  334\nMoving a Virtual Machine to the User’s Computer __________________  334\nSetting Configuration Options on the User’s Computer______________  335\nStarting and Stopping Virtual Machines on the User’s Computer_______  338\nGlossary ____________________________________________________ 341\nIndex ______________________________________________________ 345"
  },
  {
    "page": 10,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R1\n11\nIntroduction and System \nRequirements\nThis section contains the following:\n•\nWhat’s New in Version 4 on page 14\n•\nHost System Requirements on page 17\n•\nVirtual Machine Specifications on page 20\n•\nSupported Guest Operating Systems on page 23\n•\nTechnical Support Resources on page 25\nThank you for choosing VMware® Workstation, the powerful virtual machine software \nfor enterprise IT professionals that runs multiple operating systems and their \napplications simultaneously on a single PC.\nIf you’re new to VMware Workstation, this is the place to start. \nIf you’re a veteran user of VMware products, take a few minutes to see what’s new in \nversion 4 and check out the notes on upgrading your installation.\nThe first chapters of this manual — through Running VMware Workstation on page 95 \n— introduce you to some of the things you can do with VMware Workstation and \nguide you through the key steps for installing the software and putting it to work."
  },
  {
    "page": 11,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n12\nVMware Workstation 4 User’s Manual\nLater chapters provide in-depth reference material for getting the most out of the \nsophisticated features of VMware Workstation.\nPowerful Virtual Machine Software for the Technical \nProfessional\nVMware Workstation is powerful virtual machine software for system administrators \nand developers who want to revolutionize software development, testing and \ndeployment in their enterprise. Shipping for over five years and winner of over a \ndozen major product awards, VMware Workstation enables software developers to \ndevelop and test the most complex networked server-class applications running on \nMicrosoft® Windows®, Linux® or Novell® NetWare® — all on a single desktop. \nEssential features such as Windows, Linux and NetWare support, virtual networking, \nlive snapshots, drag-and-drop, shared folders and PXE support make VMware \nWorkstation a powerful, indispensable tool for enterprise IT developers and system \nadministrators.\nRun the operating systems and applications you need — all on a single desktop\nWith over five years of proven success and millions of users, VMware Workstation \nimproves efficiency, reduces costs and increases flexibility and responsiveness. \nInstalling VMware Workstation on the desktop is the first step to transforming your IT"
  },
  {
    "page": 12,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n13\ninfrastructure into virtual infrastructure. VMware Workstation is used in the enterprise \nto\n•\nStreamline software development and testing operations\n•\nAccelerate application deployments\n•\nEnsure application compatibility and perform operating system migrations\nVMware Workstation enables multiple operating systems and their applications to run \nconcurrently on a single physical machine. These operating systems and applications \nare isolated in secure virtual machines that coexist on a single piece of hardware. The \nVMware virtualization layer maps the physical hardware resources to the virtual \nmachine’s resources, so each virtual machine has its own CPU, memory, disks and I/O \ndevices. A virtual machines is the full equivalent of a standard x86 machine.\nWith VMware Workstation you can\n•\nBuild complex networks — and develop, test and deploy new applications — all \non a single computer\n•\nLeverage the portability of virtual machines so you can easily share \ndevelopment environments and prepackaged configurations — complete with \noperating system and applications — without risk\n•\nAdd or change operating systems without repartitioning disks or rebooting\n•\nRun new operating systems and legacy applications on one computer\nSince its launch in 1999, VMware Workstation has revolutionized the way software and \nIT infrastructure are developed and has become the de facto standard for IT \nprofessionals and developers worldwide. When you deploy VMware Workstation in \nyour environment you will\n•\nShorten development cycles\n•\nReduce problem resolution time\n•\nIncrease productivity\n•\nAccelerate time to market\n•\nImprove project quality\nIf your business is looking to simplify and accelerate development, testing and \ndeployment of software and IT infrastructure, VMware Workstation is essential.\n.\nHost and Guest\n• The physical computer \non which you install \nthe VMware \nWorkstation software \nis called the host \ncomputer, and its \noperating system is \ncalled the host \noperating system.\n• The operating system \nrunning inside a virtual \nmachine is called a \nguest operating \nsystem. \n• For definitions of these \nand other special \nterms, see the glossary \nat the end of this \nmanual."
  },
  {
    "page": 13,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n14\nVMware Workstation 4 User’s Manual\nWhat’s New in Version 4\nWhether you’re a long-time power user of VMware Workstation or a beginning user \nwho is just learning what you can do with virtual machines, the new features in \nVMware Workstation 4 extend its capabilities and make it easier to use. \n•\nNew in Version 4.5.2 on page 14\n•\nNew in Version 4.5 on page 14\n•\nNew in Version 4.0 on page 15\nNew in Version 4.5.2\nHere are highlights of some key features added in VMware Workstation 4.5.2:\nExperimental Support for 64-bit Host Operating Systems\nThis means you can install this release of VMware Workstation on a 64-bit host \ncomputer that uses an AMD64 Opteron, Athlon 64 or Intel IA-32e CPU. Virtual \nmachines you create on these hosts have 32-bit CPUs and can run 32-bit guest \noperating systems.\nExperimental Support for Solaris Guest Operating Systems\nThis means you may install the x86 platform edition of Solaris 9 and of Solaris 10 beta \nas guest operating systems in this release of VMware Workstation. VMware Tools is not \navailable for Solaris. If you want to run the guest operating system’s X server, you may \ndo so in 16 colors.\nSupport for SUSE LINUX 9.1 Guests \nThis means you may run SUSE LINUX 9.1 as a guest operating system in this release of \nVMware Workstation.\nNew in Version 4.5\nHere are highlights of some key features added in VMware Workstation 4.5:\nIncreased Memory Size for Virtual Machines\nThis means you can create individual virtual machines with up to 3,600MB of memory \nand use up to 4GB of memory for all running virtual machines.\nExperimental Support for Longhorn\nThis means you can install and run beta versions of the next version of Windows, \ncode-named Longhorn. Because Longhorn is still in the beta stage of development, \nyou should expect it to install and run more slowly than other guest operating \nsystems."
  },
  {
    "page": 14,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n15\nImproved Support for Guests Using Linux Kernels in the 2.6 Series\nThis means better performance for virtual machines running manually installed 2.6 \nkernels and also for virtual machines using some of the later releases of Red Hat Linux \n9, which incorporate some components from the 2.6 kernel.\nSupport for PXE\nThis means that if you use a preboot execution environment (commonly known as \nPXE) to boot and install operating systems into new virtual machines, you can do so \nwithout any add-on software.\nTip of the Day\nA pop-up tip introduces you to a key feature of VMware Workstation each time you \nlaunch the program. You can turn the tips off if you prefer not to see them.\nUSB Device Installation for Nonadministrators\nAny user on a Windows host can connect USB devices for use in a virtual machine. You \nno longer need administrative privileges on the host to connect a USB device to a \nvirtual machine. See Installing USB Devices as a Non-Administrator on page 299 for \ndetails.\nAutomatic Check for Product Updates\nVMware Workstation now checks automatically to see if updates for the product are \navailable. You can adjust the interval between the automatic checks or turn off \nautomatic checking. See Checking for Product Updates on page 124 for details.\nNew Operating System Support \nGet the freedom to choose the operating systems and applications that work best for \nyou. VMware Workstation 4.5 adds support for Novell NetWare 5.1, 6 and 6.5; and \nSUSE™ LINUX 9.0.\nNew in Version 4.0\nHere are highlights of some key features added in VMware Workstation 4.0:\nSnapshots\nYou can take a snapshot of your virtual machine’s state, a point-in-time copy of the \nrunning system state, saved to disk. You can revert to that snapshot at any time — \nmaking it easier to do repetitive testing and debugging. You can also configure a \nvirtual machine so it reverts to the snapshot each time you power it off. See Taking \nand Reverting to a Snapshot on page 118 for details."
  },
  {
    "page": 15,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n16\nVMware Workstation 4 User’s Manual\nDrag and Drop\nYou can drag and drop files and folders in both directions between Windows hosts \nand Windows guests. See Using Drag and Drop on page 116 for details.\nShared Folders\nShared folders give you an easy way to share files between the host and one or more \nguests. See Using Shared Folders on page 113 for details.\nFull Debug Support \nProgrammers now have the full functionality of native program debugging within a \nvirtual machine with support for both user- and kernel-level debuggers. For more \ninformation on configuring virtual machines for a debugging session, see Examples: \nDebugging over a Virtual Serial Port on page 286.\nImproved Sound and Video\nListen to music in a virtual machine with the high fidelity provided by the new sound \ndevice, which emulates the popular Creative Labs Sound Blaster® AudioPCI. Get \nupgraded high performance graphics that let you display streaming video without \nskipping a beat.\nNew Operating System Support. \nVMware Workstation 4.0 provides support for Microsoft Windows Server 2003; Red \nHat™ Linux 8.0 and 9.0, Red Hat Linux Advanced Server 2.1, and Red Hat Enterprise \nLinux Workstation 2.1; SuSE Linux 8.0, 8.1, 8.2 and Enterprise Server 8; and Mandrake™ \nLinux 9.0.\nNew User Interface\nThe Linux user interface is updated throughout, and includes a completely revamped \nvirtual machine settings editor. Windows hosts have an updated Favorites list. And on \nboth hosts, you can run multiple virtual machines in the same window and tab from \none to another using the new quick switch mode. See Running VMware Workstation \non page 95 for details.\nNetwork Settings (Windows Host)\nThe Virtual Network Editor for Windows hosts now provides a graphical interface you \ncan use to change the configuration of the DHCP servers running on your virtual \nnetworks. It also lets you configure the NAT device and the host virtual adapters. See \nChanging the Networking Configuration on page 219 for details."
  },
  {
    "page": 16,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n17\nHost System Requirements \nWhat do you need to get the most out of VMware Workstation 4? Take the following \nlist of requirements as a starting point. Remember that the virtual machines running \nunder VMware Workstation are like physical computers in many ways — and, like \nphysical computers, they generally perform better if they have faster processors and \nmore memory. \nPC Hardware\n•\nStandard PC \n•\n500MHz or faster compatible x86 processor (recommended; 400MHz minimum)\nCompatible processors include\n• Intel®: Celeron®, Pentium® II, Pentium III, Pentium 4, Pentium M (including \ncomputers with Centrino™ mobile technology), Xeon™ (including “Prestonia”)\n• AMD™: Athlon™, Athlon MP, Athlon XP, Duron™, Opteron™\nFor additional information, including notes on processors that are not \ncompatible, see the VMware knowledge base atwww.vmware.com/support/kb/\nenduser/std_adp.php?p_faqid=967. \n•\nMultiprocessor systems supported \n•\nExperimental support for AMD64 Opteron, Athlon 64 or Intel IA-32e CPU\nMemory\n•\nEnough memory to run the host operating system, plus memory required for \neach guest operating system and for applications on the host and guest; see \nyour guest operating system and application documentation for their memory \nrequirements\n•\n256MB recommended, 128MB minimum\nDisplay\n•\n16-bit display adapter recommended; greater than 8-bit display adapter required \n•\nLinux hosts must have an X server that meets the X11R6 specification (such as \nXFree86) and a video adapter supported by that server to run guest operating \nsystems in full screen mode\nDisk Drives\n•\n100MB (for Windows hosts), 20MB (for Linux hosts) free space required for basic \ninstallation"
  },
  {
    "page": 17,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n18\nVMware Workstation 4 User’s Manual\n•\nAt least 1GB free disk space recommended for each guest operating system and \nthe application software used with it; if you use a default setup, the actual disk \nspace needs are approximately the same as those for installing and running the \nguest operating system and applications on a physical computer\n•\nIDE or SCSI hard drives, CD-ROM and DVD-ROM drives supported \n•\nGuest operating systems can reside on physical disk partitions or in virtual disk \nfiles \nLocal Area Networking (Optional)\n•\nAny Ethernet controller supported by the host operating system \n•\nNon-Ethernet networks supported using built-in network address translation \n(NAT) or using a combination of host-only networking plus routing software on \nthe host operating system\nWindows Host Operating Systems\n•\nWindows Server 2003 Web Edition, Windows Server 2003 Standard Edition, \nWindows Server 2003 Enterprise Edition\n•\nWindows XP Professional and Windows XP Home Edition with Service Pack 1 \n(listed versions also supported with no service pack)\n•\nWindows 2000 Professional Service Pack 3 or 4, Windows 2000 Server Service \nPack 3 or 4, Windows 2000 Advanced Server Service Pack 3 or 4 (listed versions \nalso supported with no service pack)\n•\nWindows NT® Workstation 4.0 Service Pack 6a, Windows NT Server 4.0 Service \nPack 6a, Windows NT 4.0 Terminal Server Edition Service Pack 6\nCaution: Do not install VMware Workstation on a Windows NT 4.0 Server system \nthat is configured as a primary or backup domain controller.\nInternet Explorer 4.0 or higher required for Help system \nLinux Host Operating Systems\nSupported distributions and kernels are listed below. VMware Workstation may not \nrun on systems that do not meet these requirements. \nNote: As newer Linux kernels and distributions are released, VMware modifies and \ntests its products for stability and reliability on those host platforms. We make every \neffort to add support for new kernels and distributions in a timely manner, but until a \nkernel or distribution is added to the list below, its use with our products is not \nsupported. Look for newer prebuilt modules in the download area of our Web site. Go \ntowww.vmware.com/download/."
  },
  {
    "page": 18,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n19\n•\nMandrake Linux 9.0 — stock 2.4.19\n•\nMandrake Linux 8.2 — stock 2.4.18-6mdk\n•\nRed Hat Enterprise Linux 3.0 — stock 2.4.21, update 2.4.21-15.EL\n•\nRed Hat Enterprise Linux 2.1 — stock 2.4.9-e3\n•\nRed Hat Linux Advanced Server 2.1 — stock 2.4.9-e3\n•\nRed Hat Linux 9.0 — stock 2.4.20-8, upgrade 2.4.20-20.9\n•\nRed Hat Linux 8.0 — stock 2.4.18\n•\nRed Hat Linux 7.3 — stock 2.4.18\n•\nRed Hat Linux 7.2 — stock 2.4.7-10, upgrade 2.4.9-7, upgrade 2.4.9-13, upgrade \n2.4.9-21, upgrade 2.4.9-31\n•\nRed Hat Linux 7.1 — stock 2.4.2-2, upgrade 2.4.3-12\n•\nRed Hat Linux 7.0 — stock 2.2.16-22, upgrade 2.2.17-14\n•\nSUSE LINUX 9.1 — stock 2.6.4-52\n•\nSUSE LINUX 9.0 — stock 2.4.21-99\n•\nSuSE Linux Enterprise Server 8 — stock 2.4.19\n•\nSuSE Linux 8.2 — stock 2.4.20\n•\nSuSE Linux 8.1 — stock 2.4.19\n•\nSuSE Linux 8.0 — stock 2.4.18\n•\nSuSE Linux Enterprise Server 7 — stock 2.4.7 and patch 2\n•\nSuSE Linux 7.3 — stock 2.4.10\nPlatforms not listed above are not supported.\nWeb browser required for Help system"
  },
  {
    "page": 19,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n20\nVMware Workstation 4 User’s Manual\nVirtual Machine Specifications\nEach virtual machine created with VMware Workstation 4 provides a platform that \nincludes the following devices that your guest operating system can see.\nProcessor\n•\nSame processor as that on host computer\nNote: A 64-bit processor runs in 32-bit legacy mode inside the virtual machine.\n•\nSingle processor per virtual machine on symmetric multiprocessor systems \nChip Set\n•\nIntel 440BX-based motherboard with NS338 SIO chip and 82093AA IOAPIC\nBIOS\n•\nPhoenixBIOS™ 4.0 Release 6 with VESA BIOS \nMemory\n•\nUp to 3600MB, depending on host memory \n•\nMaximum of 4GB total available for all virtual machines\nGraphics\n•\nVGA and SVGA support \nIDE Drives\n•\nUp to four devices — disks, CD-ROM or DVD-ROM (DVD drives can be used to \nread data DVD-ROM discs; DVD video is not supported)\n•\nHard disks can be virtual disks or physical disks\n•\nIDE virtual disks up to 128GB\n•\nCD-ROM can be a physical device or an ISO image file\nSCSI Devices\n•\nUp to seven devices\n•\nSCSI virtual disks up to 256GB\n•\nHard disks can be virtual disks or physical disks\n•\nGeneric SCSI support allows devices to be used without need for drivers in the \nhost operating system\nWorks with scanners, CD-ROM, DVD-ROM, tape drives and other SCSI devices"
  },
  {
    "page": 20,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n21\n•\nLSI Logic® LSI53C10xx Ultra160 SCSI I/O controller\n•\nMylex® (BusLogic) BT-958 compatible host bus adapter (requires add-on driver \nfrom VMware for Windows XP and Windows Server 2003)\nFloppy Drives\n•\nUp to two 1.44MB floppy devices \n•\nPhysical drives or floppy image files\nSerial (COM) Ports\n•\nUp to four serial (COM) ports \n•\nOutput to serial ports, Windows or Linux files, or named pipes\nParallel (LPT) Ports\n•\nUp to two bidirectional parallel (LPT) ports \n•\nOutput to parallel ports or host operating system files \nUSB ports\n•\nTwo-port USB 1.1 UHCI controller\n•\nSupports devices including USB printers, scanners, PDAs, hard disk drives, \nmemory card readers and still digital cameras\nKeyboard\n•\n104-key Windows 95/98 enhanced \nMouse and Drawing Tablets\n•\nPS/2 mouse \n•\nSerial tablets supported \nEthernet Card\n•\nUp to three virtual Ethernet cards \n•\nAMD PCnet-PCI II compatible \nSound\n•\nSound output and input\n•\nEmulates Creative Labs Sound Blaster AudioPCI (MIDI input, game controllers \nand joysticks not supported) \nVirtual Networking\n•\nNine virtual Ethernet switches (three configured by default for bridged, host-\nonly and NAT networking)"
  },
  {
    "page": 21,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n22\nVMware Workstation 4 User’s Manual\n•\nVirtual networking supports most Ethernet-based protocols, including TCP/IP, \nNetBEUI, Microsoft Networking, Samba, Novell NetWare and Network File System\n•\nBuilt-in NAT supports client software using TCP/IP, FTP, DNS, HTTP and Telnet"
  },
  {
    "page": 22,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n23\nSupported Guest Operating Systems\nThe operating systems listed here have been tested in VMware Workstation 4 virtual \nmachines and are officially supported. For notes on installing the most common guest \noperating systems, see the VMware Guest Operating System Installation Guide, available \nfrom the VMware Web site or from the Help menu.\nOperating systems that are not listed are not supported for use in a VMware \nWorkstation virtual machine. For the most recent list of supported guest operating \nsystems, see the support section of the VMware Web site, www.vmware.com/support/.\nMicrosoft Windows\n•\nWindows, code-named Longhorn, beta (experimental)\n•\nWindows Server 2003 Web Edition, Windows Server 2003 Standard Edition, \nWindows Server 2003 Enterprise Edition\n•\nWindows XP Professional and Windows XP Home Edition with Service Pack 1 or \nService Pack 2 RC (listed versions also supported with no service pack)\n•\nWindows 2000 Professional Service Pack 1, 2, 3 or 4; Windows 2000 Server \nService Pack 1, 2, 3 or 4; Windows 2000 Advanced Server Service Pack 3 or 4 \n(listed versions also supported with no service pack)\n•\nWindows NT® Workstation 4.0 Service Pack 6a, Windows NT Server 4.0 Service \nPack 6a, Windows NT 4.0 Terminal Server Edition Service Pack 6\n•\nWindows Me\n•\nWindows 98 (including all Customer Service Packs) and Windows 98 SE \n•\nWindows 95 (including Service Pack 1 and all OSR releases) \n•\nWindows for Workgroups 3.11\n•\nWindows 3.1 \nMicrosoft MS-DOS\n•\nMS-DOS 6.x \nLinux\n•\nMandrake Linux 8.2, 9.0\n•\nRed Hat Linux 7.0, 7.1, 7.2, 7.3, 8.0, 9.0\n•\nRed Hat Enterprise Linux 2.1, 3.0\n•\nRed Hat Linux Advanced Server 2.1\n•\nSuSE Linux 7.3, 8.0, 8.1, 8.2, 9.0, 9.1"
  },
  {
    "page": 23,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n24\nVMware Workstation 4 User’s Manual\n•\nSLES 7, 7 patch 2, 8\n•\nTurbolinux Server 7.0, Enterprise Server 8, Workstation 8\nNovell NetWare\n•\nNetWare 5.1, 6, 6.5\nFreeBSD\n•\nFreeBSD 4.0–4.6.2, 4.8, 5.0\nNote: If you use SCSI virtual disks larger than 2GB with FreeBSD 4.0–4.3, there \nare known problems, and the guest operating system does not boot. To work \naround this issue, see the VMware Guest Operating System Installation Guide, \navailable from the VMware Web site or from the Help menu.\nSolaris\n•\nSolaris x86 Platform Edition 9 (experimental), 10 beta (experimental)"
  },
  {
    "page": 24,
    "chapter": "Introduction and System Requirements",
    "text": "C H A P T E R  1  Introduction and System Requirements\n25\nTechnical Support Resources\nDocumentation on the Web\nFull documentation for VMware Workstation, including the latest updates to the \nmanual, can be found on the VMware Web site at www.vmware.com/support/.\nVMware Knowledge Base\nYou can find troubleshooting notes and tips for advanced users in the knowledge \nbase on the VMware Web site at www.vmware.com/kb.\nVMware User Community\nCommunity Discussion Forums\nThe VMware Community is a set of moderated discussion forums hosted on the \nVMware Web site and is open to all VMware users. In the forums, you can share your \nexperiences in using VMware products, raise technical questions or issues and benefit \nfrom the expertise and advice of other VMware users. \nNewsgroups\nThe VMware newsgroups are primarily forums for users to help each other. You are \nencouraged to read and post issues, work-arounds and fixes. While VMware personnel \nmay read and post to the newsgroups, they are not a channel for official support. The \nVMware NNTP news server is at news.vmware.com.\nFor more information on the forums and newsgroups, see www.vmware.com/support/\nnewsgroups.htm.\nReporting Problems \nIf you have problems while running VMware Workstation, please report them to the \nVMware support team. \nThese guidelines describe the information we need from you to diagnose problems. \nIf a virtual machine exits abnormally or crashes, please run the support script to \ncollect the appropriate log files and system information. Follow the steps below that \napply to your host computer.\nWindows Host\n1. Open a command prompt."
  },
  {
    "page": 25,
    "chapter": "Introduction and System Requirements",
    "text": "www.vmware.com\n26\nVMware Workstation 4 User’s Manual\n2. Change to the VMware Workstation program directory.\nC:\ncd \\Program Files\\VMware\\VMware Workstation\nIf you did not install the program in the default directory, use the appropriate \ndrive letter and substitute the appropriate path in the cd command above.\n3. Run the support script.\ncscript vm-support.vbs\n4. After the script runs, it displays the name of the directory where it has stored its \noutput. Use a file compression utility such as WinZip or PKZIP to zip that \ndirectory and include the zip file with your support request.\nLinux Host\n1. Open a terminal.\n2. Run the support script as the user who is running the virtual machine. \nvm-support\nIf you are not running the script as root, the script displays messages indicating \nthat it cannot collect some information. This is normal. If the VMware support \nteam needs that information, a support representative will ask you to run the \nscript again as root.\n3. The script creates a compressed .tgz file in the current directory. Include that \noutput file with your support request.\nIf you are reporting a problem you encountered while installing VMware Workstation, \nit is also helpful to have your installation log file. \nOn a Windows host, the file is VMInst.log. It is saved in your temp folder. On a \nWindows NT host, the default location is C:\\temp. On a Windows 2000, Windows XP \nor Windows Server 2003 host, the default location is C:\\Documents and \nSettings\\<username>\\Local Settings\\Temp. The Local Settings \nfolder is hidden by default. To see its contents, open My Computer, go to Tools > \nFolder Options, click the View tab and select Show Hidden Files and Folders.\nBe sure to register your serial number. You may then report your problems by \nsubmitting a support request atwww.vmware.com/requestsupport."
  },
  {
    "page": 26,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R2\n27\nInstalling VMware Workstation\nThe following sections describe how to install VMware Workstation on your Linux or \nWindows host system:\n•\nSelecting Your Host System on page 28\n• Upgrading from Previous Versions on page 28\n•\nInstalling VMware Workstation 4 on a Windows Host on page 29\n• Installing the VMware Workstation Software on page 29\n• Installing VMware Workstation Silently on page 33\n• Uninstalling VMware Workstation 4 on a Windows Host on page 35\n•\nInstalling VMware Workstation 4 on a Linux Host on page 36\n• Before Installing on a Linux Host on page 36\n• Installing the VMware Workstation Software on page 37\n• Configuring Your Web Browser on page 39\n• Uninstalling VMware Workstation 4 on a Linux Host on page 39"
  },
  {
    "page": 27,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n28\nVMware Workstation 4 User’s Manual\nSelecting Your Host System\nVMware Workstation is available for both Windows and Linux host computers. The \ninstallation files for both host platforms are included on the same CD-ROM.\nYour serial number allows you to use VMware Workstation only on the host operating \nsystem for which you licensed the software. If you have a serial number for a Windows \nhost, you cannot run the software on a Linux host, and vice versa.\nTo use VMware Workstation on a different host operating system — for example, to \nuse it on a Linux host if you have licensed the software for a Windows host — \npurchase a license on the VMware Web site. You may also get an evaluation license at \nno charge for a 30-day evaluation of the software. For more information, \nseewww.vmware.com/download/. \nTo install on a supported Windows host computer, see Installing VMware Workstation \n4 on a Windows Host on page 29. To install on a Linux host computer, see Installing \nVMware Workstation 4 on a Linux Host on page 36.\nUpgrading from Previous Versions\nIf you are upgrading from a previous version of VMware Workstation, read Upgrading \nVMware Workstation on page 41 before you begin."
  },
  {
    "page": 28,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R  2  Installing VMware Workstation\n29\nInstalling VMware Workstation 4 \non a Windows Host\nGetting started with VMware Workstation is simple. The key steps are\n1. Install the VMware Workstation software as described in this section.\n2. Start VMware Workstation and enter your serial number. You need to do this only \nonce — the first time you start VMware Workstation after you install it.\n3. Create a virtual machine using the New Virtual Machine Wizard. See Creating a \nNew Virtual Machine on page 65.\n4. Install a guest operating system in the new virtual machine. You need the \ninstallation media (CD-ROM or floppy disks) for your guest operating system. See \nInstalling a Guest Operating System and VMware Tools on page 78.\n5. Install the VMware Tools package in your virtual machine for enhanced \nperformance. See Installing VMware Tools on page 81.\n6. Start using your virtual machine.\nBefore you begin, be sure you have \n•\nA computer and host operating system that meet the system requirements for \nrunning VMware Workstation. See Host System Requirements on page 17.\n•\nThe VMware Workstation installation software. If you bought the packaged \ndistribution of VMware Workstation, the installation software is on the CD in your \npackage. If you bought the electronic distribution, the installation software is in \nthe file you downloaded.\n•\nYour VMware Workstation serial number. The serial number is included in the \nVMware Workstation package or in the email message confirming your \nelectronic distribution order. \n•\nThe installation CD or disks for your guest operating system. \nInstalling the VMware Workstation Software\n1. Log on to your Microsoft Windows host as the Administrator user or as a user \nwho is a member of the Windows Administrators group. \nCaution: Do not install VMware Workstation on a Windows NT Server 4.0 system \nthat is configured as a primary or backup domain controller."
  },
  {
    "page": 29,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n30\nVMware Workstation 4 User’s Manual\nNote: On a Windows XP or Windows Server 2003 host computer, you must be \nlogged in as a local administrator (that is, not logged in to the domain) in order \nto install VMware Workstation.\nNote: Although you must be logged in as an administrator to install VMware \nWorkstation, a user with normal user privileges can run the program after it is \ninstalled. Keep in mind that you need one license for each user.\n2. If you are installing from a CD, from the Start menu, choose Run and enter \nD:\\setup.exe, where D: is the drive letter for your CD-ROM drive.\nIf you are installing from a downloaded file, from the Start menu, choose Run, \nbrowse to the directory where you saved the downloaded installer file and run \nthe installer. (The filename is similar to VMwareWorkstation-\n<xxxx>.exe, where <xxxx> is a series of numbers representing the version \nand build numbers.)\n3. The Welcome dialog box appears.\nClick Next."
  },
  {
    "page": 30,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R  2  Installing VMware Workstation\n31\n4. Acknowledge the end user license agreement (EULA). Select the Yes, I accept \nthe terms in the license agreement option, then click Next.\n5. Choose the directory in which to install VMware Workstation. To install it in a \ndirectory other than the default, click Change and browse to your directory of \nchoice. If the directory does not exist, the installer creates it for you. Click Next.\nCaution: Do not install VMware Workstation on a network drive.\nNote: Windows and the Microsoft Installer limit the length of a path to a folder \non a local drive to 255 characters. For a path to a folder on a mapped or shared \ndrive, the limit is 240 characters. If the path to the VMware Workstation program \nfolder exceeds this limit, an error message appears. You must select or enter a \nshorter path.\n6. The installer has gathered the necessary information and is ready to begin \ninstalling the software. \nIf you want to change any settings or information you provided, now is the time \nto make those changes. Click Back until you reach the dialog box containing the \ninformation you want to change.\nIf you do not need to make any changes, click Install. The installer begins \ncopying files to your computer."
  },
  {
    "page": 31,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n32\nVMware Workstation 4 User’s Manual\n7. If the installer detects that the CD-ROM autorun feature is enabled, you see a \nmessage that gives you the option to disable this feature. Disabling it prevents \nundesirable interactions with the virtual machines you install on this system.\n8. You may see one or more Digital Signature Not Found dialog boxes when the \ninstaller begins to install the VMware Virtual Ethernet Adapters. You can safely \nignore these warnings and click Yes or Continue to approve installation of the \ndrivers.\n9. A dialog box appears, asking if you want to rename existing virtual disks using \nthe .vmdk extension.\nThis naming convention was introduced in VMware Workstation 3. If your virtual \ndisk files already use the .vmdk extension, click No to skip this process. Click Yes \nif you want to search all local drives on the host computer and make this change.\nThe converter also renames the files that store the state of a suspended virtual \nmachine, if it finds them. It changes the old .std file extension to .vmss. \nHowever, it is best to resume and shut down all suspended virtual machines \nbefore you upgrade from VMware Workstation 3 to VMware Workstation 4.\nBesides renaming files, the converter updates the corresponding virtual machine \nconfiguration files so they identify the virtual disks using the new filenames.\nIf you store your virtual disk files or suspended state files on a Windows XP or \nWindows Server 2003 host — or if you may do so in the future — it is important \nto convert the filenames to avoid conflicts with the System Restore feature of \nWindows XP and Windows Server 2003.\nOne Chance to \nRename Disk Files\n• The Rename Virtual \nDisks dialog box \nappears only once. If \nyou click Cancel, you \nwill not have another \nopportunity to update \nthe filenames and \nconfiguration files \nautomatically."
  },
  {
    "page": 32,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R  2  Installing VMware Workstation\n33\n10. If you wish, enter your name, company name and serial number, then click Next. \nThe serial number is on the registration card in your package. The user and \ncompany information you enter here is then made available in the About box \n(Help > About VMware Workstation). If you skip this step, you are prompted to \nenter your serial number the first time you run VMware Workstation.\n11. Click Finish. The VMware Workstation software is installed. \n12. A prompt suggests that you reboot your PC. Reboot now to allow VMware \nWorkstation to complete the installation correctly.\nInstalling VMware Workstation Silently\nIf you are installing VMware Workstation on a number of Windows host computers — \nin a corporate environment, for example — you may want to use the silent install \nfeatures of the Microsoft Windows Installer. \nBefore installing VMware Workstation silently, you must ensure that the host \ncomputer has version 2.0 or higher of the MSI runtime engine. This version of the \ninstaller is available in versions of Windows beginning with Windows XP and is \navailable separately from Microsoft for versions of Windows beginning with Windows \nNT 4.0."
  },
  {
    "page": 33,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n34\nVMware Workstation 4 User’s Manual\nThe following steps outline the procedures for a silent install. For additional details on \nusing the Microsoft Windows Installer, see the Microsoft Web site.\n1. Silently extract the administrative installation image from the VMware \nWorkstation installer:\nsetup.exe /a /s /v\"/qn TARGETDIR=<InstallTempPath>\"\nsetup.exe is the name of the installer on the CD distribution. If you are using \na downloaded installer, the filename is similar to VMwareWorkstation-\n<xxxx>.exe, where <xxxx> is a series of numbers representing the version \nand build numbers.\n<InstallTempPath> is the full path to the folder where you want to store \nthe administrative installation image.\n2. Run a silent installation using msiexec and the administrative installation \nimage you extracted in the previous step:\nmsiexec -i \"<InstallTempPath>\\VMware Workstation.msi\" \n[INSTALLDIR=\"<PathToProgramDirectory>\"] ADDLOCAL=ALL \n[REMOVE=<featurename,featurename>] /qn\nEnter the command on one line. If you want to install VMware Workstation in a \nlocation other than the default, change the path that follows INSTALLDIR= to \nspecify the desired location.\nYou may use the optional REMOVE= property to skip installation of certain \nfeatures. The REMOVE= property can take one or more of the following values:\nIf you specify more than one value, use a comma to separate the values. For \nexample, REMOVE=Authd,NAT.\nNote: If you specify REMOVE=Network, the installer skips installation of \ncertain networking components, including NAT and DHCP. There is no need to \nspecify DHCP or NAT separately.\nValue\nDescription\nAuthd\nThe VMware authorization service\nNetwork\nNetworking components including the virtual bridge and the host adapters for \nhost only networking and NAT networking; do not remove if you want to use \nNAT or DHCP\nDHCP\nThe virtual DHCP server\nNAT\nThe virtual NAT device"
  },
  {
    "page": 34,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R  2  Installing VMware Workstation\n35\nYou may customize the installation further by adding any of the following \ninstallation properties to the command using the format \nPROPERTY=\"value\". A value of 1 means true; a value of 0 means false. If you \nuse the serial number property, enter the serial number, complete with hyphens \n(xxxxx-xxxxx-xxxxx-xxxxx). \nUninstalling VMware Workstation 4 on a Windows Host\nTo uninstall VMware Workstation 4, use the Add/Remove Programs control panel. \nSelect the entry for VMware Workstation, then click Remove. Follow the on-screen \ninstructions.\nProperty\nEffect of the Property\nDefault\nDESKTOP_SHORTCUT \nInstalls a shortcut on the desktop \n1\nDISABLE_AUTORUN \nDisables CD autorun on the host \n1\nREMOVE_LICENSE \n(Uninstall only) Removes all stored licenses at uninstall \n0\nSERIALNUMBER \nAutomatically enters the serial number"
  },
  {
    "page": 35,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n36\nVMware Workstation 4 User’s Manual\nInstalling VMware Workstation 4 \non a Linux Host\nGetting started with VMware Workstation is simple. The key steps are\n1. Install the VMware Workstation software as described in this section.\n2. Start VMware Workstation and enter your serial number. You need to do this only \nonce — the first time you start VMware Workstation after you install it.\n3. Create a virtual machine using the New Virtual Machine Wizard. See Creating a \nNew Virtual Machine on page 65.\n4. Install a guest operating system in the new virtual machine. You need the \ninstallation media (CD-ROM or floppy disks) for your guest operating system. See \nInstalling a Guest Operating System and VMware Tools on page 78.\n5. Install the VMware Tools package in your virtual machine for enhanced \nperformance. See Installing VMware Tools on page 81.\n6. Start using your virtual machine.\nBefore you begin, be sure you have \n•\nA computer and host operating system that meet the system requirements for \nrunning VMware Workstation. See Host System Requirements on page 17.\n•\nThe VMware Workstation installation software. If you bought the packaged \ndistribution of VMware Workstation, the installation software is on the CD in your \npackage. If you bought the electronic distribution, the installation software is in \nthe file you downloaded.\n•\nYour VMware Workstation serial number. The serial number is included in the \nVMware Workstation package or in the email message confirming your \nelectronic distribution order. \n•\nThe installation CD or disks for your guest operating system. \nBefore Installing on a Linux Host\nBefore you install and run VMware Workstation, check the following notes and make \nany necessary adjustments to the configuration of your host operating system.\n•\nThe real-time clock function must be compiled into your Linux kernel. \n•\nVMware Workstation for Linux requires that the parallel port PC-style hardware \noption (CONFIG_PARPORT_PC) be built and loaded as a kernel module (that is, it \nmust be set to m when the kernel is compiled)."
  },
  {
    "page": 36,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R  2  Installing VMware Workstation\n37\nInstalling the VMware Workstation Software\nNote: The steps below describe an installation from a CD-ROM disc. If you \ndownloaded the software, the steps are the same except that you start from the \ndirectory where you saved the installer file you downloaded, not from the Linux \ndirectory on the CD.\n1. Log on to your Linux host with the user name you plan to use when running \nVMware Workstation. \n2. In a terminal window, become root so you can perform the initial installation \nsteps. \nsu -\n3. Mount the VMware Workstation CD-ROM.\n4. Change to the Linux directory on the CD.\n5. Do one of the following: \n• Use the RPM installer: Run RPM specifying the installation file.\nrpm -Uhv VMware-<xxx>.rpm\n(VMware-<xxx>.rpm is the installation file on the CD; in place of <xxx> \nthe filename contains numbers that correspond to the version and build.) \nNote: If you are upgrading from VMware Workstation 3.0, you must take a \nspecial step before you install the RPM package. You need to remove the \nprebuilt modules RPM package included in the 3.0 release. To remove the \nmodules, type the following at a command prompt:\nrpm -e VMwareWorkstationKernelModules\n• Use the tar installer: You may copy a tar archive to your hard disk and install \nfollowing the directions below. Or you may skip the steps for copying and \nunpacking the archive and install directly from the vmware-distrib \ndirectory on the CD.\nCopy the tar archive to a directory on your hard drive — for example, to/tmp.\ncp VMware-<xxx>.tar.gz /tmp\nChange to the directory to which you copied the file.\ncd /tmp\nUnpack the archive. \ntar zxf VMware-<xxxx>.tar.gz \nChange to the installation directory.\ncd vmware-distrib\nRun the installation program.\n./vmware-install.pl"
  },
  {
    "page": 37,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n38\nVMware Workstation 4 User’s Manual\nAccept the default directories for the binary files, library files, manual files, \ndocumentation files and init script. \n6. Run the configuration program.\nvmware-config.pl \nNote: If you use the RPM installer, you need to run this program separately from \nthe command line. If you install from the tar archive, the installer offers to launch \nthe configuration program for you. Answer Yes when you see the prompt.\nUse this program to reconfigure VMware Workstation whenever you upgrade \nyour kernel. It is not necessary to reinstall VMware Workstation after you upgrade \nyour kernel. \nYou can also use vmware-config.pl to reconfigure the networking options \nfor VMware Workstation — for example, to add or remove host-only networks.\nThe installer places vmware-config.pl in /usr/bin. If /usr/bin is not \nin your default path, run the program with the following command:\n/usr/bin/vmware-config.pl\n7. Press Enter to read the end user license agreement (EULA). You may page \nthrough it by pressing the space bar. If the Do you accept prompt doesn’t \nappear, press Q to get to the next prompt. \n8. The remaining prompts are worded in such a way that, in most cases, the default \nresponse is appropriate. Some exceptions are noted here: \n• The configuration program prompts you \nDo you want this script to automatically configure \nyour system to allow your virtual machines to access \nthe host's file system? \nIf you already have Samba running on your host computer, answer No. \nIf Samba is not already running on your host computer and you want to add it, \nanswer Yes to this question; the VMware Workstation installer configures it for \nyou. When prompted for a user name and password to use with the Samba \nconfiguration, enter the user name you used in step 1 above.\n• To enable host-only networking, respond Yes to the following prompts if they \nappear: \nDo you want your virtual machines to be able to use \nthe host's network resources? \nDo you want to be able to use host-only networking \nin your virtual machines?"
  },
  {
    "page": 38,
    "chapter": "Installing VMware Workstation",
    "text": "C H A P T E R  2  Installing VMware Workstation\n39\nDo you want this script to probe for an unused \nprivate subnet? \nThis allows for the sharing of files between the virtual machine and the host \noperating system. For more information, see Host-Only Networking on \npage 214.\nNote: If you do not enable host-only networking now, you cannot allow a \nvirtual machine to use both bridged and host-only networking. \n9. The configuration program displays a message saying the configuration \ncompleted successfully. If it does not display this message, run the configuration \nprogram again.\n10. When done, exit from the root account.\nexit \nConfiguring Your Web Browser\nTo use the VMware Workstation Help system, you must have a Web browser installed \non your host computer. VMware Workstation expects to find the Netscape browser in \n/usr/bin/netscape. If this matches the configuration of your host computer, \nyou do not need to take any special steps. If you are using a different browser or if your \nNetscape browser is in a different location, add a symbolic link to it from /usr/bin.\nln -s <path to browser> /usr/bin/netscape\nUninstalling VMware Workstation 4 on a Linux Host\nIf you used the RPM installer to install VMware Workstation, remove the software from \nyour system by running\nrpm -e VMwareWorkstation\nIf you used the tar installer to install VMware Workstation, remove the software from \nyour system by running\nvmware-uninstall.pl"
  },
  {
    "page": 39,
    "chapter": "Installing VMware Workstation",
    "text": "www.vmware.com\n40\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 40,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R3\n41\nUpgrading VMware Workstation\nThe following sections describe how to upgrade VMware Workstation from version 2 \nand 3 to version 4 on your Linux or Windows host system and how to use existing \nvirtual machines under VMware Workstation 4:\n•\nPreparing for the Upgrade on page 42\n•\nUpgrading on a Windows Host on page 45\n•\nUpgrading on a Linux Host on page 48\n•\nUsing Virtual Machines Created with Version 3 under Version 4 on page 49\n•\nUsing Virtual Machines Created with Version 2 under Version 4 on page 60"
  },
  {
    "page": 41,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n42\nVMware Workstation 4 User’s Manual\nPreparing for the Upgrade\nBefore You Install VMware Workstation 4\nThere are a few steps you should take — while your previous version of VMware \nWorkstation is still on your computer and before you install VMware Workstation 4 — \nto ensure the best possible upgrade experience. \nResume and Shut Down Suspended Virtual Machines\nIf you plan to use virtual machines created under VMware Workstation 2, 3 or a \nprerelease version of VMware Workstation 4, be sure they have been shut down \ncompletely before you remove the release you used to create them. \nIf the virtual machine is suspended, resume it in the earlier release, shut down the \nguest operating system, then power off the virtual machine. \nNote: If you attempt to resume a virtual machine that was suspended under a \ndifferent VMware product or a different version of VMware Workstation, a dialog box \ngives you the choice of discarding or keeping the file that stores the suspended state. \nTo recover the suspended state, you must click Keep, then resume the virtual machine \nunder the correct VMware product. If you click Discard, you can power on normally, \nbut the suspended state is lost.\nMake Sure All Disks Are in the Same Mode\nIf you have an existing virtual machine with one or more virtual disks and all the disks \nuse persistent or undoable mode, upgrading is straightforward.\nIf you have an existing virtual machine with one or more virtual disks and all the disks \nuse nonpersistent mode, you need to take a few special steps when you upgrade \nVMware Tools. For details, see www.vmware.com/info?id=44.\nIf you plan to use an existing virtual machine that has disks in undoable mode, \ncommit or discard any changes to the virtual disks before you remove the release you \nused to create them. \nResume or power on the virtual machine in the earlier release, shut down the guest \noperating system, power off the virtual machine and either commit or discard \nchanges to the disk in undoable mode when prompted. \nIf the disks are in persistent or nonpersistent mode, be sure the virtual machine is \ncompletely shut down. If it is suspended, resume it, shut down the guest operating \nsystem and power off the virtual machine."
  },
  {
    "page": 42,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n43\nIf you have an existing virtual machine that has multiple virtual disks and the disks are \nin multiple modes, the simplest approach to upgrading is to convert all the disks to \npersistent mode.\nResume or power on the virtual machine in the earlier release, shut down the guest \noperating system, power off the virtual machine and either commit or discard \nchanges to any undoable mode disks when prompted. Then open the configuration \neditor and change all disks to persistent mode. After you upgrade to VMware \nWorkstation 4, you can use the snapshot feature to preserve the state of a virtual \nmachine and return to that state at a later time. For more information on the snapshot \nfeature, see Using the Snapshot on page 200.\nIf you need to preserve special functionality that requires disks in multiple modes, \nreview the information at www.vmware.com/info?id=40 before you upgrade.\nBack Up Virtual Machines\nAs a precaution, back up all the files in your virtual machine directories — including \nthe .vmdk or .dsk, .vmx or .cfg and nvram files — for any existing virtual \nmachines you plan to migrate to VMware Workstation 4. Depending on your upgrade \npath, you may not be able to run your virtual machines under both VMware \nWorkstation 4 and your previous version of VMware Workstation. \nVirtual machines created under Workstation 2 must have their virtual hardware \nupdated before they can run under Workstation 4. Once they are updated, they \ncannot be run under Workstation 2. \nYou have a choice with virtual machines that you created under Workstation 3 or \nupdated to use the Workstation 3 virtual hardware. \n•\nYou may update these virtual machines for full compatibility with Workstation 4. \nIn that case, the virtual machines can no longer be used under Workstation 3. \n•\nYou may choose not to update the virtual hardware. In that case, you can run the \nvirtual machines under both Workstation 3 and Workstation 4, but you will not \nhave the benefits of the new virtual hardware provided by Workstation 4. Other \nWorkstation 4 features will not be available. For example, you cannot take a \nsnapshot or revert to the snapshot while the virtual machine is running; you \nmust power off before taking or reverting to the snapshot.\nWhen You Remove Version 2 or 3 and Install Version 4\nThere is a key precaution you should take when you remove VMware Workstation 2 or \n3 — or a prerelease version of VMware Workstation 4 — and install VMware \nWorkstation 4."
  },
  {
    "page": 43,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n44\nVMware Workstation 4 User’s Manual\nLeave the Existing License in Place\nThe installation steps for your host may require that you run an uninstaller to remove a \nprevious version of VMware Workstation from your machine. \nOn a Windows host, the uninstaller may offer to remove licenses from your registry. \nDo not remove the licenses. You can safely keep licenses for multiple VMware \nproducts on the computer at the same time.\nOn a Linux host, the license remains in place. You do not need to take any special \naction. You may safely leave the license where it is."
  },
  {
    "page": 44,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n45\nUpgrading on a Windows Host\nUpgrading from an Earlier Release of Version 4\nThe Upgrade Process\nUpgrading from an earlier release of version 4 is a four-step process. \n1. Use the Add or Remove Programs control panel to uninstall the version now \ninstalled on your computer.\nNote: The uninstaller may offer to remove licenses from your registry. Do not \nremove the licenses.\n2. Reboot your computer if you are prompted to do so. \n3. Install version 4.5.\n4. Reboot your computer if you are prompted to do so.\nUpgrading from Version 2 or 3 to Version 4\nThe Upgrade Process\nIn most cases, upgrading from version 2 or 3 is a four-step process. If you are \nupgrading from Workstation 2 on a Windows 2000 host that has host-only \nnetworking, there is an additional step. See Upgrading on a Windows 2000 Host with \nHost-Only Networking below for details.\nYou may upgrade from version 3 to version 4 using the VMware Workstation 4 \nupgrade product. To upgrade from version 2 to version 4, you must have the full \nVMware Workstation 4 product.\n1. Uninstall the version now installed on your computer. For details, see Removing \nVersion 2 or Removing Version 3, below.\nNote: The uninstaller may offer to remove licenses from your registry. Do not \nremove the licenses.\n2. Reboot your computer. \n3. Install version 4.\nNote: When you are upgrading with an upgrade serial number, the installer \nchecks for the presence of a version 3 license on the computer. If it finds no \nversion 3 license, it prompts you to enter your version 3 serial number.\n4. Reboot your computer."
  },
  {
    "page": 45,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n46\nVMware Workstation 4 User’s Manual\nRemoving Version 2\nTo uninstall version 2, use the VMware Workstation uninstaller. \n1. Launch the uninstaller.\nStart > Programs > VMware > VMware for Windows NT Uninstallation\n2. Click Yes.\n3. Follow the on-screen instructions. You may safely keep your existing license in \nthe Windows registry.\nAfter you reboot, follow the instructions in Installing VMware Workstation 4 on a \nWindows Host on page 29.\nRemoving Version 3\nTo uninstall version 3, use the VMware Workstation uninstaller. \n1. Launch the uninstaller.\nStart > Programs > VMware > VMware Workstation Uninstallation\n2. Click Yes.\n3. Follow the on-screen instructions. You need to keep your existing license in the \nWindows registry.\nAfter you reboot, follow the instructions in Installing VMware Workstation 4 on a \nWindows Host on page 29.\nUpgrading on a Windows 2000 Host with Host-Only Networking\nIf you have set up host-only networking for VMware Workstation 2 on a Windows \n2000 host, the upgrade process has five steps.\n1. Uninstall your host-only adapter (or adapters).\na. On the host computer, start the Add/Remove Hardware Wizard.\nStart > Settings > Control Panel > Add/Remove Hardware\nClick Next.\nb. Select Uninstall/Unplug a Device. Click Next.\nc. Select Uninstall a Device. Click Next.\nd. Select VMware Virtual Ethernet Adapter, then follow the wizard’s \ninstructions.\nIf you have more than one host-only adapter, repeat these steps for each of \nthem.\n2. Uninstall version 2."
  },
  {
    "page": 46,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n47\nNote: The uninstaller may offer to remove licenses from your registry. Do not \nremove the licenses.\n3. Reboot your computer.\n4. Install version 4.\nNote: When you are upgrading with an upgrade serial number, the installer \nchecks for the presence of a version 3 license on the computer. If it finds no \nversion 3 license, it prompts you to enter your version 3 serial number.\n5. Reboot your computer.\nYou may then reconfigure host-only networking under VMware Workstation 4."
  },
  {
    "page": 47,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n48\nVMware Workstation 4 User’s Manual\nUpgrading on a Linux Host\nYou may upgrade from version 3 to version 4 using the VMware Workstation 4 \nupgrade product. To upgrade from version 2 to version 4, you must have the full \nVMware Workstation 4 product.\nThe Tar Upgrade Process\nIf you used the tar installer to install version 2 or 3 or an earlier release of version 4 and \nyou plan to use the tar installer for version 4.5, you do not need to take any special \nsteps to uninstall the older version. Just follow the installation instructions Installing \nVMware Workstation 4 on a Linux Host on page 36.\nNote: When you are upgrading with the upgrade product, the installer checks for \nthe presence of a version 3 license on the computer. If it finds no version 3 license, it \nprompts you to enter your version 3 serial number.\nThe RPM Upgrade Process\nIf you used the RPM installer to install version 2 or 3 or an earlier release of version 4, \ntake the following steps to upgrade to version 4.5. If you are currently using version \n3.0, you need to uninstall the RPM package of prebuilt modules that was installed with \n3.0 before you uninstall the 3.0 software. You do not need to take this step if you are \ncurrently using version 2.0 or 3.1.\n1. If you are running version 2, uninstall it as root by running\nrpm -e VMware\nIf you are running version 3.0, uninstall the prebuilt modules as root, then \nuninstall VMware Workstation by running\nrpm -e VMwareWorkstationKernelModules\nrpm -e VMwareWorkstation\nIf you are running version 3.1 or 3.2 or an earlier release of version 4, uninstall it as \nroot by running\nrpm -e VMwareWorkstation*\n2. Install version 4.5 following the instructions in Installing VMware Workstation 4 \non a Linux Host on page 36.\nNote: When you are upgrading with the upgrade product, the installer checks \nfor the presence of a version 3 license on the computer. If it finds no version 3 \nlicense, it prompts you to enter your version 3 serial number."
  },
  {
    "page": 48,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n49\nUsing Virtual Machines Created \nwith Version 3 under Version 4\nThere are, broadly speaking, three approaches you can take to setting up virtual \nmachines under VMware Workstation 4. Choose one of these approaches. \n•\nCreate Everything New from the Start on page 49\n•\nUse an Existing Configuration File and Virtual Disk on page 49\n•\nUse an Existing Virtual Machine and Upgrade the Virtual Hardware on page 50\nCreate Everything New from the Start \nUse the New Virtual Machine Wizard to set up a new virtual machine and install a \nguest operating system in the virtual machine as described in Creating a New Virtual \nMachine on page 65. If you set up your virtual machines in this way, you will be using \nthe latest technology and will enjoy the performance benefits of the new virtual \nhardware.\nUse an Existing Configuration File and Virtual Disk\nUpgrade VMware Tools to the new version following the instructions for your guest \noperating system in Installing VMware Tools on page 81. You should not remove the \nolder version of VMware Tools before installing the new version.\nA virtual machine set up in this way should run without problems. However, you will \nnot have the benefits of certain new features, including improved sound quality, \nsupport for taking a snapshot while the virtual machine is running and improved \nvirtual disk formats.\nNote: The first time you power on the virtual machine under VMware Workstation 4, \nWorkstation updates the CMOS. As a result, your guest operating system may detect \nhardware changes and install new drivers for the new hardware even if you do not \nchoose VM > Upgrade Virtual Hardware. Similarly, if you switch back to VMware \nWorkstation 3, your guest operating system may detect hardware changes and install \nthe appropriate drivers. You should expect to see this behavior each time you switch \nfrom one version of VMware Workstation to the other.\nWindows hosts: At the time you install VMware Workstation 4, the installer offers to \nconvert virtual disk .dsk filenames to use the .vmdk extension introduced with \nversion 3. If you still have virtual disks using the .dsk extension and if you are storing \nvirtual disk files on a Windows XP or Windows Server 2003 host, it is especially \nimportant that you allow VMware Workstation to make this change in order to avoid"
  },
  {
    "page": 49,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n50\nVMware Workstation 4 User’s Manual\nconflicts with the Windows XP or Windows Server 2003 System Restore feature. The \n.vmdk extension can be used for virtual disks under any VMware product. VMware \nWorkstation 4 automatically updates references to the virtual disk files in configuration \nfiles on the host computer. If you are using the same virtual disk file from any other \ncomputer, you need to update the configuration files with the new filename. For \ndetails, see Updating Filenames for Virtual Disks Created with Earlier VMware Products \non page 151. \nLinux hosts: The first time you run a virtual machine after installing VMware \nWorkstation 4, Workstation offers to convert virtual disk .dsk filenames to use the \n.vmdk extension introduced with version 3. If you still have virtual disks using the \n.dsk extension and if you are storing virtual disk files on a Windows XP or Windows \nServer 2003 host, it is especially important that you allow VMware Workstation to \nmake this change in order to avoid conflicts with the Windows XP or Windows Server \n2003 System Restore feature. The .vmdk extension can be used for virtual disks under \nany VMware product. VMware Workstation 4 automatically updates references to the \nvirtual disk files in configuration files on the host computer. If you are using the same \nvirtual disk file from any other computer, you need to update the configuration files \nwith the new filename. For details, see Updating Filenames for Virtual Disks Created \nwith Earlier VMware Products on page 151. \nUse an Existing Virtual Machine and Upgrade the Virtual \nHardware\nIf you use an existing virtual machine and upgrade the virtual hardware, you gain \naccess to new features and enjoy the performance benefits of the new virtual \nhardware, but the process is one-way — you cannot reverse it.\nStart by using an existing configuration file (.vmx) and virtual disk (.vmdk or .dsk). \nPower on the virtual machine and upgrade VMware Tools to the new version, \nfollowing the instructions for your guest operating system in Installing VMware Tools \non page 81. You should not remove the older version of VMware Tools before \ninstalling the new version.\nAfter shutting down the guest operating system and powering off the virtual \nmachine, upgrade the virtual hardware. The upgraded virtual hardware gives you \nimproved sound quality, support for taking a snapshot while the virtual machine is \nrunning and improved virtual disk formats.\nNote: If you are upgrading a virtual machine that runs from a physical disk, rather \nthan a virtual disk, you may see the following error message while VMware \nWorkstation is upgrading the virtual hardware: “Unable to upgrade <drivename>. One"
  },
  {
    "page": 50,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n51\nof the supplied parameters is invalid.” You may safely click OK to continue the upgrade \nprocess.\nNote: When you update the virtual hardware in a Windows XP or Windows Server \n2003 virtual machine, the Microsoft product activation feature requires you to \nreactivate the guest operating system.\nWindows hosts: At the time you install VMware Workstation 4, the installer offers to \nconvert virtual disk .dsk filenames to use the .vmdk extension introduced with \nversion 3. If you still have virtual disks using the .dsk extension and if you are storing \nvirtual disk files on a Windows XP or Windows Server 2003 host, it is especially \nimportant that you allow VMware Workstation to make this change in order to avoid \nconflicts with the Windows XP or Windows Server 2003 System Restore feature. The \n.vmdk extension can be used for virtual disks under any VMware product. VMware \nWorkstation 4 automatically updates references to the virtual disk files in configuration \nfiles on the host computer. If you are using the same virtual disk file from any other \ncomputer, you need to update the configuration files with the new filename. For \ndetails, see Updating Filenames for Virtual Disks Created with Earlier VMware Products \non page 151. \nLinux hosts: The first time you run a virtual machine after installing VMware \nWorkstation 4, Workstation offers to convert virtual disk .dsk filenames to use the \n.vmdk extension introduced with version 3. If you still have virtual disks using the \n.dsk extension and if you are storing virtual disk files on a Windows XP or Windows \nServer 2003 host, it is especially important that you allow VMware Workstation to \nmake this change in order to avoid conflicts with the Windows XP or Windows Server \n2003 System Restore feature. The .vmdk extension can be used for virtual disks under \nany VMware product. VMware Workstation 4 automatically updates references to the \nvirtual disk files in configuration files on the host computer. If you are using the same \nvirtual disk file from any other computer, you need to update the configuration files \nwith the new filename. For details, see Updating Filenames for Virtual Disks Created \nwith Earlier VMware Products on page 151. \nUpgrading Virtual Hardware in the Guest Operating System\nIf you are using a virtual machine created under VMware Workstation 3, the first time \nyou power on the virtual machine under VMware Workstation 4, Workstation updates \nthe CMOS. As a result, your guest operating system may detect hardware changes and \ninstall new drivers for the new hardware even if you do not choose VM > Upgrade \nVirtual Hardware.\nWindows 95 and Windows 98 guests: The first time you run a VMware Workstation \n3 virtual machine under VMware Workstation 4, the guest operating system discovers"
  },
  {
    "page": 51,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n52\nVMware Workstation 4 User’s Manual\nnew hardware and attempts to install drivers for it before it loads the CD-ROM driver. \nAs a result, it is unable to load drivers from the operating system installation CD. In \nmany cases, the drivers are already available in C:\\Windows, \nC:\\Windows\\System or subdirectories under those two directories. However, a \nsimpler approach is to skip any files that Windows does not find at this stage. Then, \nafter the guest operating system has finished loading and is able to read from the CD-\nROM, you can run the guest operating system’s Add Hardware Wizard and allow it to \ndetect new hardware and install the appropriate drivers.\nYou need to install the new version of VMware Tools. If you have decided to upgrade \nthe virtual hardware, do that after you finish installing VMware Tools. \nNote: If you are upgrading a virtual machine that runs from a physical disk, rather \nthan a virtual disk, you may see the following error message while VMware \nWorkstation is upgrading the virtual hardware: “Unable to upgrade <drivename>. One \nof the supplied parameters is invalid.” You may safely click OK to continue the upgrade \nprocess.\nIf you upgrade the virtual hardware, you may then need to take several steps to be \nsure the new virtual hardware is recognized properly by the guest operating system. If \nyour guest operating system is listed below, the instructions for that guest operating \nsystem provide examples of the steps you may need to take to perform these \nupdates. \nWindows XP Guest\nThe following steps provide examples of what you may see as your guest operating \nsystem recognizes the new virtual hardware. The specific steps may vary, depending \non the configuration of the virtual machine.\n1. Power on the virtual machine and let it update the CMOS.\n2. Install the new version of VMware Tools. For details, see Installing VMware Tools \non page 81.\n3. Shut down Windows and power off the virtual machine.\n4. Choose VM > Upgrade Virtual Hardware. \n5. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n6. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n7. Power on the virtual machine."
  },
  {
    "page": 52,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n53\n8. Windows detects the VMware SVGA adapter. Select Install the software \nautomatically and follow the on-screen instructions.\n9. A dialog box asks you to insert a disk. Navigate to \nC:\\Program Files\\VMware\\drivers to install the VMware SVGA II \nadapter. \n10. If you have serial ports configured in the virtual machine, go to the Windows \nDevice Manager and uninstall all the COM ports listed there.\n11. Restart the virtual machine.\n12. Windows detects the COM ports and installs them properly.\nWindows Me Guest\nThe following steps provide examples of what you may see as your guest operating \nsystem recognizes the new virtual hardware. The specific steps may vary, depending \non the configuration of the virtual machine.\n1. Power on the virtual machine and let it update the CMOS.\n2. Plug and Play detects an Intel 82371 EB Power Management controller. Select \nAutomatic search and click Next. Windows finds and installs the driver \nautomatically.\n3. Plug and Play detects an Intel 82443 BX Pentium II Processor to PCI bridge. Select \nAutomatic search and click Next. Windows finds and installs the driver \nautomatically. \n4. Restart the guest operating system.\n5. Plug and Play detects an Intel 82371 AB/EB PCI Bus Master IDE controller. Select \nAutomatic search and click Next. Windows finds and install the driver \nautomatically. \n6. Install the new version of VMware Tools. For details, see Installing VMware Tools \non page 81.\n7. Shut down Windows and power off the virtual machine.\n8. Choose VM > Upgrade Virtual Hardware. \n9. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n10. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n11. Power on the virtual machine."
  },
  {
    "page": 53,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n54\nVMware Workstation 4 User’s Manual\n12. Windows detects the PCI Multimedia Audio device and installs the driver for the \nCreative AudioPCI.\n13. Windows detects an AMD PCNet adapter. Select Automatic search and click \nNext. Windows automatically installs the driver for the adapter. \n14. Click Finish to restart the virtual machine.\n15. Windows detects a Creative game port device and installs the driver \nautomatically.\n16. Windows detects a game port joystick and installs the driver automatically.\n17. Windows detects the PCI SVGA adapter, then it detects the VMware SVGA II \nadapter and installs the driver automatically.\n18. Click Yes to restart the virtual machine.\n19. If you have serial ports configured in the virtual machine, go to the Windows \nDevice Manager and uninstall all the COM ports listed there.\n20. Restart the virtual machine.\n21. Windows detects the COM ports and installs them properly.\nWindows 2000 Guest\nThe following steps provide examples of what you may see as your guest operating \nsystem recognizes the new virtual hardware. The specific steps may vary, depending \non the configuration of the virtual machine.\n1. Power on the virtual machine and let it update the CMOS.\n2. Windows automatically installs the software for any devices it detects. \n3. Install the new version of VMware Tools. For details, see Installing VMware Tools \non page 81.\n4. Shut down Windows and power off the virtual machine.\n5. Choose VM > Upgrade Virtual Hardware. \n6. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n7. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n8. Power on the virtual machine.\n9. Windows detects the PCI SVGA adapter, then it detects the VMware SVGA II \nadapter. Click Yes to continue installation."
  },
  {
    "page": 54,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n55\n10. A dialog box asks you to insert a disk. Navigate to \nC:\\Program Files\\VMware\\drivers to install the VMware SVGA II \nadapter. \n11. If you have serial ports configured in the virtual machine, go to the Windows \nDevice Manager and uninstall all the COM ports listed there.\n12. Restart the virtual machine.\n13. Windows detects the COM ports and installs them properly.\nWindows NT 4.0 Guest\n1. Power on the virtual machine and let it update the CMOS.\n2. Windows displays a message about the video driver in the guest operating \nsystem. Click OK.\n3. Install the new version of VMware Tools. For details, see Installing VMware Tools \non page 81.\n4. Restart Windows and confirm that it is operating correctly.\n5. Shut down Windows and power off the virtual machine.\n6. Choose VM > Upgrade Virtual Hardware. \n7. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n8. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n9. You can now power on the virtual machine and use the new configuration. \nWindows NT does not have a Plug and Play process, so no additional steps are \nrequired.\nWindows 98 Guest\nThe following steps provide examples of what you may see as your guest operating \nsystem recognizes the new virtual hardware. The specific steps may vary, depending \non the configuration of the virtual machine.\n1. Power on the virtual machine and let it update the CMOS.\n2. Windows detects an Intel 82371EB Power Management Controller. Go to \nC:\\Windows\\System for the necessary file.\n3. Windows detects lpt.vxd. Go to C:\\Windows\\System for the necessary \nfile."
  },
  {
    "page": 55,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n56\nVMware Workstation 4 User’s Manual\n4. Windows detects an Intel 82443BX Pentium Processor to PCI bridge. Go to \nC:\\Windows\\System for the necessary file.\n5. Windows detects an Intel 82371AB/EB PCI Bus Master IDE controller. Go to \nC:\\Windows\\System for the necessary file.\n6. Windows detects an Intel 82371AB/EB PCI to USB Universal host controller. Go to \nC:\\Windows\\System for the necessary file.\n7. Windows detects an AMD PCNET Family Ethernet Adapter. Go to \nC:\\Windows\\System for the necessary file.\n8. Windows asks for the file uhcd.sys. Enter the location \nC:\\Windows\\System32\\drivers, then click OK.\n9. Windows asks for the file inetmib1.dll. Enter the location C:\\Windows, \nthen click OK.\n10. Windows asks for the file locproxy.exe. Enter the location \nC:\\Windows\\System, then click OK.\n11. Windows asks for the file ndishlp.sys. Enter the location C:\\Windows, \nthen click OK.\n12. Windows asks for the file wsock.vxd. Enter the location \nC:\\Windows\\System, then click OK.\n13. When you finish installing the AMD Family Ethernet Adapter, restart Windows 98.\n14. Plug and Play detects multiple devices and restarts Windows 98.\n15. After the virtual machine restarts, install the new version of VMware Tools. For \ndetails, see Installing VMware Tools on page 81.\n16. Shut down Windows and power off the virtual machine.\n17. Choose VM > Upgrade Virtual Hardware. \n18. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n19. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n20. Power on the virtual machine. When Windows boots, it detects the PCI SVGA \nadapter. Later, it detects the Vmware SVGA II adapter and installs the driver for it \nautomatically. \n21. Windows detects PCI Multimedia Audio and offers to install a driver for it. Click \nCancel."
  },
  {
    "page": 56,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n57\n22. Windows detects an AMD PCNET Family Ethernet adapter. Click Next. \n23. Select Search for the best driver and click Next.\n24. Select Specify a location, enter C:\\Windows\\System and click Next.\n25. Select The updated driver (Recommended) AMD PCNET Family Ethernet \nAdapter (PCI-ISA). Click Next.\n26. Windows finds the .inf file for the adapter. Click Next. \n27. Windows asks for the file dhcpsvc.dll. Enter the location \nC:\\Windows\\System, then click OK.\n28. Windows asks for the file inetmib1.dll. Enter the location C:\\Windows, \nthen click OK.\n29. Windows asks for the file locproxy.exe. Enter the location \nC:\\Windows\\System, then click OK.\n30. Windows asks for the file ndishlp.sys. Enter the location C:\\Windows, \nthen click OK.\n31. Windows asks for the file wshtcp.vxd. Enter the location \nC:\\Windows\\System, then click OK.\n32. A dialog box indicates that Windows has finished installing the software. Click \nFinish.\n33. To install the sound adapter, follow the directions in Installing Sound Drivers in \nWindows 9x and Windows NT Guest Operating Systems on page 269.\n34. If you have serial ports configured in the virtual machine, go to the Windows \nDevice Manager and uninstall all the COM ports listed there.\n35. Restart the virtual machine.\n36. Windows detects the COM ports and installs them properly.\nWindows 95 Guest\nThe following steps provide examples of what you may see as your guest operating \nsystem recognizes the new virtual hardware. The specific steps may vary, depending \non the configuration of the virtual machine.\n1. Power on the virtual machine and let it update the CMOS.\n2. Windows detects new devices and automatically installs the drivers. Restart the \nguest operating system after this process is complete.\n3. When Windows restarts, it detects more new devices."
  },
  {
    "page": 57,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n58\nVMware Workstation 4 User’s Manual\n4. Windows asks for the file lpt.vxd. Enter the location \nC:\\Windows\\System, then click OK.\n5. Windows detects a PCI standard host bridge and other devices. Click OK to \ndismiss these dialog boxes. You do not need to install these drivers.\n6. Click Finish.\n7. Install the new version of VMware Tools. For details, see Installing VMware Tools \non page 81.\n8. Shut down Windows and power off the virtual machine.\n9. Choose VM > Upgrade Virtual Hardware. \n10. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n11. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n12. Windows detects a PCI Multimedia Audio device. Click Cancel.\n13. Windows detects a PCI Ethernet adapter, then the AMD Ethernet adapter. \nWindows automatically installs the driver.\n14. To install the sound adapter, follow the directions in Installing Sound Drivers in \nWindows 9x and Windows NT Guest Operating Systems on page 269.\n15. If you have serial ports configured in the virtual machine, go to the Windows \nDevice Manager and uninstall all the COM ports listed there.\n16. Restart the virtual machine.\n17. Windows detects the COM ports and installs them properly.\nRed Hat Linux Guest\n1. Power on the virtual machine and let it update the CMOS.\n2. When Kudzu appears, follow the instructions to detect new hardware and install \nthe proper drivers. \n3. Shut down Linux and power off the virtual machine.\n4. Choose VM > Upgrade Virtual Hardware. \n5. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes."
  },
  {
    "page": 58,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n59\n6. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n7. Power on the virtual machine.\n8. When Kudzu runs, it detects an Ensoniq:ES1371 [AudioPCI-97] sound device.\n9. Click Configure.\nMandrake Linux Guest\n1. Power on the virtual machine and let it update the CMOS.\n2. When Kudzu appears, follow the instructions to detect new hardware and install \nthe proper drivers. \n3. Shut down Linux and power off the virtual machine.\n4. Choose VM > Upgrade Virtual Hardware. \n5. A dialog box cautions you that the operation is irreversible and recommends \nthat you back up the virtual disks before proceeding. If you are ready to proceed, \nclick Yes.\n6. A dialog box displays a message describing what is about to happen. Click OK to \ncontinue.\n7. Power on the virtual machine.\n8. When Kudzu runs, it detects an Ensoniq:ES1371 [AudioPCI-97] sound device.\n9. Click Configure.\nNote: When using Kudzu, do not migrate the existing network configuration. If \nyou try to do so, you see a blank screen. Instead, click No when asked if you want \nto migrate the existing network configuration.\nUpgrading the Virtual Hardware in an Existing Virtual Machine\nOn the VM menu, choose Upgrade Virtual Hardware. A dialog box appears, \nwarning that the upgrade process cannot be reversed. Click Yes to continue, then \nfollow the on-screen directions.\nNote: If you are upgrading a virtual machine that runs from a physical disk, rather \nthan a virtual disk, you may see the following error message while VMware \nWorkstation is upgrading the virtual hardware: “Unable to upgrade <drivename>. One \nof the supplied parameters is invalid.” You may safely click OK to continue the upgrade \nprocess.\nVirtual Hardware \nUpgrade Is Irreversible\n• The process of \nupgrading the virtual \nhardware is irreversible \nand makes the disks \nattached to this virtual \nmachine incompatible \nwith Workstation 2 or \n3. You should make \nbackup copies of your \nvirtual disks before \nstarting the upgrade."
  },
  {
    "page": 59,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n60\nVMware Workstation 4 User’s Manual\nUsing Virtual Machines Created \nwith Version 2 under Version 4\nIf you use an existing VMware Workstation 2 virtual machine under VMware \nWorkstation 4, the virtual hardware is upgraded automatically. The upgrade gives you \naccess to new features, but the process is one-way — you cannot reverse it.\nStart by using an existing configuration file (.vmx) and virtual disk (.dsk if you do \nnot convert to new filenames when you install VMware Workstation or .vmdk if you \ndo convert). \nThe first time you power on the virtual machine under Workstation 4, a dialog box \nappears, offering the choice of upgrading the virtual hardware or powering off. If you \nwant to make a backup copy of the virtual machine before upgrading the virtual \nhardware, power off and make the backup. Otherwise, allow VMware Workstation to \nupgrade the virtual hardware.\nNote: If you are upgrading a virtual machine that runs from a physical disk, rather \nthan a virtual disk, you may see the following error message while VMware \nWorkstation is upgrading the virtual hardware: “Unable to upgrade <drivename>. One \nof the supplied parameters is invalid.” You may safely click OK to continue the upgrade \nprocess.\nUpgrade VMware Tools to the new version following the instructions for your guest \noperating system in Installing VMware Tools on page 81. You should not remove the \nolder version of VMware Tools before installing the new version.\nUpgrading Virtual Hardware in the Guest Operating System\nAfter upgrading the virtual hardware, you may need to take several steps to be sure \nthe new virtual hardware is recognized properly by the guest operating system. If you \nare using a Windows 95, Windows 98 or Windows Me virtual machine created under \nVMware Workstation 2, take the steps listed under the name of your guest operating \nsystem. \nWith other guest operating systems, these special steps are not needed. Plug and Play \nshould recognize the new virtual hardware and install any needed drivers smoothly.\nWindows Me Guest \n1. Power on the virtual machine. \n2. Allow Workstation to upgrade the virtual hardware.\n3. Click OK to dismiss the message “A legacy SVGA driver has been detected.”"
  },
  {
    "page": 60,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n61\n4. Several Plug and Play messages appear. You can safely ignore them. \n5. Log on to Windows Me. More Plug and Play messages appear. One refers to the \nVMware SVGA driver. \nClick Yes to restart your computer. \n6. Log on to Windows Me. The SVGA driver is not working properly. \n7. From the Windows Start menu, choose Settings > Control Panel > System > \nDevice Manager > Display Adapters. \nManually remove the two SVGA drivers. \n8. Restart Windows Me. \nA VMware SVGA II adapter is detected and Windows installs it.\nWindows notifies you to restart your computer. \nClick Yes. \n9. The SVGA driver should be working correctly. \n10. Install the new version of VMware Tools. See Installing VMware Tools on page 81 \nfor details.\nWindows 98 Guest \n1. Power on the virtual machine.\n2. Allow Workstation to upgrade the virtual hardware.\n3. Click OK to dismiss the message “A legacy SVGA driver has been detected.” \n4. Log on to Windows 98. You see a number of Plug and Play messages. You may \nneed to insert your Windows 98 installation CD. \n5. A blue screen appears. Press any key to dismiss the blue screen. \n6. Click Reset to restart the virtual machine (because it is not responding). \n7. Click OK to dismiss the message “A legacy SVGA driver has been detected.”\nAgain, you see a number of Plug and Play messages.\n Windows notifies you to restart Windows. \n Click Yes. \n8. Log on to Windows 98. The SVGA driver is not working properly. \n9. From the Windows Start menu, choose Settings > Control Panel > System > \nDevice Manager > Display Adapters. \nManually remove the two conflicting SVGA drivers."
  },
  {
    "page": 61,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n62\nVMware Workstation 4 User’s Manual\n10. Restart Windows 98.\n A VMware SVGA II adapter is detected and Windows installs it.\n11. Restart Windows 98. \n12. The SVGA driver should be working correctly. \n13. Install the new version of VMware Tools. See Installing VMware Tools on page 81 \nfor details.\nWindows 95 Guest \n1. Power on the virtual machine.\n2. Allow Workstation to upgrade the virtual hardware.\n3. Click OK to dismiss the message “A legacy SVGA driver has been detected.”\n4. Log on to Windows 95.\nYou see a number of Plug and Play messages. Click Cancel for those listing the \nfollowing devices: Standard host CPU bridge, PCI bridge and PCI Universal bus. \n5. The SVGA driver is not working properly. \n6. From the Windows Start menu, choose Settings > Control Panel > System > \nDevice Manager > Display Adapters. \nManually remove the SVGA driver. \n7. Restart Windows 95. \n8. Again, you see a number of Plug and Play messages. Click Cancel for those listing \nthe following devices: Standard host CPU bridge, PCI bridge and PCI Universal \nbus. \n9. A VMware SVGA II adapter is detected and Windows installs it.\n10. Restart Windows 95. \n11. Once again, you see a number of Plug and Play messages. Again, click Cancel for \nthose listing the following devices: Standard host CPU bridge, PCI bridge and PCI \nUniversal bus. \n12. The SVGA driver should be working correctly. \n13. Install the new version of VMware Tools. See Installing VMware Tools on page 81 \nfor details."
  },
  {
    "page": 62,
    "chapter": "Upgrading VMware Workstation",
    "text": "C H A P T E R  3  Upgrading VMware Workstation\n63\nCheck Windows 2000 Guest Operating System Selection\nIf your guest operating system is Windows 2000, update the setting in the virtual \nmachine settings editor (VM > Settings > Options) to reflect the specific version of \nWindows 2000 you are running."
  },
  {
    "page": 63,
    "chapter": "Upgrading VMware Workstation",
    "text": "www.vmware.com\n64\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 64,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R4\n65\nCreating a New Virtual Machine\nThe following sections describe how to create a new virtual machine and install \nVMware Tools:\n•\nSetting Up a New Virtual Machine on page 67\n• What’s in a Virtual Machine? on page 67\n• Simple Steps to a New Virtual Machine on page 68\n•\nInstalling a Guest Operating System and VMware Tools on page 78\n•\nInstalling Windows XP as a Guest Operating System on page 79\n•\nInstalling VMware Tools on page 81\n• VMware Tools for Windows Guests on page 81\n• VMware Tools for Linux Guests on page 85\n• VMware Tools for FreeBSD Guests on page 87\n• Installing VMware Tools in a NetWare Virtual Machine on page 89"
  },
  {
    "page": 65,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n66\nVMware Workstation 4 User’s Manual\n•\nVMware Tools Configuration Options on page 90\n• Using the System Console to Configure VMware Tools in a NetWare Guest \nOperating System on page 92"
  },
  {
    "page": 66,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n67\nSetting Up a New Virtual Machine\nThe New Virtual Machine Wizard guides you through the key steps for setting up a \nnew virtual machine, helping you set various options and parameters. You can then \nuse the virtual machine settings editor (VM > Settings) if you need to make any \nchanges to your virtual machine’s setup.\nWhat’s in a Virtual Machine?\nThe virtual machine typically is stored on the host computer in a set of files, all of \nwhich are in a directory set aside for that particular virtual machine. In these examples, \n<vmname> is the name of your virtual machine. The key files are:\n•\n<vmname>.vmx — the configuration file, which stores settings chosen in the \nNew Virtual Machine Wizard or virtual machine settings editor. If you created the \nvirtual machine under an earlier version of VMware Workstation on a Linux host, \nthis file may have a .cfg extension.\n•\nnvram — the file that stores the state of the virtual machine’s BIOS.\n•\n<vmname>.vmdk — the virtual disk file, which stores the contents of the \nvirtual machine’s hard disk drive. \nA virtual disk is made up of one or more .vmdk files. If you have specified that \nthe virtual disk should be split into 2GB chunks, the number of .vmdk files \ndepends on the size of the virtual disk. As data is added to a virtual disk, the \n.vmdk files grow in size, to a maximum of 2GB each. (If you specify that all space \nshould be allocated when you create the disk, these files start at the maximum \nsize and do not grow.) Almost all of a .vmdk file’s content is the virtual \nmachine’s data, with a small portion allotted to virtual machine overhead. \nIf the virtual machine is connected directly to a physical disk, rather than to a \nvirtual disk, the .vmdk file stores information about the partitions the virtual \nmachine is allowed to access.\nNote: Earlier VMware products used the extension .dsk for virtual disk files.\n•\n<vmname>.log or vmware.log — the file that keeps a log of key VMware \nWorkstation activity. This file can be useful in troubleshooting if you encounter \nproblems. This file is stored in the directory that holds the configuration (.vmx \nor .cfg) file of the virtual machine.\n•\n<vmname>.vmdk.REDO_xxxxxx — a redo-log file, created automatically \nwhen a virtual machine has a snapshot. This file stores changes made to a virtual \ndisk while the virtual machine is running. There may be more than one such file."
  },
  {
    "page": 67,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n68\nVMware Workstation 4 User’s Manual\nThe xxxxxx indicates a unique suffix added automatically by VMware \nWorkstation to avoid duplicate file names.\n•\n<vmname>.vmss — the suspended state file, which stores the state of a \nsuspended virtual machine.\nNote: Some earlier VMware products used the extension .std for suspended \nstate files.\n•\n<vmname>.vmsn — the snapshot state file, which stores the running state of a \nvirtual machine at the time you take a snapshot of it.\n•\n<vmname>.vmx.sav or <vmname>.cfg.sav — the configuration \nsnapshot file, which stores the configuration of a virtual machine at the time you \ntake a snapshot of it.\nThere may be other files as well, some of which are present only while a virtual \nmachine is running.\nSimple Steps to a New Virtual Machine \nBy default, the new virtual machine uses an IDE disk for Windows 95, Windows 98, \nWindows Me, Windows XP, Windows Server 2003, NetWare and FreeBSD guests. The \ndefault for other guest operating systems is a SCSI disk. \nFollow these steps to create a virtual machine using a virtual disk.\n1. Start VMware Workstation. \nWindows hosts: Double-click the VMware Workstation icon on your desktop or \nuse the Start menu (Start > Programs > VMware > VMware Workstation). \nLinux hosts: In a terminal window, enter the command \nvmware &\n2. If this is the first time you have launched VMware Workstation and you did not \nenter the serial number when you installed the product (an option available on a \nWindows host), you are prompted to enter it. The serial number is on the \nregistration card in your package or in the email message confirming your \nelectronic distribution order. Enter your serial number and click OK. \nThe serial number you enter is saved and VMware Workstation does not ask you \nfor it again. For your convenience, VMware Workstation automatically sends the \nserial number to the VMware Web site when you use certain Web links built into \nthe product (for example, Help > VMware on the Web > Register Now! and \nHelp > VMware on the Web > Request Support). This allows us to direct you to \nthe correct Web page to register and get support for your product."
  },
  {
    "page": 68,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n69\n3. Linux hosts: If this is the first time you have launched VMware Workstation, a \ndialog box asks if you want to rename existing virtual disks using the new \n.vmdk extension. Click OK to search all local drives on the host computer and \nmake this change. (On Windows hosts, you have a chance to rename virtual disk \nfiles when you are installing VMware Workstation.)\nThe converter also renames the files that store the state of a suspended virtual \nmachine, if it finds them. It changes the old .std file extension to .vmss. \nHowever, you should resume and shut down all suspended virtual machines \nbefore you upgrade to Workstation 4.\nIn addition to renaming files, the converter updates the corresponding virtual \nmachine configuration files so they identify the virtual disks using the new \nfilenames.\nIf you store your virtual disk files or suspended state files on a Windows XP or \nWindows Server 2003 host — or if you may do so in the future — it is important \nto convert the filenames to avoid conflicts with the System Restore feature of \nWindows XP and Windows Server 2003.\n4. Start the New Virtual Machine Wizard.\nWhen you start VMware Workstation, you can open an existing virtual machine \nor create a new one. Choose File > New Virtual Machine to begin creating your \nvirtual machine.\n5. The New Virtual Machine Wizard presents you with a series of screens that you \nnavigate using the Next and Prev buttons at the bottom of each screen. At each \nscreen, follow the instructions, then click Next to proceed to the next screen.\n6. Select the method you want to use for configuring your virtual machine.\nIf you select Typical, the wizard prompts you to specify or accept defaults for\n• The guest operating system\n• The virtual machine name and the location of the virtual machine’s files\nLinux Hosts: One \nChance to Rename \nDisk Files\n• The Rename Virtual \nDisks dialog box \nappears only once. If \nyou click Cancel, you \nwill not have another \nopportunity to update \nthe filenames and \nconfiguration files \nautomatically."
  },
  {
    "page": 69,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n70\nVMware Workstation 4 User’s Manual\n• The network connection type\nIf you select Custom, you also can specify how to set up your disk — create a \nnew virtual disk, use an existing virtual disk or use a physical disk — and specify \nthe settings needed for the type of disk you select. \nSelect Custom if you want to \n• Make a virtual disk larger or smaller than 4GB\n• Store your virtual disk’s files in a particular location\n• Use an IDE virtual disk for a guest operating system that would otherwise have \na SCSI virtual disk created by default\n• Allocate all the space for a virtual disk at the time you create it\n• Choose whether to split a virtual disk into 2GB files\n• Use a physical disk rather than a virtual disk (for expert users)\n• Set memory options that are different from the defaults\n7. Select a guest operating system.\nThis screen asks which operating system you plan to install in the virtual \nmachine. Select both an operating system and a version.\nThe New Virtual Machine Wizard uses this information to select appropriate \ndefault values, such as the amount of memory needed. The wizard also uses this \ninformation when naming associated virtual machine files. \nIf the operating system you plan to use is not listed, select Other for both guest \noperating system and version. \nThe remaining steps assume you plan to install a Windows XP Professional guest \noperating system. You can find detailed installation notes for this and other \nguest operating systems in the VMware Guest Operating System Installation Guide, \navailable from the VMware Web site or from the Help menu."
  },
  {
    "page": 70,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n71\n8. Select a name and folder for the virtual machine.\nThe name specified here is used if you add this virtual machine to the VMware \nWorkstation Favorites list. This name is also used as the name of the folder where \nthe files associated with this virtual machine are stored.\nEach virtual machine should have its own folder. All associated files, such as the \nconfiguration file and the disk file, are placed in this folder. \nWindows hosts: On Windows 2000, Windows XP and Windows Server 2003, the \ndefault folder for this Windows XP Professional virtual machine is \nC:\\Documents and Settings\\<username>\\My Documents\\My \nVirtual Machines\\Windows XP Professional. On Windows NT, \nthe default folder is C:\\WINNT\\Profiles\\<username>\\Personal\\My \nVirtual Machines\\Windows XP Professional.\nLinux hosts: The default location for this Windows XP Professional virtual \nmachine is <homedir>/vmware/winXPPro, where <homedir> is the \nhome directory of the user who is currently logged on. \nVirtual machine performance may be slower if your virtual hard disk is on a \nnetwork drive. For best performance, be sure the virtual machine’s folder is on a \nlocal drive. However, if other users need to access this virtual machine, you \nshould consider placing the virtual machine files in a location that is accessible \nto them. For more information, see Sharing Virtual Machines with Other Users on \npage 144.\n9. If you selected Typical as your configuration path, skip to step 10."
  },
  {
    "page": 71,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n72\nVMware Workstation 4 User’s Manual\nIf you selected Custom as your configuration path, you may adjust the memory \nsettings or accept the defaults, then click Next to continue.\nIn most cases, it is best to keep the default memory setting. If you plan to use the \nvirtual machine to run many applications or applications that need high \namounts of memory, you may want to use a higher memory setting. For more \ninformation, see Virtual Machine Memory Size on page 317.\nNote: You cannot allocate more than 2GB of memory to a virtual machine if the \nvirtual machine’s files are stored on a file system such as FAT32 that does not \nsupport files greater than 2GB.\n10. Configure the networking capabilities of the virtual machine.\nIf your host computer is on a network and you have a separate IP address for \nyour virtual machine (or can get one automatically from a DHCP server), select \nUse bridged networking.\nIf you do not have a separate IP address for your virtual machine but you want to \nbe able to connect to the Internet, select Use network address translation \n(NAT). NAT is useful if you have a wireless network adapter on a Linux host (as \nbridged networking on wireless network adapters is supported only on"
  },
  {
    "page": 72,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n73\nWindows hosts). NAT also allows you to share files between the virtual machine \nand the host operating system.\nFor more details about VMware Workstation networking options, see \nConfiguring a Virtual Network on page 207.\n11. If you selected Typical as your configuration path, click Finish and the wizard \nsets up the files needed for your virtual machine.\nIf you selected Custom as your configuration path, continue with the steps \nbelow to configure a disk for your virtual machine.\n12. Select the type of SCSI adapter you want to use with the virtual machine.\nAn IDE and a SCSI adapter are installed in the virtual machine. The IDE adapter is \nalways ATAPI. You can choose a BusLogic or an LSI Logic SCSI adapter. The \ndefault for your guest operating system is already selected. All guests except for \nWindows Server 2003, Red Hat Enterprise Linux 3 and NetWare default to the \nBusLogic adapter.\nThe LSI Logic adapter has improved performance and works better with generic \nSCSI devices. The LSI Logic adapter is also supported by ESX Server 2 virtual \nmachines, but not by virtual machines created with lower versions. Keep this in \nmind if you plan to migrate the virtual machine to another VMware product.\nYour choice of SCSI adapter does not affect your decision to make your virtual \ndisk an IDE or SCSI disk. However, most guest operating systems do not include a \ndriver for the LSI Logic adapter; you must download the driver from the LSI Logic \nWeb site. See the VMware Guest Operating System Installation Guide for details \nabout the driver and the guest operating system you plan to install in this virtual \nmachine."
  },
  {
    "page": 73,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n74\nVMware Workstation 4 User’s Manual\n13. Select the disk you want to use with the virtual machine.\nSelect Create a new virtual disk. \nVirtual disks are the best choice for most virtual machines. They are quick and \neasy to set up and can be moved to new locations on the same host computer \nor to different host computers. By default, virtual disks start as small files on the \nhost computer’s hard drive, then expand as needed — up to the size you specify \nin the next step. The next step also allows you to allocate all the disk space when \nthe virtual disk is created, if you wish.\nTo use an existing operating system on a physical hard disk (a “raw” disk), read \nConfiguring a Dual-Boot Computer for Use with a Virtual Machine on page 169. \nTo install your guest operating system directly on an existing IDE disk partition, \nread the reference note Installing an Operating System onto a Raw Partition from \na Virtual Machine on page 190. \nCaution: Raw disk configurations are recommended only for expert users. \nCaution: If you are using a Windows Server 2003, Windows XP or Windows 2000 \nhost, see Do Not Use Windows 2000, Windows XP and Windows Server 2003 \nDynamic Disks as Raw Disks on page 184.\nTo install the guest operating system on a raw IDE disk, select Existing IDE Disk \nPartition. To use a raw SCSI disk, add it to the virtual machine later with the \nvirtual machine settings editor. Booting from a raw SCSI disk is not supported. \nFor a discussion of some of the issues involved in using a raw SCSI disk, see \nConfiguring Dual- or Multiple-Boot SCSI Systems to Run with VMware \nWorkstation on a Linux Host on page 184."
  },
  {
    "page": 74,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n75\n14. Select whether to create an IDE or SCSI disk.\nThe wizard recommends the best choice based on the guest operating system \nyou selected. All Linux distributions you can select in the wizard use SCSI virtual \ndisks by default, as do Windows NT, Windows 2000, Windows Server 2003 and \nLonghorn. All Windows operating systems except Windows NT, Windows 2000, \nWindows Server 2003 and Longhorn use IDE virtual disks by default; NetWare, \nFreeBSD, MS-DOS and other guests default to IDE virtual disks. \n15. Specify the capacity of the virtual disk.\nEnter the size of the virtual disk that you wish to create. \nIf you wish, select Allocate all disk space now. \nAllocating all the space at the time you create the virtual disk gives somewhat \nbetter performance, but it requires as much disk space as the size you specify for \nthe virtual disk.\nIf you do not select this option, the virtual disk’s files start small and grow as \nneeded, but they can never grow larger than the size you set here. \nYou can set a size between 0.1GB and 256GB for a SCSI virtual disk or 128GB for \nan IDE virtual disk. The default is 4GB."
  },
  {
    "page": 75,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n76\nVMware Workstation 4 User’s Manual\nYou may also specify whether you want the virtual disk created as one large file \nor split into a set of 2GB files. You should split your virtual disk if it is stored on a \nFAT32 file system.\n16. Specify the location of the virtual disk’s files.\nIf you want to specify which device node should be used by your SCSI or IDE \nvirtual disk, click Advanced. \nOn the advanced settings screen, you can also specify a disk mode. This is useful \nin certain special-purpose configurations in which you want to exclude disks \nfrom the snapshot. For more information on the snapshot feature, see Using the \nSnapshot on page 200.\nNormal disks are included in the snapshot. In most cases, you should use normal \ndisks, leaving Independent unchecked.\nIndependent disks are not included in the snapshot. \nCaution: The independent disk option should be used only by advanced users \nwho need it for special-purpose configurations.\nYou have the following options for an independent disk:\n• Persistent — changes are immediately and permanently written to the disk."
  },
  {
    "page": 76,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n77\n• Nonpersistent — changes to the disk are discarded when you power off the \nvirtual machine.\nWhen you have set the filename and location you want to use and have made \nany selections you want to make on the advanced settings screen, click Finish.\n17. Click Finish. The wizard sets up the files needed for your virtual machine."
  },
  {
    "page": 77,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n78\nVMware Workstation 4 User’s Manual\nInstalling a Guest Operating System \nand VMware Tools\nA new virtual machine is like a physical computer with a blank hard disk. Before you \ncan use it, you need to partition and format the virtual disk and install an operating \nsystem. The operating system’s installation program may handle the partitioning and \nformatting steps for you.\nInstalling a guest operating system inside your VMware Workstation virtual machine is \nessentially the same as installing it on a physical computer. The basic steps for a typical \noperating system are:\n1. Start VMware Workstation. \n2. Insert the installation CD-ROM or floppy disk for your guest operating system.\nNote: In some host configurations, the virtual machine is not able to boot from \nthe installation CD-ROM. You can work around that problem by creating an ISO \nimage file from the installation CD-ROM. Use the virtual machine settings editor \nto connect the virtual machine’s CD drive to the ISO image file, then power on \nthe virtual machine.\n3. Power on your virtual machine by clicking the Power On button.\n4. Follow the instructions provided by the operating system vendor.\nThe next section provides notes on installing a Windows XP guest operating system. \nThe screen shots illustrate the process on a Windows host. The steps are the same on \na Linux host.\nFor information on installing other guest operating systems, see the VMware Guest \nOperating System Installation Guide, available from the VMware Web site or from the \nHelp menu."
  },
  {
    "page": 78,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n79\nInstalling Windows XP as \na Guest Operating System\nYou can install Windows XP Home Edition or Windows XP Professional in a virtual \nmachine using the full installation CD.\nBefore installing the operating system, be sure that you have already created a new \nvirtual machine and configured it using the New Virtual Machine Wizard.\nNote: To use SCSI disks in a Windows XP virtual machine, you need a special SCSI \ndriver available from the download section of the VMware Web site \natwww.vmware.com/download.  Follow the instructions on the Web site to use the \ndriver with a fresh installation of Windows XP. \nInstallation Steps \n1. Insert the Windows XP CD in the CD-ROM drive.\nNote: If you plan to use a PXE server to install the guest operating system over a \nnetwork connection, you do not need the operating system installation media. \nWhen you power on the virtual machine in the next step, the virtual machine \ndetects the PXE server.\n2. Power on the virtual machine to start installing Windows XP."
  },
  {
    "page": 79,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n80\nVMware Workstation 4 User’s Manual\n3. Follow the Windows XP installation steps as you would for a physical computer."
  },
  {
    "page": 80,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n81\nInstalling VMware Tools\nThe installers for VMware Tools for Windows, Linux, FreeBSD and NetWare guest \noperating systems are built into VMware Workstation as ISO image files. (An ISO image \nfile looks like a CD-ROM to your guest operating system and even appears as a CD-\nROM in Windows Explorer. You do not use an actual CD-ROM to install VMware Tools, \nnor do you need to download the CD-ROM image or burn a physical CD-ROM of this \nimage file.) \nVMware Tools for Windows supports Windows 95, Windows 98, Windows Me, \nWindows NT 4.0, Windows 2000, Windows XP and Windows Server 2003 guest \noperating systems.\nWhen you choose VM > Install VMware Tools from the VMware Workstation menu, \nVMware Workstation temporarily connects the virtual machine’s first virtual CD-ROM \ndrive to the ISO image file that contains the VMware Tools installer for your guest \noperating system and you are ready to begin the installation process. \nVMware Tools for Windows Guests\nThe detailed steps for installing VMware Tools depend on the version of Windows you \nare running. The steps that follow show how to install VMware Tools in a Windows XP \nguest. Some steps that are automated in newer versions of Windows must be \nperformed manually in Windows 9x and Windows NT.\nNote: If you are running VMware Workstation on a Windows host, and your virtual \nmachine has only one CD-ROM drive, the CD-ROM drive must be configured as an IDE \nor SCSI CD-ROM drive. It cannot be configured as a generic SCSI device. \nTo add an IDE or SCSI CD-ROM drive, see Adding, Configuring and Removing Devices \nin a Virtual Machine on page 121. For information about generic SCSI, see Connecting \nto a Generic SCSI Device on page 302.\nInstalling VMware Tools in a Windows Guest Operating System\n1. Power on the virtual machine.\n2. When the guest operating system starts, prepare your virtual machine to install \nVMware Tools. \nChoose VM > Install VMware Tools. \nThe remaining steps take place inside the virtual machine.\nNote: You must log in to a Windows NT, Windows 2000, Windows XP, Windows \nServer 2003 or Longhorn guest operating system as an administrator in order to install \nDon’t Forget \nVMware Tools\n• It is very important \nthat you install \nVMware Tools in the \nguest operating \nsystem. \n• With the VMware Tools \nSVGA driver installed, \nWorkstation supports \nsignificantly faster \ngraphics performance. \n• The VMware Tools \npackage provides \nsupport required for \nshared folders and for \ndrag and drop \noperations.\n• Other tools in the \npackage support \nsynchronization of \ntime in the guest \noperating system with \ntime on the host, \nautomatic grabbing \nand releasing of the \nmouse cursor, copying \nand pasting between \nguest and host, and \nimproved mouse \nperformance in some \nguest operating \nsystems."
  },
  {
    "page": 81,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n82\nVMware Workstation 4 User’s Manual\nVMware Tools. Any user can install VMware Tools in a Windows 95, Windows 98 or \nWindows Me guest operating system.\n3. If you have autorun enabled in your guest operating system (the default setting \nfor Windows operating systems), a dialog box appears after a few seconds. It asks \nif you want to install VMware Tools. Click Yes to launch the InstallShield wizard.\nIf autorun is not enabled, the dialog box does not appear automatically. If it \ndoesn’t appear, run the VMware Tools installer. Click Start > Run and enter \nD:\\setup\\setup.exe where D: is your first virtual CD-ROM drive.\nNote: You do not use an actual CD-ROM to install VMware Tools, nor do you \nneed to download the CD-ROM image or burn a physical CD-ROM of this image \nfile. The VMware Workstation software contains an ISO image that looks like a \nCD-ROM to your guest operating system and even appears as a CD-ROM in \nWindows Explorer. This image contains all the files needed to install VMware \nTools in your guest operating system. When you finish installing VMware Tools, \nthis image file no longer appears in your CD-ROM drive.\n4. Follow the on-screen instructions. \n5. On Windows Server 2003, Windows Me, Windows 98 SE and Windows 98 guests, \nthe SVGA driver is installed automatically and the guest operating system uses it \nafter it reboots. With Windows 2000 and Windows XP guests, you do not have to \nreboot to use the new driver."
  },
  {
    "page": 82,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n83\nAdditional Steps for Some Versions of Windows When Migrating from Old Disk \nVersions\nIf you are migrating a VMware Workstation 2 disk to VMware Workstation 4 and your \nguest operating system is Windows NT, Windows Me, Windows 98 or Windows 95, \nyou need to configure the video driver by hand. Instructions open automatically in \nNotepad at the end of the installation process. If the Notepad window is hidden, bring \nit to the front by clicking the Notepad button on the Windows taskbar.\nFor details, see the steps below that correspond to your guest operating system.\nWindows NT\n1. After installing VMware Tools, click Finish. The Display Properties dialog box \nappears. \n2. Click the Display Type button. The Display Type dialog box appears.\n3. Click the Change button. The Change Display dialog box appears. \n4. Select VMware, Inc. from the Manufacturer list.\n5. Select VMware SVGA as the display adapter and click OK.\n6. Click Yes in response to the on-screen question about third-party drivers to \ninstall the driver, then click OK to confirm the drivers were installed.\n7. Click Close from the Display Type dialog box, then click Close from the Display \nProperties dialog box.\n8. Click Yes to restart Windows NT and start using the new video driver.\n9. The VMware Tools background application is launched automatically when you \nreboot your virtual machine.\nWindows Me\n1. After installing VMware Tools, click Finish. The Display Settings dialog box \nappears. \n2. Click the Advanced button.\n3. Click the Adapter tab.\n4. Click the Change button. This starts the Update Device Driver Wizard.\n5. The wizard now presents two options. Choose the second option to Specify the \nlocation of the driver.\nClick Next."
  },
  {
    "page": 83,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n84\nVMware Workstation 4 User’s Manual\n6. Check the Specify a location checkbox. Enter the following path:\nD:\\video\\win9x\nD: is the drive letter for the first virtual CD-ROM drive in your virtual machine.\nClick OK.\n7. Windows Me automatically locates your driver.\n8. Select the VMware SVGA II display adapter and click Next.\n9. Click Next to install the driver. \nIf you are upgrading a virtual machine created under VMware Workstation 2, you \nmay see a dialog box that warns, “The driver you are installing is not specifically \ndesigned for the hardware you have.… Do you wish to continue?” Click Yes.\nAfter the driver is installed, click Finish.\n10. Click Yes to restart Windows Me and start using the new video driver.\n11. The VMware Tools background application starts automatically when you reboot \nyour virtual machine.\nWindows 98\n1. After installing VMware Tools, click Finish. The Display Settings dialog box \nappears. \n2. Click the Advanced button. The Standard Display Adapter (VGA) Properties \ndialog box appears. If you are upgrading from a previous version of the VMware \ndrivers, this dialog box is titled VMware SVGA Properties.\n3. Click the Adapter tab.\n4. Click the Change button. This starts the Update Device Driver Wizard. Click Next.\n5. The wizard presents two options. Choose the option to Display a list of all \ndrivers in a specific location. Click Next.\n6. Select Have Disk. The Install From Disk dialog box appears.\n7. Enter the following path:\nD:\\video\\win9x\nD: is the drive letter for the first virtual CD-ROM drive in your virtual machine. \nClick OK.\n8. Select VMware SVGA display adapter and click OK.\n9. Answer Yes to the on-screen question, then click Next to install the driver. After \nthe driver is installed, click Finish."
  },
  {
    "page": 84,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n85\n10. Click Close in the SVGA Properties dialog box, then click Close in the Display \nSettings dialog box.\n11. Click Yes to restart Windows 98 and start using the new video driver.\n12. The VMware Tools background application starts automatically when you reboot \nyour virtual machine.\nWindows 95\n1. After installing VMware Tools, click Finish. The Display Settings dialog box \nappears. \n2. Click the Advanced Properties button. The Advanced Display Properties dialog \nbox appears.\n3. Click the Change button. The Select Device dialog box appears. \n4. Select Have Disk.\n5. Enter the following path:\nD:\\video\\win9x\nD: is the drive letter for the first virtual CD-ROM drive in your virtual machine. \nClick OK.\n6. Click OK again to install the driver.\n7. Click Close from the Advanced Display Properties dialog box, then click Close \nfrom the Display Setting dialog box.\n8. Click Yes to restart Windows 95 and start using the new video driver.\n9. The VMware Tools background application starts automatically when you reboot \nyour virtual machine.\nVMware Tools for Linux Guests\n1. Power on the virtual machine.\n2. After the guest operating system has started, prepare your virtual machine to \ninstall VMware Tools. \nChoose VM > Install VMware Tools. \nThe remaining steps take place inside the virtual machine. \n3. Be sure the guest operating system is running in text mode. You cannot install \nVMware Tools from a terminal in an X window session.\nSome recent distributions of Linux are configured to run the X server when they \nboot and do not provide an easy way to stop the X server. However, you can"
  },
  {
    "page": 85,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n86\nVMware Workstation 4 User’s Manual\nswitch to a different workspace that is still in text mode and install VMware Tools \nfrom that workspace.\nTo switch between Linux workspaces in a virtual machine, press Ctrl-Alt-Space, \nrelease Space without releasing Ctrl and Alt, then press the function key for the \nworkspace you want to use — for example, F2. If you change your hot key \ncombination to something other than Ctrl-Alt, use that new combination with \nSpace and the function key.\n4. As root (su -), mount the VMware Tools virtual CD-ROM image, change to a \nworking directory (for example, /tmp), uncompress the installer, then unmount \nthe CD-ROM image.\nNote: You do not use an actual CD-ROM to install VMware Tools, nor do you \nneed to download the CD-ROM image or burn a physical CD-ROM of this image \nfile. The VMware Workstation software contains an ISO image that looks like a \nCD-ROM to your guest operating system. This image contains all the files needed \nto install VMware Tools in your guest operating system.\nNote: Some Linux distributions use different device names or organize the \n/dev directory differently. If your CD-ROM drive is not /dev/cdrom, modify \nthe following commands to reflect the conventions used by your distribution.\nmount /dev/cdrom /mnt\ncd /tmp\ntar zxf /mnt/vmware-linux-tools.tar.gz\numount /mnt \n5. Run the VMware Tools installer.\ncd vmware-tools-distrib\n./vmware-install.pl\nRespond to the questions the installer displays on the screen. Be sure to respond \nyes when the installer offers to run the configuration program.\n6. Log out of the root account.\nexit\n7. Start X and your graphical environment.\n8. In an X terminal, launch the VMware Tools background application.\nvmware-toolbox & \nNote: You may run VMware Tools as root or as a normal user. To shrink virtual \ndisks, you must run VMware Tools as root (su -)."
  },
  {
    "page": 86,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n87\nStarting VMware Tools Automatically\nYou may find it helpful to configure your guest operating system so VMware Tools \nstarts when you start your X server. The steps for doing so vary depending on your \nLinux distribution and your desktop environment. Check your operating system \ndocumentation for the appropriate steps to take.\nFor example, in a Red Hat Linux 7.1 guest using GNOME, follow these steps.\n1. Open the Startup Programs panel in the GNOME Control Center.\nMain Menu (click the foot icon in the lower left corner of the screen) > Programs \n> Settings > Session > Startup Programs\n2. Click Add.\n3. In the Startup Command field, enter vmware-toolbox.\n4. Click OK, click OK again, then close the GNOME Control Center.\nThe next time you start X, VMware Tools starts automatically.\nUninstalling VMware Tools\nIf you need to remove VMware Tools from your Linux guest operating system, log on \nas root (su -) and run the following command:\nvmware-uninstall-tools.pl\nVMware Tools for FreeBSD Guests\n1. Power on the virtual machine.\n2. Prepare your virtual machine to install VMware Tools.\nChoose VM > Install VMware Tools. \nThe remaining steps take place inside the virtual machine, not on the host computer. \n3. Be sure the guest operating system is running in text mode. You cannot install \nVMware Tools while X is running.\n4. As root (su -), mount the VMware Tools virtual CD-ROM image, change to a \nworking directory (for example, /tmp), uncompress the installer, then unmount \nthe CD-ROM image.\nNote: You do not use an actual CD-ROM to install VMware Tools, nor do you \nneed to download the CD-ROM image or burn a physical CD-ROM of this image \nfile. The VMware Workstation software contains an ISO image that looks like a \nCD-ROM to your guest operating system. This image contains all the files needed \nto install VMware Tools in your guest operating system."
  },
  {
    "page": 87,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n88\nVMware Workstation 4 User’s Manual\nmount /cdrom \ncd /tmp\ntar zxf /cdrom/vmware-freebsd-tools.tar.gz\numount /cdrom \n5. Run the VMware Tools installer.\ncd vmware-tools-distrib\n./vmware-install.pl\n6. Log out of the root account.\nexit\n7. Start X and your graphical environment\n8. In an X terminal, launch the VMware Tools background application.\nvmware-toolbox & \nNote: You may run VMware Tools as root or as a normal user. To shrink virtual \ndisks, you must run VMware Tools as root (su -).\nNote: In a FreeBSD 4.5 guest operating system, sometimes VMware Tools does not \nstart after you install VMware Tools, reboot the guest operating system or start \nVMware Tools on the command line in the guest. An error message appears: \nShared object 'libc.so.3' not found.\nThe required library was not installed. This does not happen with full installations of \nFreeBSD 4.5, but does occur for minimal installations. To fix the problem of the missing \nlibrary, take the following steps:\n1. Insert and mount the FreeBSD 4.5 installation CD or access the ISO image file.\n2. Change directories and run the installation script.\ncd /cdrom/compat3x\n./install.sh"
  },
  {
    "page": 88,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n89\nInstalling VMware Tools in a NetWare Virtual Machine\n1. Power on the virtual machine.\n2. Prepare your virtual machine to install VMware Tools.\nChoose VM > Install VMware Tools. \nThe remaining steps take place inside the virtual machine. \n3. Load the CD9660.NSS driver so the CD-ROM device mounts the ISO image as \na volume. In the system console, type\nLOAD CD9660.NSS\n4. When the driver finishes loading, you can begin installing VMware Tools. In the \nsystem console, type\nvmwtools:\\setup.ncf\n5. Restart the guest operating system. In the system console, type\nrestart server"
  },
  {
    "page": 89,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n90\nVMware Workstation 4 User’s Manual\nVMware Tools Configuration Options\nThis section shows the options available in a Windows XP guest operating system. \nSimilar configuration options are available in VMware Tools for other guest operating \nsystems.\nWhen VMware Tools is running, an icon with the VMware boxes logo appears in the \nguest operating system’s system tray.\nTo open the VMware Tools control panel, double-click the VMware Tools icon in the \nsystem tray.\nIf the VMware Tools icon does not appear in the system tray, go to Start > Control \nPanel. Locate the VMware Tools icon and double-click it.\nThe Options tab shows the Miscellaneous Options.\n•\nTime synchronization between the virtual machine and the host operating \nsystem\nNote: You can synchronize the time in the guest operating system with the \ntime on the host operating system only when you set the clock in the guest \noperating system to a time earlier than the time set on the host.\nUnder some circumstances, the virtual machine may synchronize time with the \nhost even though this item is not selected. If you want to disable time \nsynchronization completely, open the virtual machine's configuration file (.vmx) \nin a text editor and set the following options to FALSE.\ntools.syncTime\ntools.synchronize.restore\ntime.synchronize.resume.disk\ntime.synchronize.continue\ntime.synchronize.shrink"
  },
  {
    "page": 90,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n91\n•\nShow VMware Tools in the taskbar\nThe Devices tab allows you to enable or disable removable devices. (You can also set \nthese options from the Edit menu of the VMware Workstation application.)\nThe Scripts tab (available only in Windows guests) lets you enable, disable and run \nscripts that are associated with the Suspend, Resume, Power On and Power Off \nbuttons.\nWindows hosts: If the virtual machine is configured to use DHCP, the script executed \nwhen suspending a virtual machine releases the IP address of the virtual machine. The \nscript executed when resuming a virtual machine renews the IP address of the virtual \nmachine. \nLinux hosts: The script executed when suspending a virtual machine stops \nnetworking for the virtual machine. The script executed when resuming a virtual \nmachine starts networking for the virtual machine.\nTo run one of these scripts at some other time, select the script you want from the \ndrop-down menu, then click Run Now.\nTo disable all scripts, deselect Use Scripts.\nNote: Scripts cannot be run in Windows 95, NetWare and FreeBSD guest operating \nsystems."
  },
  {
    "page": 91,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n92\nVMware Workstation 4 User’s Manual\nNote: Scripts in Windows NT and Windows Me guest operating systems do not \nrelease and renew the IP address. \nThe Shared Folders tab provides information on where to find your shared folders.\nFor more information on shared folders, see Using Shared Folders on page 113.\nThe Shrink tab gives you access to the controls you need if you wish to reclaim unused \nspace in a virtual disk.\nIn some configurations, it is not possible to shrink virtual disks. If your virtual machine \nuses such a configuration, the Shrink tab displays information explaining why you \ncannot shrink your virtual disks. \nUsing the System Console to Configure VMware Tools in a \nNetWare Guest Operating System\nYou can configure certain virtual machine options such as time synchronization, CPU \nidling and device configuration with VMware Tools in a NetWare virtual machine \nusing the system console. The VMware Tools command line program is called \nvmwtool. To see the options associated with this command, at the system console, \ntype\nvmwtool help"
  },
  {
    "page": 92,
    "chapter": "Creating a New Virtual Machine",
    "text": "C H A P T E R  4  Creating a New Virtual Machine\n93\nSummary of VMware Tools Commands for a NetWare Guest \nEach command in the following table must be entered into the system console after \nthe VMware Tools command vmwtool. Use the following format:\nvmwtool <command>\nvmwtool Command\nDefinition\nhelp\nDisplays a summary of VMware Tools commands and options in \na NetWare guest.\npartitonlist\nDisplays a list of all disk partitions in the virtual disk and whether \nor not a partition can be shrunk. \nshrink <partition> \nShrinks the listed partitions. If no partitions are specified, then all \npartitions in the virtual disk are shrunk.\nThe status of the shrink process appears at the bottom of the \nsystem console.\ndevicelist\nLists each removable device in the virtual machine, its device ID \nand whether the device is enabled or disabled. Removable \ndevices include the virtual network adapter, CD-ROM and \nfloppy drives.\ndisabledevice <device \nname> \nDisables the specified device or devices in the virtual machine. \nIf no device is specified, then all removable devices in the virtual \nmachine are disabled.\nenabledevice <device \nname>\nEnables the specified device or devices in the virtual machine. If \nno device is specified, then all removable devices in the virtual \nmachine are enabled.\nsynctime [on|off]\nLets you turn on or off synchronization of time in the guest \noperating system with time on the host operating system. By \ndefault, time synchronization is turned off. \nUse this command without any options to view the current \ntime synchronization status.\nYou can synchronize the time in the guest operating system \nwith time on the host operating system only when the time in \nthe guest operating system is earlier than the time set in the \nhost.\nidle [on|off]\nLets you turn on or off the CPU idler. By default, the idler is \nturned on. The CPU idler program is included in VMware Tools \nfor NetWare guests.\nThe idler program is needed because NetWare servers do not \nidle the CPU when the operating system is idle. As a result, a \nvirtual machine takes CPU time from the host regardless of \nwhether the NetWare server software is idle or busy."
  },
  {
    "page": 93,
    "chapter": "Creating a New Virtual Machine",
    "text": "www.vmware.com\n94\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 94,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R5\n95\nRunning VMware Workstation\nAfter you have installed VMware Workstation, a guest operating system and VMware \nTools, how do you run your virtual machine? The following sections give you \nhighlights of the most common tasks. \n•\nOverview of the VMware Workstation Window on page 97\n•\nStarting a Virtual Machine on page 103\n• Starting a Virtual Machine on a Windows Host on page 103\n• Starting a Virtual Machine on a Linux Host on page 104\n•\nChecking the Status of VMware Tools on page 106\n•\nControlling the Display on page 107\n• Using Full Screen Mode on page 107\n• Using Quick Switch Mode on page 107\n• Taking Advantage of Multiple Monitors on page 108\n• Fitting the VMware Workstation Window to the Virtual Machine on page 108"
  },
  {
    "page": 95,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n96\nVMware Workstation 4 User’s Manual\n• Fitting a Windows Guest Operating System’s Display to the VMware \nWorkstation Window on page 109\n• Simplifying the Screen Display on page 109\n•\nInstalling New Software on page 111\n•\nCutting, Copying and Pasting Text on page 112\n•\nUsing Shared Folders on page 113\n•\nUsing Drag and Drop on page 116\n•\nSuspending and Resuming Virtual Machines on page 117\n•\nTaking and Reverting to a Snapshot on page 118\n•\nShutting Down a Virtual Machine on page 119\n•\nRemoving a Virtual Machine on page 120\n•\nUsing Devices in a Virtual Machine on page 121\n• Adding, Configuring and Removing Devices in a Virtual Machine on page 121\n• Connecting and Disconnecting Removable Devices on page 121\n•\nCreating a Screen Shot of a Virtual Machine on page 123\n•\nChecking for Product Updates on page 124\n•\nSetting Preferences for VMware Workstation on page 125\n•\nCommand Reference on page 129\n• Startup Options on a Linux Host on page 129\n• Startup Options on a Windows Host on page 129\n• Keyboard Shortcuts on page 130\nFor purposes of illustration, the examples in these sections use a Windows XP guest \noperating system. Some commands used in the illustrations are different from those \nused in other guest operating systems."
  },
  {
    "page": 96,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n97\nOverview of the VMware Workstation \nWindow\nThink of your VMware Workstation virtual machine as a separate computer that runs in \na window on your physical computer's desktop. The Workstation window lets you run \nmultiple virtual machines and switch easily from one to another.\nWhen no virtual machine is running, you see the VMware Workstation home page. \nUse the icons on the home page to start creating a new virtual machine or open an \nexisting virtual machine.\nOne Window or Many \n— Your Choice\n• In VMware Workstation \n4, you can open \nmultiple virtual \nmachines in the same \nWorkstation window. \nOr you can launch \nmultiple instances of \nVMware Workstation. \nYou can even run \nmultiple instances of \nVMware Workstation \nand have more than \none virtual machine in \neach window. Just be \nsure you have enough \nmemory and \nprocessor power to \nhandle the number of \nvirtual machines you \nwant to run."
  },
  {
    "page": 97,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n98\nVMware Workstation 4 User’s Manual\nTo close the home page, click the X to the right of the tabs on a Windows host or the \nX on the tab on a Linux host. To display the home page again, choose View > Go to \nHome Tab.\nVMware Workstation main window on a Windows host"
  },
  {
    "page": 98,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n99\nWindows host: Right-click the icon for a removable device on the status bar to \ndisconnect it or edit its configuration.\nVMware Workstation main window on a Linux host"
  },
  {
    "page": 99,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n100\nVMware Workstation 4 User’s Manual\nInstead of using physical buttons to turn this computer on and off, you use buttons on \nthe toolbar at the top of the VMware Workstation window. \nToolbar when virtual machine is powered off (as seen on a Windows host)\nToolbar when virtual machine is powered off (as seen on a Linux host)\nToolbar when virtual machine is powered on (as seen on a Windows host)\nToolbar when virtual machine is powered on (as seen on a Linux host)\nToolbar when virtual machine is suspended (as seen on a Windows host)\nToolbar when virtual machine is suspended (as seen on a Linux host)\nThere are separate Power Off and Power On buttons. When you suspend a virtual \nmachine, the Power On button becomes a Resume button. \nMenus in VMware Workstation 4.5 are organized somewhat differently from those in \nVMware Workstation 4.0. The following table lists the locations for the most \ncommonly used menu items that have been moved:\nOld Location\nNew Location\nFile > New > New Virtual Machine\nFile > New Virtual Machine\nFile > New > New Window\nFile > New Window\nFile > Install VMware Tools\nVM > Install VMware Tools\nFile > Upgrade Virtual Hardware\nVM > Upgrade Virtual Hardware\nFile > Add <vmname> to Favorites\nVM > Add to Favorites\nFile > Remove <vmname> from Favorites\nVM > Remove from Favorites\nPower > Send Ctrl+Alt+Del\nVM > Send Ctrl+Alt+Del\nPower > Grab Input\nVM > Grab Input"
  },
  {
    "page": 100,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n101\nWhen a virtual machine is active, its virtual machine name is displayed in a tab at the \ntop of the virtual machine window. To switch from one active virtual machine to \nanother, click the tab of the virtual machine you want to see. It’s like a soft KVM switch. \nYou can use this feature in the windowed view and also in the quick switch view.\nTabs make it easy to switch among active virtual machines (as seen on a Windows host)\nIf you want to view more than one virtual machine at the same time, you can open \nmultiple Workstation windows and launch one or more virtual machines in each.\nAdd virtual machines you use often to the Favorites list (as seen on a Windows host). Right-click in the Favor-\nites pane to create a folder. Drag and drop virtual machine names into folders to organize them.\nThe Favorites list gives you a convenient way to open frequently used virtual \nmachines. To add a virtual machine to the Favorites list, open the virtual machine \n(File > Open), then choose VM > Add to Favorites. To remove an item from the list, \nclick it to highlight it, then choose VM > Remove from Favorites.\nIndicators on the icons for virtual machines in the Favorites list show whether a virtual \nmachine is powered off, powered on or suspended.\nEdit > Removable Devices\nVM > Removable Devices\nEdit > Application Settings\nEdit > Preferences\nEdit > Virtual Machine Settings\nVM > Settings\nOld Location\nNew Location"
  },
  {
    "page": 101,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n102\nVMware Workstation 4 User’s Manual\nTo toggle the display of the Favorites list on or off, click the Favorites button on the \ntoolbar.\nUse the virtual machine settings editor to add, remove and modify virtual machine components\nThe virtual machine settings editor on Linux hosts now matches the virtual machine \nsettings editor on Windows hosts. To change settings for a device, click its name in the \nlist on the left, then make changes in the right-hand pane. Click Add and follow the \ndirections in the Add Hardware Wizard to add a new device. To remove a device, click \nits name in the list on the left, then click Remove.\nWhen you have finished making changes, click OK to save the changes and close the \nvirtual machine settings editor. \nAn alert appears in the status bar — at the bottom left corner of the VMware \nWorkstation window — when your virtual machine is not running the version of \nVMware Tools that matches your version of VMware Workstation. To launch the \nVMware Tools installer, choose VM > Install VMware Tools.\nNote: Your guest operating system must be completely installed and running when \nyou install VMware Tools.\nFor details, see Installing VMware Tools on page 81."
  },
  {
    "page": 102,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n103\nStarting a Virtual Machine\nTo start a virtual machine, take the steps described below for your host operating \nsystem.\nStarting a Virtual Machine on a Windows Host\n1. Start VMware Workstation by double-clicking the shortcut on your desktop or \nlaunch the program from the Start menu (Start > Programs > VMware > \nVMware Workstation).\nThe VMware Workstation window opens.\n2. Select the name of the virtual machine you want to use in the Favorites list at the \nleft of the Workstation window. \nIf the virtual machine you want to use is not shown there, choose File > Open \nand browse to the configuration (.vmx) file for the virtual machine you want to \nuse. (On a Linux host, a virtual machine created with an earlier VMware product \nmay have a configuration file with a .cfg extension.) To add that virtual \nmachine to the Favorites list so you can open it easily the next time you want to \nuse it, choose VM > Add to Favorites."
  },
  {
    "page": 103,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n104\nVMware Workstation 4 User’s Manual\nNote: By default, VMware Workstation 4 stores virtual machines in the \nMy Documents folder of the user who is logged on when the virtual machine \nis created. On Windows Server 2003, Windows XP and Windows 2000, the \ndefault folder is C:\\Documents and Settings\\<username>\\My \nDocuments\\My Virtual Machines\\<guestOSname>. On Windows \nNT, the default folder is \nC:\\WINNT\\Profiles\\<username>\\Personal\\My Virtual \nMachines\\<guestOSname>. \n3. Click the Power On button to start the virtual machine.\n4. Click anywhere inside the virtual machine window to give the virtual machine \ncontrol of your mouse and keyboard.\n5. If you need to log on, type your name and password just as you would on a \nphysical computer. If your guest operating system asks you to press Ctrl-Alt-Del \nbefore logging in, press Ctrl-Alt-Ins, instead.\nRemoving a Name from the Favorites List\nYou can remove the name of a virtual machine from the Favorites list at any time. \nRemoving the name from the list does not affect the virtual machine’s files. You can \nadd the virtual machine to the list again at any time.\nTo remove a name from the Favorites list, take these steps.\n1. Click a name in the list to select it.\n2. Choose VM > Remove from Favorites.\nStarting a Virtual Machine on a Linux Host\n1. Open a terminal window, type vmware & and press Enter.\n2. Select the name of the virtual machine you want to use in the Favorites list at the \nleft of the Workstation window. \nIf the virtual machine you want to use is not shown in the Favorites list, go to File \n> Open and browse to the configuration file (.vmx or .cfg file) for the virtual \nmachine you want to use. To add that virtual machine to the Favorites list so you \ncan open it easily the next time you want to use it, click Add, make any changes \nyou wish to the display name and location in the Favorites list, then click OK.\nNote: By default, VMware Workstation 4 stores virtual machines in \n<homedir>/vmware/<guestOSname>, where <homedir> is the home \ndirectory of the user who is logged on when the virtual machine is created. \n3. Click the Power On button to start the virtual machine."
  },
  {
    "page": 104,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n105\n4. Click anywhere inside the virtual machine window to give the virtual machine \ncontrol of your mouse and keyboard.\n5. If you need to log on, type in your name and password just as you would on a \nphysical computer."
  },
  {
    "page": 105,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n106\nVMware Workstation 4 User’s Manual\nChecking the Status of VMware Tools\nFor best performance, it is important to have VMware Tools installed and running in \nyour virtual machine. \nAfter you install VMware Tools in a Windows virtual machine, the VMware Tools \nservices start automatically when you start the guest operating system. \nWhen VMware Tools is running in a Windows virtual machine, the VMware Tools icon appears in the system \ntray unless you disable the icon.\nIf the VMware Tools icon is not displayed in the system tray, you can use the VMware \nTools control panel in the guest operating system. Go to Start > Settings > Control \nPanel or Start > Control Panel, depending on the version of Windows you are using, \nlocate the VMware Tools icon and double-click it to change settings for VMware Tools. \nYou can also reactivate the system tray icon. On the Options tab, check Show \nVMware Tools in the taskbar.\nIn a Linux or FreeBSD virtual machine, boot the guest operating system, start X and \nlaunch your graphical environment. Then you can launch the VMware Tools \nbackground application with this command:\nvmware-toolbox & \nYou may run VMware Tools as root or as a normal user. To shrink virtual disks, you must \nrun VMware Tools as root (su -).\nWith some window managers, you can place the command to start VMware Tools in a \nstartup configuration so VMware Tools starts automatically when you start your \ngraphical environment. Consult your window manager’s documentation for details."
  },
  {
    "page": 106,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n107\nControlling the Display\nYou can control the VMware Workstation display in a variety of ways to suit the way \nyou prefer to work with your virtual machines.\nUsing Full Screen Mode \nVirtual machines run faster in full screen mode. \nIf you want your VMware Workstation virtual machine’s display to fill the screen — so \nyou no longer see the borders of the VMware Workstation window — click the Full \nScreen button on the toolbar. You can also use a keyboard shortcut — press the Ctrl-\nAlt-Enter keys at the same time.\nTo get out of full screen mode — to show your virtual machine inside a VMware \nWorkstation window again — press the Ctrl-Alt key combination. \nLinux hosts: You can switch between virtual machines without leaving full screen \nmode by using a Ctrl-Alt-Fn key combination, where Fn is a function key \ncorresponding to the virtual machine you want to see. To find out what function key \nto use for a particular virtual machine, check the title bar of the virtual machine while \nit is running in a window.\nWindows hosts: For similar functionality, see Using Full Screen Switch Mode on \npage 334.\nNote: VMware Workstation does not support running virtual machines in full screen \nmode on dual-monitor systems.\nUsing Quick Switch Mode\nQuick switch mode is similar to full screen mode with the addition of tabs at the top of \nthe screen for switching from one active virtual machine to another. The virtual \nmachine’s screen is resized to fill the screen completely, except for the space occupied \nby the tabs.\nTo enter quick switch mode, choose View > Quick Switch.\nTo view the VMware Workstation menu and toolbar while you are using quick switch \nmode, move the mouse pointer to the top of the screen. \nTo resize a Windows guest operating system’s display so it fills as much of the screen \nas possible in quick switch mode, choose View > Fit Guest to Window. The Fit Guest \nto Window option works only if you have the current version of VMware Tools \ninstalled in the guest operating system."
  },
  {
    "page": 107,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n108\nVMware Workstation 4 User’s Manual\nNote: When you choose Fit Guest to Window, VMware Workstation adjusts the \ndisplay settings of your Windows guest operating system as needed. If you \nsubsequently run the virtual machine in normal mode, you may want to change the \ndisplay settings back to their previous values.\nTo get out of quick switch mode, move the mouse pointer to the top of the screen to \nactivate the menu, then choose View > Quick Switch.\nTaking Advantage of Multiple Monitors\nIf your host has a standard multiple monitor display, you can run separate sets of \nvirtual machines on each of the monitors. To use two monitors, launch two instances \nof VMware Workstation. Start one or more virtual machines in each VMware \nWorkstation window, then drag each VMware Workstation window to the monitor on \nwhich you want to use it. For the largest possible screen display, switch each of the \nwindows to quick switch mode (View > Quick Switch).\nTo switch mouse and keyboard input from the virtual machine on the first screen to \nthe virtual machine on the second screen, move the mouse pointer from one to the \nother. You do not need to take any special steps if VMware Tools is running in both \nguest operating systems and if you are using the default settings for grabbing input. If \nyou have changed the defaults, you may need to press Ctrl-Alt to release the mouse \npointer from the first virtual machine, move it to the second virtual machine, then \nclick in the second virtual machine so it will grab control of mouse and keyboard \ninput.\nNote: Multiple monitor support is experimental in this release of VMware \nWorkstation. It does not work properly with some third-party desktop management \nsoftware or display drivers.\nNote: If you switch to full screen mode, VMware Workstation always uses the primary \ndisplay. To use multiple monitors, you must use either the normal (windowed) mode \nor quick switch mode.\nFitting the VMware Workstation Window to the Virtual \nMachine\nThe View menu gives you two ways to adjust the size of the VMware Workstation \nwindow so it exactly fits the virtual machine’s display.\nAutofit is toggled on or off each time you click it. When Autofit is on, the window \nadjusts automatically to fit the virtual machine’s display. When it is off, you can adjust \nthe window to a size of your choice. If you make the window smaller than the virtual"
  },
  {
    "page": 108,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n109\nmachine’s display, scroll bars appear so you can move to the part of the virtual \nmachine’s display that you want to see.\nIf Autofit is off, you can choose View > Fit to adjust the VMware Workstation window \nso it fits the virtual machine’s display.\nFitting a Windows Guest Operating System’s Display to the \nVMware Workstation Window \nIf your Windows guest operating system is set to a display resolution larger or smaller \nthan the size of the virtual machine window, you can make it fit exactly by choosing \nView > Fit Guest to Window.\nWhen you choose Fit Guest to Window, VMware Workstation adjusts the display \nsettings of your Windows guest operating system as needed. If you want s to change \nthe display settings back to their previous values, use the guest operating system’s \ncontrols to make the change.\nNote: When you use the Fit Guest to Window option and the window is small, your \nguest operating system’s screen resolution may be set to something smaller than VGA \n(640 x 480). Some installers and other programs do not run at resolutions smaller than \n640 x 480. If either width or height is smaller than the corresponding dimension \nrequired for VGA, the programs refuse to run. Error messages may include such \nphrases as “VGA Required To Install” or “You must have VGA to install.”\nThere are two ways to work around this problem.\n•\nIf your host computer's screen resolution is high enough, you can enlarge the \nwindow, then choose Fit Guest to Window.\n•\nIf your host computer's screen resolution does not allow you to enlarge the \nwindow enough, manually set the guest operating system's screen resolution to \n640 x 480 or larger.\nSimplifying the Screen Display\nIf you prefer, you can turn off display of many of the controls visible in the VMware \nWorkstation window.\nUse the View menu to toggle the following controls on or off:\n•\nFavorites\n•\nToolbar\n•\nStatus bar\n•\nVirtual machine tabs"
  },
  {
    "page": 109,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n110\nVMware Workstation 4 User’s Manual\nOn a Windows host, you can also hide the menu bar. To do so, click the title bar icon, \nthen choose Hide Controls.\nChoosing Hide Controls hides the menu bar, the toolbar, the status bar and the \nFavorites panel.\nFor the simplest possible VMware Workstation window on a Windows host, first \nchoose View > Virtual Machine Tabs to turn off the tabs. Then, from the title bar icon \nshortcut menu, choose Hide Controls.\nUsing the View menu and the title bar icon shortcut menu, you can remove all visible controls from the \nVMware Workstation window."
  },
  {
    "page": 110,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n111\nInstalling New Software \nInstalling new software in a VMware Workstation virtual machine is just like installing it \non a physical computer. For example, to install software in a Windows virtual machine, \ntake the following steps:\n1. Be sure you have started the virtual machine and, if necessary, logged on. On the \nWorkstation menus, check VM > Removable Devices to be sure the virtual \nmachine has access to the CD-ROM drive and, if needed, the floppy drive. \n2. Insert the installation CD-ROM or floppy disk into the proper drive. If you are \ninstalling from a CD-ROM, the installation program may start automatically. \n3. If the installation program does not start automatically, click the Windows Start \nbutton, go to Settings > Control Panel, then double-click Add/Remove \nPrograms and click the Install button. Follow the instructions on screen and in \nthe user manual for your new software. \nNote: Some applications use a product activation feature that creates a key, based \non the virtual hardware in the virtual machine where it is installed. Changes in the \nconfiguration of the virtual machine may require you to reactivate the software. To \nminimize the number of significant changes, set the final memory size for your virtual \nmachine and install VMware Tools before you activate the software.\nNote: When you try to run a few programs — including the installer for the \nJapanese-language version of Trend Micro Virus Buster — Workstation may appear to \nhang. For the workaround to this problem, see the troubleshooting note on the \nVMware Web site at www.vmware.com/info?id=30."
  },
  {
    "page": 111,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n112\nVMware Workstation 4 User’s Manual\nCutting, Copying and Pasting Text\nWhen VMware Tools is running, you can cut (or copy) and paste text between \napplications in the virtual machine and the host computer or between two virtual \nmachines. Use the normal hot keys or menu choices to cut, copy and paste.\nTo turn off this feature — to prevent accidental copying and pasting from one \nenvironment to another — change your preferences.\nChoose Edit > Preferences. On the Input tab, clear the check box beside Enable copy \nand paste to and from virtual machine."
  },
  {
    "page": 112,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n113\nUsing Shared Folders\nWith shared folders, you can easily share files among virtual machines and the host \ncomputer. To use shared folders, you must have the current version of VMware Tools \ninstalled in the guest operating system and you must use the virtual machine settings \neditor to specify which directories are to be shared. \nYou can use shared folders with virtual machines running the following guest \noperating systems:\n•\nWindows Server 2003\n•\nWindows XP\n•\nWindows 2000\n•\nWindows NT 4.0\n•\nLinux with a kernel version of 2.4 or higher\nTo set up one or more shared folders for a virtual machine, be sure the virtual machine \nis open in Workstation and click its tab to make it the active virtual machine. Go to VM \n> Settings > Options and click Shared folders.\nYou can add one or more directories to the list. Those directories may be on the host \ncomputer or they may be network directories accessible from the host computer.\nIn a Windows virtual machine, shared folders appear in My Network Places (Network \nNeighborhood in a Windows NT virtual machine) under VMware Shared Folders. For \nexample, if you specify the name Test files for one of your shared folders, you \ncan navigate to it by opening My Network Places > VMware Shared Folders > .host \n> Shared Folders > Test files."
  },
  {
    "page": 113,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n114\nVMware Workstation 4 User’s Manual\nYou can also go directly to the folder using the UNC path \n\\\\.host\\Shared Folders\\Test files. \nYou can map a shared folder to a drive letter just as you would with a network share. \nNote: To see shared folders displayed in this way, you must update VMware Tools in \nthe virtual machine to the current version. If your guest operating system has the \nversion of VMware Tools that shipped with VMware Workstation 4.0, shared folders \nappear as folders on a designated drive letter.\nIn a Linux virtual machine, shared folders appear under /mnt/hgfs. So the shared \nfolder in this example would appear as /mnt/hgfs/Test files.\nTo add a new shared folder to the list, click Add. On a Windows host, a wizard guides \nyou through the process. On a Linux host, a dialog box appears. Enter the required \ninformation, then click OK.\nProvide the following information:\n•\nThe path on the host to the directory you want to share. Type in the full path or \nbrowse to the directory.\n•\nThe name for the directory. This is the name that appears inside the virtual \nmachine.\n•\nWhether the shared folder is enabled. You may want to add a folder to the list \nwithout enabling it immediately. You can then enable the folder at any time by \nclicking its name in this list, clicking Properties and enabling the folder in the \nProperties dialog box.\n•\nAccess options for the shared folder. You can give the current virtual machine \nread-only access, or read-write access. Access to files in the shared folder is also \ngoverned by permission settings on the host computer. For example, if you are \nrunning VMware Workstation as a user named User, the virtual machine can read \nand write files in the shared folder only if User has permission to read and write \nthem.\n•\nExpiration options for the shared folder. You can specify that the folder is always \nenabled or that it is enabled only during the current working session. If you \nselect Disable after this session, the shared folder is disabled when you suspend \nor power off the virtual machine."
  },
  {
    "page": 114,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n115\nTo change the settings for a shared folder on the list, click the folder’s name to \nhighlight it, then click Properties. The Properties dialog box appears.\nChange any settings you wish, then click OK.\nNote: You can use shared folders to share any type of file. However, Windows \nshortcuts and Linux symbolic links do not work correctly if you try to use them via \nshared folders.\nCaution: Do not open a file in a shared folder from more than one application at a \ntime. For example, you should not open the same file using an application on the host \noperating system and another application in the guest operating system. In some \ncircumstances, doing so could cause data corruption in the file."
  },
  {
    "page": 115,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n116\nVMware Workstation 4 User’s Manual\nUsing Drag and Drop\nWith the drag and drop features of VMware Workstation 4, you can move files easily \nbetween a Windows host and a Windows virtual machine. You can drag and drop \nindividual files or entire directories.\nYou can drag and drop files or folders from a file manager, such as Windows Explorer, \non the host to a file manager in the virtual machine or vice versa. You can also drag \nfiles from a file manager to an application that supports drag and drop — or from \napplications such as zip file managers that support drag-and-drop extraction of \nindividual files.\nWhen you drag a file or folder from host to virtual machine or from virtual machine to \nhost, Workstation copies the file or folder to the location where you drop it. This \nmeans, for example, that if you drop a file on the desktop icon of a word processor, the \nword processor opens with a copy of the original file. The original file does not reflect \nany changes you make to the copy.\nInitially, the application opens using a copy of the file that is stored in your temp \ndirectory (as specified in the %TEMP% environment variable). To protect any changes \nyou make, choose File > Save As from the application’s menu and save the file in a \ndifferent directory. Otherwise it may be overwritten or deleted by mistake.\nTo disable or enable drag and drop for a virtual machine:\n1. Open the virtual machine settings editor (VM > Settings), click the Options tab \nand select Guest isolation.\n2. Select Disable drag and drop to and from this virtual machine to disable the \nfeature. Deselect it to enable the feature."
  },
  {
    "page": 116,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n117\nSuspending and Resuming Virtual \nMachines\nYou can save the current state of your virtual machine by suspending it. Later, you can \nresume the virtual machine to pick up work quickly, right where you stopped — with \nall documents you were working on open and all applications in the same state as \nthey were at the time you suspended the virtual machine. \nTo suspend a virtual machine:\n1. If your virtual machine is running in full screen mode, return to window mode by \npressing the Ctrl-Alt key combination.\n2. Click Suspend on the VMware Workstation toolbar.\n3. When VMware Workstation has completed the suspend operation, it is safe to \nexit VMware Workstation.\nFile > Exit\nTo resume a virtual machine that you have suspended: \n1. Start VMware Workstation and choose a virtual machine you have suspended. \nThe process is the same as that described in Starting a Virtual Machine on \npage 103 or Starting a Virtual Machine on a Linux Host on page 104.\n2. Click Resume on the VMware Workstation toolbar.\nNote that any applications you were running at the time you suspended the \nvirtual machine are running and the content is the same as it was when you \nsuspended the virtual machine.\nFor more information, see Using Suspend and Resume on page 199."
  },
  {
    "page": 117,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n118\nVMware Workstation 4 User’s Manual\nTaking and Reverting to a Snapshot\nVMware Workstation lets you take a snapshot of a virtual machine at any time and \nrevert to that snapshot at any time.\nYou can take a snapshot while a virtual machine is powered on, powered off or \nsuspended. A snapshot preserves the virtual machine just as it was when you took the \nsnapshot — the state of the data on all the virtual machine’s disks and whether the \nvirtual machine was powered on, powered off or suspended.\nWhen you revert to a snapshot, you discard all changes made to the virtual machine \nsince you took the snapshot.\nUse the Snapshot and Revert buttons on the Workstation toolbar to take a snapshot \nand revert to it later.\nYou can take a new snapshot at any time. When you do so, you replace the previous \nsnapshot. You can have only one active snapshot at a time.\nFor more information, including examples of ways you can use the snapshot, see \nUsing the Snapshot on page 200."
  },
  {
    "page": 118,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n119\nShutting Down a Virtual Machine \nAs with physical computers, you need to shut down your guest operating system \nbefore you power off your virtual machine. In a Windows guest operating system, take \nthese steps.\n1. Select Shut Down from the Start menu of the guest operating system (inside \nthe virtual machine).\n2. Select Shut Down, then click OK.\n3. After the guest operating system shuts down, you can turn off the virtual \nmachine. Click Power Off.\n4. Now it is safe to exit VMware Workstation. \nFile > Exit\nIf you are using a different guest operating system, the procedure is similar. Follow the \nusual steps to shut down the guest operating system inside your virtual machine, \nthen turn off the virtual machine with the Power Off button and exit VMware \nWorkstation."
  },
  {
    "page": 119,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n120\nVMware Workstation 4 User’s Manual\nRemoving a Virtual Machine\nTo completely remove a virtual machine, remove the virtual machine’s name from the \nFavorites list and delete its files from the host computer.\nTo remove the virtual machine name from the Favorites list, right-click the name and \nchoose Remove. This choice affects only the listing in the Favorites list; it leaves all \nvirtual machine files on the computer.\nTo delete the virtual machine’s files from the host computer, navigate to the folder \nthat holds the virtual machine’s files, then delete the folder and all the files it contains. \nFor more information on the files that are part of a virtual machine, see What’s in a \nVirtual Machine? on page 67."
  },
  {
    "page": 120,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n121\nUsing Devices in a Virtual Machine\nFollow the guidelines in this section to add, remove, configure, connect and \ndisconnect your virtual machine’s devices.\nAdding, Configuring and Removing Devices in a Virtual \nMachine\nThe virtual machine settings editor (VM > Settings) is the control center where you \ncan add devices to a virtual machine, change the settings for those devices and \nremove them.\nTo add a new device, open the virtual machine settings editor, click Add, then follow \nthe instructions in the Add New Hardware Wizard to add the new device to your \nvirtual machine. Click OK to save your changes and close the virtual machine settings \neditor.\nTo change settings for a device, open the virtual machine settings editor, select the \ndevice you want to modify and make your changes. Click OK to save your changes \nand close the virtual machine settings editor.\nTo remove a device, open the virtual machine settings editor, click the name of the \ndevice you want to remove, then click Remove. Click OK to close the virtual machine \nsettings editor.\nConnecting and Disconnecting Removable Devices\nChoose VM > Removable Devices to connect and disconnect removable devices that \nyou have configured for your virtual machine — including floppy drives, DVD/CD-\nROM drives, USB devices and Ethernet adapters — while the virtual machine is \nrunning."
  },
  {
    "page": 121,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n122\nVMware Workstation 4 User’s Manual\nWhen you choose VM > Removable Devices, a submenu appears. Choose a device \nfrom that menu to connect or disconnect it and to edit device settings. If you choose \nEdit, a dialog box appears. Make all the changes you want to make, then click OK."
  },
  {
    "page": 122,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n123\nCreating a Screen Shot of a Virtual \nMachine\nYou can capture a screen shot of a virtual machine using File > Capture Screen. You \ncan save this image as a bitmap (.bmp) file on a Windows host or as a portable \nnetwork graphics (.png) file on a Linux host."
  },
  {
    "page": 123,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n124\nVMware Workstation 4 User’s Manual\nChecking for Product Updates\nVMware Workstation now checks automatically to see if updates for the product are \navailable. By default, it checks once a week, at the time you launch Workstation. You \ncan also change the interval for the automatic checks. You can have VMware \nWorkstation check once a month, once a week, once each day or never. \nChoose Edit > Preferences > Workspace. Use the Check for updates automatically \ndrop-down list to set the interval.\nYou can check manually at any time by choosing Help > Check for Updates on the \nWeb. \nThis check works only if the host computer is connected to the Internet."
  },
  {
    "page": 124,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n125\nSetting Preferences for VMware \nWorkstation\nThe Preferences dialog box allows you to change a number of settings that apply to \nVMware Workstation itself, no matter what virtual machine you are running. The \nsettings on the Workspace, Input and Hot Keys tabs apply to the user currently \nlogged on to the host computer. They do not affect settings made by any other user \non the computer. The settings on the Memory and Lockout tabs apply no matter \nwhat virtual machine is running or who is logged on to the host computer. The \nsettings on the Priority tab apply to all virtual machines for the user currently logged \non to the host computer. They do not affect settings made by any other user on the \ncomputer.\nTo make changes to these settings, choose Edit > Preferences.\nWorkspace — The Workspace tab lets you change the directory in which newly \ncreated virtual machines are stored. The directory Workstation uses by default is \ndisplayed under Default location for virtual machines. To set a different directory, \ntype in the path or click Browse to navigate to the directory you want to use. \nWorkstation creates a directory for each new virtual machine under the directory you \nspecify here.\nIf you select Remember opened virtual machines between sessions check box, you \nsee a tab for each opened virtual machine in the virtual machine window the next \ntime you start Workstation. A virtual machine is considered opened if both of the \nfollowing conditions are true:\n•\nThe virtual machine was left open.\n•\nThe virtual machine was powered on and off or powered on and suspended."
  },
  {
    "page": 125,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n126\nVMware Workstation 4 User’s Manual\nUse the Check for updates automatically drop-down list to determine how often \nVMware Workstation checks to see if new versions of the product are available. You \ncan choose daily, weekly or monthly automatic checks or choose Never to turn off \nautomatic checking. You can check manually at any time by choosing Help > Check \nfor Updates on the Web. \n.\nInput — The Input tab lets you adjust the way that the virtual machine captures \ncontrol of keyboard and mouse.\nNote: The Grab when cursor enters window option allows you to move the mouse \npointer back into the virtual machine window easily if you have been working in the \nvirtual machine, then temporarily moved the mouse pointer outside the virtual \nmachine window. The mouse pointer is grabbed only when VMware Workstation has \nfocus (is the active application). Also, if you release the mouse pointer by pressing a \nhot-key combination — Ctrl-Alt by default — you must click inside the virtual \nmachine window to make VMware Workstation grab the mouse pointer again.\nHot keys — The Hot Key tab lets you change the key combination that determines \nwhether certain combinations of keys are passed to the guest operating system or \nintercepted by VMware Workstation."
  },
  {
    "page": 126,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n127\nNote: Because Ctrl-Alt is the key combination used to tell VMware Workstation to \nrelease (ungrab) mouse and keyboard input, combinations that include Ctrl-Alt are \nnot passed to the guest operating system. If you need to use such a combination — \nfor example, use Ctrl-Alt-<Fkey> to switch between Linux workspaces in a virtual \nmachine — press Ctrl-Alt-Space, release Space without releasing Ctrl and Alt, then \npress the third key of the key combination you want to send to the guest. \nUsing this dialog box, you can also construct your own custom hot-key combination.\nMemory usage— The Memory tab lets you adjust the amount of physical RAM that \ncan be used by all running virtual machines. It also lets you adjust how much virtual \nmachine memory may be swapped to disk, allowing you to run more or larger virtual \nmachines if you are willing to accept slower performance.\nFor details on adjusting memory settings in VMware Workstation, see Memory Usage \nNotes on page 317.\nProcess priorities — The Priority tab on a Windows host lets you determine the \npriority that the Windows process scheduler gives to your virtual machines when \nmouse and keyboard input are going to a particular virtual machine and when input \nis not going to that virtual machine."
  },
  {
    "page": 127,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n128\nVMware Workstation 4 User’s Manual\nYou can adjust these settings to improve overall system performance based on the \nrelative priority of work you are doing in various virtual machines and on the host \ncomputer.\nTo change the settings for a particular virtual machine, and override the global \nsettings, open the virtual machine you want to adjust, choose VM > Settings, click the \nOptions tab, select Advanced, then use the drop-down lists under Process priorities \nto make the setting you want for that virtual machine.\nThere is no corresponding setting on a Linux host.\nAdministrative lockout for certain features — The Lockout tab on a Windows \nhost lets you restrict who can create new virtual machines, edit virtual machine \nconfigurations and change networking settings. For details, see Locking Out Interface \nFeatures on page 329.\nThere are no corresponding settings on a Linux host."
  },
  {
    "page": 128,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n129\nCommand Reference\nThe following sections describe command line options that are available when you \nlaunch VMware Workstation and keyboard shortcuts you can use while VMware \nWorkstation is running.\nStartup Options on a Linux Host\nThe following list describes various options available when you run VMware \nWorkstation from the command line on a Linux host operating system. \nvmware [-x] [-X] [-q] [-s <variablename>=<value>] \n[-m] [-v] [/<path_to_config>/<config>.vmx ] \n[X toolkit options ] \n-x automatically powers on the virtual machine when VMware Workstation starts. \nThis is equivalent to clicking the Power On button in the VMware Workstation toolbar.\n-X automatically powers on the virtual machine, then switches the VMware \nWorkstation window to full screen mode.\n-q closes the virtual machine’s tab when the virtual machine powers off. If no other \nvirtual machine is open, it also exits VMware Workstation. This is particularly useful \nwhen the guest operating system is capable of powering off the virtual machine.\n-s sets the specified variable to the specified value. Any variable names and values \nthat are valid in the configuration file may be specified on the command line with the \n-s switch.\n-m starts the program in quick switch mode on a Linux host.\n-v displays the product name, version and build number.\n/<path_to_config>/<config>.vmx (or .cfg) launches a virtual machine \nusing the specified configuration file.\nX toolkit options can be passed as arguments, although some of them (most notably \nthe size and title of the VMware Workstation window) cannot be overridden.\nStartup Options on a Windows Host\nMost of the switches described above for Linux can also be used on a Windows host. \nThe -m switch is for Linux hosts only. The most convenient way to use the switches is \nto incorporate them into the command generated by a Windows shortcut.\nCreate the shortcut, right-click the shortcut, then click Properties. In the Target field, \nadd any switches you want to use after the vmware.exe filename. For example,"
  },
  {
    "page": 129,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n130\nVMware Workstation 4 User’s Manual\n\"C:\\Program Files\\VMware\\VMware Workstation\\Programs\\vmware.exe -X \nC:\\Documents and Settings\\<username>\\My Documents\\My Virtual \nMachines\\Windows Me\\Windows Me.vmx\"\nlaunches the Windows Me virtual machine specified, powers it on automatically and \nswitches to full screen mode.\nBe sure to enclose the entire command string in quotation marks.\nNote: On Windows, the configuration file has a .vmx extension by default. Path \nnames on Windows use the backslash character (\\). X toolkit options are not relevant \non a Windows host.\nKeyboard Shortcuts \nIf you prefer to work from the keyboard as much as possible, you may find the \nfollowing keyboard shortcuts handy. If you have changed the Preferences setting for \nthe hot-key combination, substitute your new setting for Ctrl-Alt as needed in the \nshortcuts listed here. \nShortcut\nAction\nCtrl-B\nPower on.\nCtrl-E\nPower off.\nCtrl-R\nReset the power.\nCtrl-Z\nSuspend.\nCtrl-N\nCreate a new virtual machine.\nCtrl-O\nOpen a virtual machine.\nCtrl-F4\nClose the current virtual machine.\nCtrl-D\nEdit the virtual machine’s configuration.\nCtrl-G\nGrab input from keyboard and mouse.\nCtrl-P\nEdit preferences.\nCtrl-Alt-Enter\nGo to full screen mode.\nCtrl-Alt\nReturn to normal (windowed) mode.\nCtrl-Alt-Tab\nSwitch among open virtual machines while mouse and keyboard input are \ngrabbed.\nCtrl-Tab\nSwitch among open virtual machines while mouse and keyboard input are not \ngrabbed. VMware Workstation must be the active application.\nCtrl-Shift-Tab\nSwitch among open virtual machines while mouse and keyboard input are not \ngrabbed. VMware Workstation must be the active application."
  },
  {
    "page": 130,
    "chapter": "Running VMware Workstation",
    "text": "C H A P T E R  5  Running VMware Workstation\n131\nCtrl-Alt-Fx\nLinux hosts: Switch among open virtual machines while using full screen mode. Fx \nis a function key corresponding to the virtual machine you want to use. The key \ncombination to use for a virtual machine is shown in the VMware Workstation title \nbar when that virtual machine is active and in normal (windowed) mode.\nWindows hosts: For similar functionality, see Using Full Screen Switch Mode on \npage 334.\nShortcut\nAction"
  },
  {
    "page": 131,
    "chapter": "Running VMware Workstation",
    "text": "www.vmware.com\n132\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 132,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "C H A P T E R6\n133\nMoving and Sharing Virtual \nMachines\nThe following sections provide information on how to move your virtual machines \nfrom one host to another or elsewhere on the same host, plus recommendations on \nhow to share virtual machines with other users:\n•\nMoving a VMware Workstation 4 Virtual Machine on page 135\n• Virtual Machines Use Relative Paths on page 135\n• Preparing Your Virtual Machine for the Move on page 135\n• Moving a Virtual Machine to a New Host Machine on page 136\n•\nMoving a VMware Workstation 3.1 or 3.2 Virtual Machine on page 137\n• Virtual Machines May Have Relative or Absolute Paths on page 137\n• Preparing Your Virtual Machine for the Move on page 137\n• Moving a Virtual Machine to a New Host Machine on page 138\n•\nMoving an Older Virtual Machine on page 140\n• Preparing Your Virtual Machine for the Move on page 140\n• Preparing the New Host Machine on page 141"
  },
  {
    "page": 133,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "www.vmware.com\n134\nVMware Workstation 4 User’s Manual\n• Considerations for Moving Disks in Undoable Mode on page 142\n•\nSharing Virtual Machines with Other Users on page 144\nNote: When you move a virtual machine to a new host computer or to a different \ndirectory on the same host computer — or when you rename a directory in the path \nto the virtual machine’s configuration file — VMware Workstation generates a \ndifferent MAC address for the virtual Ethernet adapter. For additional information, see \nMaintaining and Changing the MAC Address of a Virtual Machine on page 232."
  },
  {
    "page": 134,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "C H A P T E R  6  Moving and Sharing Virtual Machines\n135\nMoving a VMware Workstation 4 \nVirtual Machine\nWhat do you do if you have created a virtual machine using VMware Workstation and \nyou want to move it to a different computer? Or even somewhere else on the same \ncomputer? The process is not difficult, and in most cases you can even move your \nvirtual machine from a Windows host to a Linux host — or vice versa. If the virtual \nmachine was created under VMware Workstation 4, follow the directions in this \nsection. \nNote: These instructions assume that you are using a virtual disk — stored in a set of \n.vmdk files on your host computer.\nIt’s always safest to make backup copies of all the files in your virtual machine’s \ndirectory before you start a process like this. \nVirtual Machines Use Relative Paths\nThe path names for all files associated with a VMware Workstation 4 virtual machine \nare relative, meaning the path to each file is relative to the currently active directory. \nFor example, if you are in the virtual machine’s directory, the relative path to the virtual \ndisk file is <machine name>.vmdk.\nPreparing Your Virtual Machine for the Move\n1. Shut down the guest operating system and power off the virtual machine. If the \nvirtual machine is suspended, resume it, then shut down the guest operating \nsystem. \n2. Do one of the following:\n• If you are moving the virtual machine to a new host and have a network \nconnection between the original host machine and the new host, you are \nfinished with the preparations on the original host. Otherwise, you need to \nhave a way of moving the virtual disk (.vmdk) files from the virtual machine’s \ndirectory to the new host. You could move them to a shared network \ndirectory, for example, or burn them to CD-ROMs if they are not too large. \nOnce you know how you are going to move the virtual machine, go to \nMoving a Virtual Machine to a New Host Machine on page 136.\n• If you are moving this virtual machine to another directory on this host, then \nyou are ready to make the move. Copy all the files in the virtual machine’s \noriginal directory to the new location. If you stored any files in directories"
  },
  {
    "page": 135,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "www.vmware.com\n136\nVMware Workstation 4 User’s Manual\nother than the virtual machine directory, be sure to move them into a \ndirectory of the same name and same position relative to the location of the \nvirtual machine. \nStart VMware Workstation and open the new virtual machine you just created. \nChoose File > Open, then browse to the virtual machine’s configuration \n(.vmx) file. \nMoving a Virtual Machine to a New Host Machine \n1. Make sure VMware Workstation is installed and working correctly on the new \nhost computer. \n2. Create a directory for the virtual machine you are moving. Locate the virtual disk \nfiles you are moving and copy them into the new directory. Be sure to copy all \nthe files in the virtual machine’s original directory. If you stored any files in \ndirectories other than the virtual machine directory, be sure to move them into a \ndirectory of the same name and same position relative to the location of the \nvirtual machine.\nIf, for some reason, you are not moving a file, make sure you do not have any \npaths pointing to that file. Use the virtual machine settings editor and check to \nsee if your virtual machine is pointing to the correct location for files you do not \nmove. In the virtual machine settings editor, select each device and be sure that \nany devices with associated files are pointed to the correct files. Also, check the \nOptions tab to be sure the location for the redo-log file is correct.\nNote: If you have taken a snapshot of the virtual machine, you can simplify the \nmove by removing the snapshot — or reverting to the snapshot, then removing \nit. If you want to keep the snapshot, be sure to move the redo-log (.REDO) files \nalong with all the other files in the virtual machine’s directory.\n3. Start VMware Workstation and open the virtual machine you just moved. Choose \nFile > Open, then browse to the virtual machine’s configuration (.vmx) file."
  },
  {
    "page": 136,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "C H A P T E R  6  Moving and Sharing Virtual Machines\n137\nMoving a VMware Workstation 3.1 or 3.2 \nVirtual Machine\nIf you want to move a virtual machine created with VMware Workstation 3.1 or 3.2, \nyou may prefer to upgrade it for full compatibility with VMware Workstation 4 before \nmoving it. To do so, run the virtual machine under VMware Workstation 4 and use VM \n> Upgrade Virtual Hardware. If you upgrade the virtual hardware, you can then \nfollow the instructions in Moving a VMware Workstation 4 Virtual Machine on \npage 135.\nIf you upgrade the virtual machine, you can no longer run it under VMware \nWorkstation 3. If you need to run the virtual machine under both VMware Workstation \n3 and VMware Workstation 4, do not upgrade the virtual hardware. Follow the \ninstructions in this section.\nNote: These instructions assume that you are using a virtual disk — stored in a set of \n.vmdk files on your host computer.\nIt’s always safest to make backup copies of all the files in your virtual machine’s \ndirectory before you start a process like this. \nVirtual Machines May Have Relative or Absolute Paths\nBefore VMware Workstation 3.1, the path names for all files associated with a virtual \nmachine were absolute, or fully qualified, meaning the complete route to the files on \nthe host was stored. For example, the absolute path to a virtual disk file might be \nC:\\Documents and Settings\\<user name>\\My Documents\\My \nVirtual Machines\\<machine name>\\<machine name>.vmdk.\nWith VMware Workstation 3.1 and higher, path names to files are relative, meaning the \npath to the each file is relative to the currently active directory. For example, if you are \nin the virtual machine’s directory, the relative path to the virtual disk file is \n<machine name>.vmdk.\nIf you intend to move virtual machines created in a VMware product other than \nVMware Workstation 3.1 or higher (even VMware Workstation 3.0), see Moving an \nOlder Virtual Machine on page 140.\nPreparing Your Virtual Machine for the Move\n1. Use VMware Workstation 3 to open the virtual machine. If the virtual machine \nhas more than one virtual disk and if the virtual disks use different disk modes,"
  },
  {
    "page": 137,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "www.vmware.com\n138\nVMware Workstation 4 User’s Manual\nyou must use the Configuration Editor to change one or more of the virtual disks \nso they all use the same mode.\n2. Be sure the guest operating system is completely shut down. If the virtual \nmachine is suspended and its virtual disks are in persistent or nonpersistent \nmode, resume it, then shut down the guest operating system. \n3. If your virtual machine is using disks in undoable mode, it is best to commit or \ndiscard the changes when the guest operating system shuts down. If you cannot \ncommit or discard the changes to your disk, read Considerations for Moving \nDisks in Undoable Mode on page 142. \nNote: If your disks are using nonpersistent mode, you must also move the redo-\nlog (.REDO) file to the new host computer. By default, it is located in your host \noperating system’s temp directory.\n4. Do one of the following:\n• If you are moving the virtual machine to a new host and have a network \nconnection between the original host machine and the new host, you are \nfinished with the preparations on the original host. Otherwise, you need to \nhave a way of moving the virtual disk (.vmdk) files from the virtual machine’s \ndirectory to the new host. You could move them to a shared network \ndirectory, for example, or burn them to CD-ROMs if they are not too large. \nOnce you know how you are going to move the virtual machine, go to \nMoving a Virtual Machine to a New Host Machine on page 138.\n• If you are moving this virtual machine to another directory on the same host, \nyou are ready to make the move. Copy all the files in the virtual machine’s \noriginal directory to the new location. If you stored any files in directories \nother than the virtual machine directory, be sure to move them into a \ndirectory of the same name and same position relative to the location of the \nvirtual machine. \nStart VMware Workstation 4 and open the virtual machine you just moved. \nChoose File > Open, then browse to the virtual machine’s configuration \n(.vmx) file. \nMoving a Virtual Machine to a New Host Machine \n1. Make sure VMware Workstation is installed and working correctly on the new \nhost computer. \n2. Locate the virtual disk files you are moving and copy them into the new virtual \nmachine directory. Be sure to copy all the files in the virtual machine’s original"
  },
  {
    "page": 138,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "C H A P T E R  6  Moving and Sharing Virtual Machines\n139\ndirectory. If you stored any files in directories other than the virtual machine \ndirectory, be sure to move them into a directory of the same name and same \nposition relative to the location of the virtual machine.\nIf, for some reason, you are not moving a file, make sure you do not have any \nrelative or absolute paths pointing to that file. Use the virtual machine settings \neditor and check to see if your virtual machine is pointing to the correct location \nfor files you do not move. In the virtual machine settings editor, select each \ndevice and be sure that any devices with associated files are pointed to the \ncorrect files. Also, check the Options tab to be sure the location for the redo-log \nfile is correct.\nIn addition, check to see you do not have any absolute paths pointing to any files \nyou are moving.\nNote: If your virtual machine is using disks in undoable mode, it is best to \ncommit or discard the changes when you shut down the guest operating \nsystem under VMware Workstation 3. If you cannot commit or discard the \nchanges to your disk, read Considerations for Moving Disks in Undoable Mode \non page 142. \n3. Start VMware Workstation 4 and open the virtual machine you just moved. \nChoose File > Open, then browse to the virtual machine’s configuration (.vmx) \nfile."
  },
  {
    "page": 139,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "www.vmware.com\n140\nVMware Workstation 4 User’s Manual\nMoving an Older Virtual Machine\nIf you have created a virtual machine using VMware Workstation 2, you must upgrade \nthe virtual hardware the first time you run it under VMware Workstation 4. Once you \nhave done this, you can follow the instructions in Moving a VMware Workstation 4 \nVirtual Machine on page 135.\nIf you have created a virtual machine using VMware Workstation 3.0, or another \nVMware product, and you want to move it to a different computer or to another \ndirectory on your host, you need to perform the following tasks. \nNote: These instructions assume that you are using a virtual disk — stored in a set of \n.vmdk files on your host computer. \nIt is always safest to make backup copies of all the files in your virtual machine’s \ndirectory before you start a process like this.\nPreparing Your Virtual Machine for the Move \n1. Use VMware Workstation 3 to open the virtual machine. If the virtual machine \nhas more than one virtual disk and if the virtual disks use different disk modes, \nyou must use the virtual machine settings editor to change one or more of the \nvirtual disks so they all use the same mode.\n2. Be sure you know whether the virtual disk is set up as an IDE disk or a SCSI disk. \nYou can check this in the virtual machine settings editor. \nAlso, note the size of the virtual disk you are moving. You need this information \nwhen you prepare the new host machine, as described in the next section.\n3. Be sure the guest operating system is completely shut down. If the virtual \nmachine is suspended, resume it using the VMware product with which you \ncreated the virtual machine, then shut down the guest operating system. \nNote: Do not move a suspended virtual machine from one host to another. \n4. If your virtual machine is using disks in undoable mode, it is best to commit or \ndiscard the changes when the guest operating system shuts down. If you cannot \ncommit or discard the changes to your disk, read Considerations for Moving \nDisks in Undoable Mode on page 142. \n5. If you have a network connection between the original host machine and the \nnew host, you are finished with the preparations on the original host. Otherwise, \nyou need to have a way of moving the virtual disk (.vmdk) files from the virtual \nmachine’s directory to the new host. You could move them to a shared network \ndirectory, for example, or burn them to CD-ROMs if they are not too large."
  },
  {
    "page": 140,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "C H A P T E R  6  Moving and Sharing Virtual Machines\n141\nNote: If your disks are using undoable mode and you have not committed or \ndiscarded your changes, you must also move the redo-log (.REDO) file to the \nnew host computer. \nPreparing the New Host Machine \n1. Make sure VMware Workstation 4 is installed and working correctly on the new \nhost computer. \n2. Run the New Virtual Machine Wizard and select the appropriate guest operating \nsystem for the virtual machine you are moving. \nChoose a virtual disk for your hard drive and use a drive size and type (IDE or \nSCSI) that matches the size and type of the virtual disk you plan to move. \nSelect all appropriate network, floppy and CD-ROM settings. Do not make any \nchanges with the virtual machine settings editor at this point. \nSave your settings and close VMware Workstation. \n3. In the directory just created for the new virtual machine, delete the brand new \n.vmdk files that were just created. \n4. Locate the virtual disk files you are moving and copy them into the new virtual \nmachine directory. \nNote: If your virtual machine is using disks in undoable mode and you did not \ncommit or discard your changes before the move, you must also move the redo-\nlog (.REDO) file to the new host computer. \n5. Start VMware Workstation 4 again and open the new virtual machine you just \ncreated. Go to VM > Settings. \n6. Be sure the virtual machine is configured to use the virtual disk files you moved \nfrom the original host. You need to confirm that the new disk’s settings — IDE or \nSCSI and the file name for the first .vmdk file — match those that were used on \nthe original host machine.\nThe device listing for the hard drive shows whether it is SCSI or IDE. If that setting \ndoes not match the virtual disk you are moving, select the hard disk and click \nRemove. Then click Add and use the Add Hardware Wizard to add an IDE or SCSI \ndisk as appropriate. To specify IDE or SCSI, when you reach the Disk File screen in \nthe wizard, click the Advanced button.\nBe sure the filename and path for the virtual disk match the actual filename and \nlocation for the first .vmdk file used by the virtual machine you are moving."
  },
  {
    "page": 141,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "www.vmware.com\n142\nVMware Workstation 4 User’s Manual\nConsiderations for Moving Disks in Undoable Mode\nOnce you commit or discard changes made to a disk in undoable mode, you can \nmove your disk between Linux and Windows host operating systems. You can also \nmove your disk to different locations on your computer and to other computers with \nthe same host operating system. \nHowever, if you cannot or do not want to commit or discard the changes made to \nyour undoable disk, note the following: \n•\nYou can always move a disk in undoable mode between host operating systems \nof the same general type (for example, between two Microsoft Windows \nsystems, or between two Linux systems). Depending upon how the disk was first \nset up, you may have to place the disk and its redo log in a directory that has a \npath name identical to that of the current directory. \n•\nYou may be able to move the disk in undoable mode between Windows and \nLinux host systems, or move the disk to a different directory on your current \nsystem, if there is no path name information in the virtual machine’s \nconfiguration file. This is true for virtual machines created under VMware \nWorkstation 3.1 or higher; however, virtual machines created with older versions \nof Workstation or any other VMware product contain full path names.\nFollow these steps to check the configuration and see whether or not you can move \nyour undoable disk without committing or discarding changes: \n1. Start VMware Workstation 3. \nIf you are moving a disk in undoable mode from one computer to another \ncomputer, start VMware Workstation 3 on the computer that currently has your \ndisk. \n2. Open the configuration file for the virtual machine that uses the undoable mode \ndisk you wish to move. \nIn the VMware Workstation window, select File > Open and choose the \nconfiguration file of the virtual machine with the disk you want to move. \n3. Open the virtual machine settings editor. \n4. Examine the entry for your virtual disk to see whether it includes a full path to \nthe first virtual disk file. For example, on a Windows host, you might see a disk file \nlisting like this: \nMy Documents\\My Virtual Machines\\Windows Me\\Windows Me.vmdk\nEntries for SCSI disks are similar."
  },
  {
    "page": 142,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "C H A P T E R  6  Moving and Sharing Virtual Machines\n143\nIf your disk file information resembles the example above (with a full path to the \nfirst disk file) and you have not committed or discarded changes to the undoable \ndisk, the following rules apply: \n• You can move the disk to another computer of the same type (Windows to \nWindows or Linux to Linux). \n• You must place the virtual machine’s other files (including .vmx and .REDO \non Windows, .vmx or .cfg and .REDO on Linux) in the same relative \nlocation on the new computer. In other words, if the virtual machine’s files \nreside in \nMy Documents\\My Virtual Machines\\Windows Me\\\non the original host computer, you must place them in that same location on \nthe new host computer. \n• You cannot move the disk to a computer of a different type (Windows to \nLinux or vice versa). \n• You cannot move the disk to another directory on the current system. \nIf your disk file information does not contain a path, it looks like this: \nWindows Me.vmdk\nIf your disk entry resembles the one above (just a filename with a .vmdk \nextension), you can move the disk and redo log anywhere you wish."
  },
  {
    "page": 143,
    "chapter": "Moving and Sharing Virtual Machines",
    "text": "www.vmware.com\n144\nVMware Workstation 4 User’s Manual\nSharing Virtual Machines \nwith Other Users\nIf you intend to have other users access your virtual machines, you should consider \nthe following points:\n•\nOn Windows hosts, the virtual machine files should be in a location on a system \nthat is accessible to those users. When you create a virtual machine, by default all \nthe files associated with it are placed in C:\\Documents and \nSettings\\<user name>\\My Documents\\My Virtual Machines. \nOther users typically do not have access to this folder. When you configure the \nvirtual machine in the New Virtual Machine Wizard, you can specify a location for \nthe virtual machine elsewhere on your system or on the network.\n•\nOn Linux hosts, permissions for the virtual machine files — especially the \nconfiguration file (.vmx) and virtual disks (.vmdk) — should be set for other \nusers according to how you want them to use the virtual machine. For instance, \nif you want users to run a virtual machine but not be able to modify its \nconfiguration, do not make the configuration file writable. \n•\nIf your virtual machine was created under VMware Workstation 3 or another \nVMware product and uses disks in nonpersistent mode, you should consider \nchanging the location of the redo-log file, since by default it is placed in your \ntemp directory, to which other users may not have access (redo-log files for disks \nin undoable mode are placed in the same directory as the virtual machine’s \nconfiguration file). To change the location of the redo-log file, take the following \nsteps.\na. With the virtual machine powered off, open the virtual machine settings \neditor. Choose VM > Settings.\nb. Click the Options tab.\nc. Click Browse and select a directory that is shared with other users.\nd. Click OK to save the change and close the virtual machine settings editor.\nNote: VMware Workstation 3 virtual machines with disks in nonpersistent mode \nperform better when the redo-log files for those disks are located in the system’s \ntemp directory."
  },
  {
    "page": 144,
    "chapter": "Using Disks",
    "text": "C H A P T E R7\n145\nUsing Disks\nThe following sections provide information on configuring your virtual machine’s hard \ndisk storage so it best meets your needs:\n•\nConfiguring Hard Disk Storage in a Virtual Machine on page 147\n• Disk Types: Virtual and Physical on page 147\n• File Locations on page 149\n• Updating Filenames for Virtual Disks Created with Earlier VMware Products on \npage 151\n• Defragmenting and Shrinking Virtual Disks on page 152\n•\nAdding Drives to a Virtual Machine on page 154\n• Adding Virtual Disks to a Virtual Machine on page 154\n• Adding Raw Disks to a Virtual Machine on page 155\n• Adding DVD or CD Drives to a Virtual Machine on page 159\n• Adding Floppy Drives to a Virtual Machine on page 160\n•\nUsing VMware Virtual Disk Manager on page 163"
  },
  {
    "page": 145,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n146\nVMware Workstation 4 User’s Manual\n• Running the VMware Virtual Disk Manager Utility on page 164\n• Shrinking Virtual Disks with VMware Virtual Disk Manager on page 166\n• Examples Using the VMware Virtual Disk Manager on page 167\n•\nConfiguring a Dual-Boot Computer for Use with a Virtual Machine on page 169\n• Configuring Dual- or Multiple-Boot Systems to Run with VMware Workstation \non page 171\n• Setting Up Hardware Profiles in Virtual Machines on page 177\n• Running a Windows 2000, Windows XP or Windows Server 2003 Virtual \nMachine from an Existing Multiple-Boot Installation on page 180\n• Setting Up the SVGA Video Driver for a Windows 95 Guest Operating System \nBooted from a Raw Disk on page 181\n• Setting Up the SVGA Video Driver for Use with a Windows 98 Guest Operating \nSystem Booted from a Raw Disk on page 182\n• Do Not Use Windows 2000, Windows XP and Windows Server 2003 Dynamic \nDisks as Raw Disks on page 184\n• Do Not Use Windows 2000, Windows XP and Windows Server 2003 Dynamic \nDisks as Raw Disks on page 184\n•\nInstalling an Operating System onto a Raw Partition from a Virtual Machine on \npage 190\n• Configuring a Windows Host on page 190\n• Configuring a Linux Host on page 193\n•\nDisk Performance in Windows NT Guests on Multiprocessor Hosts on page 195"
  },
  {
    "page": 146,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n147\nConfiguring Hard Disk Storage \nin a Virtual Machine\nLike a physical computer, a VMware Workstation virtual machine stores its operating \nsystem, programs and data files on one or more hard disks. Unlike a physical \ncomputer, VMware Workstation gives you options for undoing changes to the virtual \nmachine’s hard disk.\nThe New Virtual Machine Wizard creates a virtual machine with one disk drive. You can \nuse the virtual machine settings editor (VM > Settings) to add more disk drives to \nyour virtual machine, to remove disk drives from your virtual machine or to change \ncertain settings for the existing disk drives.\nThis section describes the choices you can make in setting up hard disk storage for \nyour virtual machine.\nDisk Types: Virtual and Physical\nIn the most common configurations, VMware Workstation creates virtual hard disks, \nwhich are made up of files that are typically stored on your host computer’s hard disk. \nIn some circumstances, you may need to give your virtual machine direct access to a \nphysical hard drive on your host computer — using the disk type also referred to as a \nraw disk.\nVirtual Disk\nA virtual disk is a file or set of files that appears as a physical disk drive to a guest \noperating system. The files can be on the host machine or on a remote computer. \nWhen you configure a virtual machine with a virtual disk, you can install a new \noperating system onto the virtual disk without repartitioning a physical disk or \nrebooting the host.\nIDE virtual disks can be as large as 128GB. SCSI virtual disks can be as large as 256GB. \nDepending on the size of the virtual disk and the host operating system, VMware \nWorkstation creates one or more files to hold each virtual disk.\nBy default, the actual files used by the virtual disk start out small and grow to their \nmaximum size as needed. The main advantage of this approach is the smaller file size. \nSmaller files require less storage space and are easier to move if you want to move the \nvirtual machine to a new location. However, it takes longer to write data to disk \nconfigured in this way.\nYou may also configure virtual disks so all the disk space is allocated at the time the \nvirtual disk is created. This approach provides enhanced performance and is useful if"
  },
  {
    "page": 147,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n148\nVMware Workstation 4 User’s Manual\nyou are running performance-sensitive applications in the virtual machine. Virtual \ndisks created in this way are similar to the experimental plain disks that could be \ncreated under VMware Workstation 2.\nVirtual disks can be set up as IDE disks for any guest operating system. They can be set \nup as SCSI disks for any guest operating system that has a driver for the LSI Logic or \nBusLogic SCSI adapter available in a VMware Workstation virtual machine. You \ndetermine which SCSI adapter to use at the time you create the virtual machine.\nNote: To use SCSI disks in a Windows XP or Windows Server 2003 virtual machine, \nyou need a special SCSI driver available from the download section of the VMware \nWeb site at www.vmware.com/download. Follow the instructions on the Web site to \nuse the driver with a fresh installation of Windows XP or Server 2003. \nA virtual disk of either type can be stored on either type of physical hard disk. That is, \nthe files that make up an IDE virtual disk can be stored on either an IDE hard disk or a \nSCSI hard disk. So can the files that make up a SCSI virtual disk. They can also be stored \non other types of fast-access storage media, such as DVD-ROM or CD-ROM discs.\nA key advantage of virtual disks is their portability. Because the virtual disks are stored \nas files on the host machine or a remote computer, you can move them easily to a \nnew location on the same computer or to a different computer. You can also use \nVMware Workstation on a Windows host to create virtual disks, then move them to a \nLinux computer and use them under VMware Workstation for Linux — or vice versa. \nFor information about moving virtual disks, see Moving and Sharing Virtual Machines \non page 133.\nRaw Disk\nA raw disk directly accesses an existing local disk or partition. You can use raw disks if \nyou want VMware Workstation to run one or more guest operating systems from \nexisting disk partitions. Raw disks may be set up on both IDE and SCSI devices. At this \ntime, however, booting from an operating system already set up on an existing SCSI \ndisk or partition is not supported. \nThe most common use of a raw disk is for converting a dual-boot or multiple-boot \nmachine so one or more of the existing operating systems can be run inside a virtual \nmachine.\nCaution: If you run an operating system natively on the host computer, then switch \nto running it inside a virtual machine, the change is like pulling the hard drive out of \none computer and installing it in a second computer with a different motherboard \nand other hardware. You need to prepare carefully for such a switch. The specific steps \nyou need to take depend on the operating system you want to use inside the virtual"
  },
  {
    "page": 148,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n149\nmachine. For details, see Configuring a Dual-Boot Computer for Use with a Virtual \nMachine on page 169.\nYou can also create a new virtual machine using a raw disk. For details, see Installing \nan Operating System onto a Raw Partition from a Virtual Machine on page 190. In \nmost cases, however, it is better to use a virtual disk.\nOnly expert users should attempt raw disk configurations.\nNote: You should not use a raw disk to share files between host and guest operating \nsystems. It is not safe to make the same partition visible to both host and guest. You \ncan cause data corruption if you do this. To share files between host and guest \noperating systems, use shared folders. For details, see Using Shared Folders on \npage 113.\nFile Locations\nDisk Files\nThe virtual machine settings editor (VM > Settings) allows you to choose the disk files \nfor a virtual machine. \nYou may want to choose a file other than the one created by the New Virtual Machine \nWizard if you are using a virtual disk that you created in a different location or if you are \nmoving the automatically created disk files to a new location.\nThe disk files for a virtual disk store the information that you write to a virtual \nmachine’s hard disk — the operating system, the program files and the data files. The \nvirtual disk files have a .vmdk extension. \nA virtual disk is made up of one or more .vmdk files. \nOn Windows hosts, each virtual disk is contained in one file by default. You may, as an \noption, configure the virtual disk to use a set of files limited to 2GB per file. Use this \noption if you plan to move the virtual disk to a file system that does not support files \nlarger than 2GB. \nYou must set this option at the time the virtual disk is created. \nIf you are setting up a new virtual machine, in the New Virtual Machine Wizard follow \nthe Custom path. In the screen that allows you to specify the virtual disk’s capacity, \nselect Split disk into 2GB files.\nIf you are adding a virtual disk to an existing virtual machine, follow the steps in the \nAdd Hardware Wizard. In the screen that allows you to specify the virtual disk’s \ncapacity, select Split disk into 2GB files.\nWhen a disk is split into multiple files, larger virtual disks have more .vmdk files."
  },
  {
    "page": 149,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n150\nVMware Workstation 4 User’s Manual\nThe first .vmdk file for each disk is small and contains pointers to the other files that \nmake up the virtual disk. The other .vmdk files contain data stored by your virtual \nmachine and use a small amount of space for virtual machine overhead.\nIf you chose to allocate space for the virtual disk in advance, the file sizes are fixed, and \nmost of the files are 2GB. As mentioned above, the first file is small. The last file in the \nseries may also be smaller than 2GB.\nIf you did not allocate the space in advance, the .vmdk files grow as data is added, to \na maximum of 2GB each — except for the first file in the set, which remains small.\nThe virtual machine settings editor shows the name of the first file in the set — the \none that contains pointers to the other files in the set. The other files used for that disk \nare automatically given names based on the first file’s name. \nFor example, a Windows XP Professional virtual machine using the default \nconfiguration, with files that grow as needed, stores the disk in files named Windows \nXP Professional.vmdk, Windows XP Professional-s001.vmdk, \nWindows XP Professional-s002.vmdk and so on.\nIf the disk space is allocated in advance, the names are similar, except that they \ninclude an f instead of an s — for example, Windows XP Professional-\nf001.vmdk.\nIf your virtual machine uses files created under earlier VMware products, with a .dsk \nextension, the filenames can be updated automatically on a Windows host. For details, \nsee Updating Filenames for Virtual Disks Created with Earlier VMware Products on \npage 151.\nIf you are using a raw disk, the .vmdk file stores information about the physical disk or \npartition used by the virtual machine.\nLock Files \nA running virtual machine creates lock files to prevent consistency problems on \nvirtual disks. If the virtual machine did not use locks, multiple virtual machines might \nread and write to the disk, causing data corruption.\nLock files are always created in the same directory as the .vmdk file. \nThe locking methods used by VMware Workstation on Windows and Linux hosts are \ndifferent, so files shared between them are not fully protected. If you use a common \nfile repository that provides files to users on both Windows and Linux hosts, be sure \nthat each virtual machine is run by only one user at a time.\nWhen a virtual machine is powered off, it removes the lock files it created. If it cannot \nremove the lock, a stale lock file is left protecting the .vmdk file. For example, if the"
  },
  {
    "page": 150,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n151\nhost machine crashes before the virtual machine has a chance to remove its lock file, a \nstale lock remains.\nIf a stale lock file remains when the virtual machine is started again, the virtual \nmachine tries to remove the stale lock. To make sure that no virtual machine could be \nusing the lock file, the virtual machine checks the lock file to see if \n1. The lock was created on the same host where the virtual machine is running. \n2. The process that created the lock is not running.\nIf those two conditions are true, the virtual machine can safely remove the stale lock. If \neither of those conditions is not true, a dialog box appears, warning you that the \nvirtual machine cannot be powered on. If you are sure it is safe to do so, you may \ndelete the lock files manually. On Windows hosts, the filenames of the lock files end in \n.lck. On Linux hosts, the filenames of the lock files end in .WRITELOCK.\nRaw disk partitions are also protected by locks. However, the host operating system is \nnot aware of this locking convention and thus does not respect it. For this reason, \nVMware strongly recommends that the raw disk for a virtual machine not be installed \non the same physical disk as the host operating system.\nUpdating Filenames for Virtual Disks Created with Earlier \nVMware Products\nExcept for VMware Workstation 3, previous VMware products, including VMware \nWorkstation 2, named virtual disk files with a .dsk extension. To avoid conflicts with \nthe System Restore feature on Windows XP and Windows Server 2003 hosts, VMware \nWorkstation now uses a .vmdk extension for those files. VMware Workstation 4 \nupdates existing virtual disk files automatically. It also automatically updates \nreferences to the virtual disk files in the configuration files for the virtual machine. \nIn addition, VMware Workstation converts the filename extensions for the files that \nstore the state of a suspended virtual machine. The old extension was .std. The \nextension is now .vmss.\nIf your host computer is running Windows XP or Windows Server 2003, VMware \nWorkstation must turn off System Restore on the host computer while it runs the \nupdater. If this were not done and you restored the host to a restore point that was set \nsometime before you ran the updater, the System Restore feature would rename your \nvirtual disk files to use the.dsk extension. You would again have the conflict the \nupdater was designed to solve.\nNote: Because the VMware Workstation updater turns off the System Restore feature \nwhile it runs, all existing restore points are deleted."
  },
  {
    "page": 151,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n152\nVMware Workstation 4 User’s Manual\nSystem Restore is turned back on after the updater completes its work. \nRunning the Updater at a Later Time\nOn a Windows host computer, you can run the filename updater at any time. To do so, \nfollow these steps.\n1. Open a command prompt.\n2. Change to the folder in which the VMware Workstation program files are \ninstalled. If you installed the files in the default locations, use this command:\ncd C:\\Program Files\\VMware\\VMware Workstation\n3. Run the updater.\ndskrename.exe\nDefragmenting and Shrinking Virtual Disks\nIf you have a virtual disk that grows as data is added, you can defragment and shrink it \nas described in this section. If you allocated all the space for your virtual disk at the \ntime you created it, you cannot defragment and shrink it.\nTo defragment the virtual disks attached to a virtual machine, power off the virtual \nmachine, then go to the virtual machine settings editor (VM > Settings).\nSelect the virtual disk you want to defragment, then click Defragment.\nDefragmenting disks may take considerable time.\nNote: The defragmentation process requires free working space on the host \ncomputer’s disk. If your virtual disk is contained in a single file, for example, you need \nfree space equal to the size of the virtual disk file. Other virtual disk configurations \nrequire less free space.\nWhen a virtual machine is powered on, you can shrink its virtual disks from the \nVMware Tools control panel. You cannot shrink virtual disks if a snapshot exists. To \nremove the snapshot if one exists, choose Snapshot > Remove Snapshot.\n1. To launch the control panel in a Windows guest, double-click the VMware Tools \nicon in the system tray or choose Start > Settings > Control Panel, then double-\nclick VMware Tools.\nTo launch the control panel in a Linux or FreeBSD guest, become root (su), then \nrun vmware-toolbox.\n2. Click the Shrink tab.\n3. Select the virtual disks you want to shrink, then click Prepare to Shrink."
  },
  {
    "page": 152,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n153\nThe shrink tool reclaims unused space in the virtual disk. If there is empty space in the \ndisk, this process reduces the amount of space the virtual disk occupies on the host \ndrive.\nShrinking disks may take considerable time.\nIn some configurations, it is not possible to shrink virtual disks. If your virtual machine \nuses such a configuration, the Shrink tab displays information explaining why you \ncannot shrink your virtual disks. \nFor best disk performance, you can take the following three actions, in the order listed:\n1. Run a disk defragmentation utility inside the virtual machine.\n2. Use the VMware Workstation defragmentation tool. Go to VM > Settings, click \nthe listing for the virtual disk you want to defragment, then click Defragment.\n3. Run a disk defragmentation utility on the host computer."
  },
  {
    "page": 153,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n154\nVMware Workstation 4 User’s Manual\nAdding Drives to a Virtual Machine\nVMware Workstation virtual machines can use up to four IDE devices and up to seven \nSCSI devices. Any of these devices can be a virtual hard disk or DVD or CD-ROM drive. \nA virtual machine can read data from a DVD-ROM disc. VMware Workstation does not \nsupport playing DVD movies in a virtual machine.\nMany other SCSI devices can be connected to a virtual machine using the host \noperating system’s generic SCSI driver. For details on connecting these devices, see \nConnecting to a Generic SCSI Device on page 302.\nAdding Virtual Disks to a Virtual Machine\nVirtual disks are stored as files on the host computer or on a network file server. It does \nnot matter whether the physical disk that holds the files is IDE or SCSI. A virtual IDE \ndrive can be stored on an IDE drive or on a SCSI drive. So can a virtual SCSI drive.\nUse the virtual machine settings editor (VM > Settings) to add a new virtual disk to \nyour virtual machine. The virtual machine should be powered off before you begin. If \nit is not, shut down the guest operating system normally, then click Power Off on the \nVMware Workstation toolbar.\nNote: If you have a Windows NT 4.0 guest with a SCSI virtual disk, you cannot add \nboth an additional SCSI disk and an IDE disk to the configuration.\n1. Open the virtual machine settings editor (VM > Settings) and click Add. The Add \nHardware Wizard guides you through the steps to create your virtual disk.\n2. Click Hard Disk, then click Next.\n3. Select Create a New Virtual Disk, then click Next.\n4. Choose whether you want the virtual disk to be an IDE disk or a SCSI disk.\n5. Set the capacity for the new virtual disk. \nIf you wish, select Allocate all disk space now."
  },
  {
    "page": 154,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n155\nAllocating all the space at the time you create the virtual disk gives somewhat \nbetter performance, but it requires as much disk space as the size you specify for \nthe virtual disk.\nIf you do not select this option, the virtual disk’s files start small and grow as \nneeded, but they can never grow larger than the size you set here. \nYou can set a size between 2GB and 256GB for a SCSI virtual disk or 128GB for an \nIDE virtual disk. The default is 4GB. \nYou may also specify whether you want the virtual disk created as one large file \nor split into a set of 2GB files. You should split your virtual disk if it is stored on a \nFAT32 file system.\n6. Accept the default filename and location for the virtual disk file or change it, if \nyou want to use a different name or location. To find a different folder, click \nBrowse.\nIf you want to specify a device node for your virtual disk, click Advanced.\nOn the advanced settings screen, you can also specify a disk mode. This is useful \nin certain special-purpose configurations in which you want to exclude disks \nfrom the snapshot. For more information on the snapshot feature, see Using the \nSnapshot on page 200.\nNormal disks are included in the snapshot. In most cases, this is the setting you \nwant — with Independent deselected.\nIndependent disks are not included in the snapshot. If you select Independent, \nyou have the following options:\n• Persistent — changes are immediately and permanently written to the disk.\n• Nonpersistent — changes to the disk are discarded when you power off or \nrevert to the snapshot.\nWhen you have set the filename and location you want to use and have made \nany selections you want to make on the advanced settings screen, click Finish.\n7. The wizard creates the new virtual disk. It appears to your guest operating \nsystem as a new, blank hard disk. Use the guest operating system’s tools to \npartition and format the new drive for use.\nAdding Raw Disks to a Virtual Machine\nUse the virtual machine settings editor (VM > Settings) to add a new raw disk to your \nvirtual machine. The virtual machine should be powered off before you begin. If it is"
  },
  {
    "page": 155,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n156\nVMware Workstation 4 User’s Manual\nnot, shut down the guest operating system normally, then click Power Off on the \nVMware Workstation toolbar.\nCaution: Raw disks are an advanced feature and should be configured only by expert \nusers.\n1. Open the virtual machine settings editor (VM > Settings) and click Add. The Add \nHardware Wizard guides you through the steps to create your virtual disk.\n2. Click Hard Disk, then click Next.\n3. Select Use a physical disk, then click Next."
  },
  {
    "page": 156,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n157\n4. Choose the physical hard disk to use from the drop-down list. Select whether \nyou want to use the entire disk or use only individual partitions on the disk. Click \nNext.\n5. If you selected Use individual partitions in the previous step, select which \npartitions you want to use in the virtual machine. If you selected Use entire disk, \nthis step does not appear.\nOnly the partitions you select in this step are visible to the virtual machine. All \nother partitions are hidden from it.\nClick Next."
  },
  {
    "page": 157,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n158\nVMware Workstation 4 User’s Manual\n6. Accept the default filename and location for the file that stores access \ninformation for this raw disk — or change it, if you want to use a different name \nor location. To find a different directory, click Browse.\nClick Advanced if you want to specify the virtual machine SCSI or IDE device \nnode to which this disk is connected. \nOn the advanced settings screen, you can also specify a disk mode. This is useful \nin certain special-purpose configurations in which you want to exclude disks \nfrom the snapshot. For more information on the snapshot feature, see Using the \nSnapshot on page 200.\nNormal disks are included in the snapshot. In most cases, this is the setting you \nwant — with Independent deselected.\nIndependent disks are not included in the snapshot. If you select Independent, \nyou have the following options:\n• Persistent — changes are immediately and permanently written to the disk.\n• Nonpersistent — changes to the disk are discarded when you power off or \nrevert to the snapshot.\nWhen you have set the filename and location you want to use and have made \nany selections you want to make on the advanced settings screen, click Finish.\n7. The wizard configures the new raw disk. If the partitions used on the raw disk are \nnot formatted for your guest operating system, use the guest operating system’s \ntools to format them.\nNote: After you create a raw disk using one or more partitions on a physical disk, you \nshould never modify the partition tables by running fdisk or a similar utility in the \nguest operating system.\nNote: If you use fdisk or a similar utility on the host operating system to modify \nthe partition table of the physical disk, you must recreate the virtual machine’s raw \ndisk."
  },
  {
    "page": 158,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n159\nAdding DVD or CD Drives to a Virtual Machine\nYou can add one or more DVD or CD drives to your virtual machine. You can connect \nthe virtual machine’s drive to a physical drive on the host machine or to an ISO image \nfile. \nYou can configure the virtual DVD or CD drive as either IDE or SCSI, no matter what \nkind of physical drive you connect it to. In other words, if your host computer has an \nIDE CD drive, you can set up the virtual machine’s drive as either SCSI or IDE and \nconnect it to the host’s drive. The same is true if the host’s physical drive is a SCSI drive.\nAdding a DVD or CD Drive \n1. Open the virtual machine settings editor (VM > Settings) and click Add to start \nthe Add Hardware Wizard.\n2. Click DVD/CD-ROM Drive, then click Next.\n3. Select Use physical drive if you want to connect the virtual machine’s drive to a \nphysical drive on the host computer. Select Use ISO Image if you want to \nconnect the virtual machine’s drive to an ISO image file.\n4. Do one of the following:\n• If you selected Use physical drive, choose the drive you want to use from the \ndrop-down list or choose Auto detect.\nIf you do not want the CD drive connected when the virtual machine starts, \ndeselect Connect at power on. \nClick Advanced if you want to specify the device node the drive should use in \nthe virtual machine. \nOn the advanced settings screen you may also select Legacy emulation. This \nis necessary only if you have had problems using normal mode. The legacy \nemulation mode does not support all the capabilities of normal mode. For \nexample, if you are using legacy emulation mode, you cannot record CDs, you \ncannot read multisession CDs, you cannot extract digital audio from a CD and \nyou cannot read or write DVDs. For details, see Legacy Emulation for DVD and \nCD Drives on page 160.\nAfter you have made any desired changes in these settings, click Finish.\n• If you selected Use ISO Image, enter the path and filename for the image file \nor click Browse to navigate to the file.\nIf you do not want the CD drive connected when the virtual machine starts, \ndeselect Connect at power on."
  },
  {
    "page": 159,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n160\nVMware Workstation 4 User’s Manual\nClick Advanced if you want to specify the device node the drive should use in \nthe virtual machine. \nAfter you have made any desired changes in these settings, click Finish.\n5. The drive is set up initially so it appears to the guest operating system as an IDE \ndrive. If you want it to appear to the guest operating system as a SCSI drive, click \nthe drive’s entry in the virtual machine settings editor and make that change in \nthe settings panel on the right.\nLegacy Emulation for DVD and CD Drives\nThe virtual machine settings editor (VM > Settings) provides a Legacy emulation \noption for DVD and CD drives attached to the virtual machine.\nOn Windows hosts, this option is deselected by default.\nOn Linux hosts with IDE drives, the default setting for this option depends on whether \nthe ide-scsi module is loaded in your kernel. The ide-scsi module must be loaded — \nor you must be using a physical SCSI drive — if you want to connect to the DVD or CD \ndrive in raw mode. \nIf you encounter problems using your DVD or CD drive, try selecting Legacy \nemulation.\nNote that in legacy emulation mode, you can read from data discs in the DVD or CD \ndrive, but some other functions are not available.\nWhen Legacy emulation is deselected, the guest operating system communicates \ndirectly with the drive. This direct communication enables capabilities that are not \npossible in legacy emulation mode, such as using CD and DVD writers to burn discs, \nreading multisession CDs, performing digital audio extraction and viewing video.\nHowever, in some cases, the DVD or CD drive may not work correctly when the guest \noperating system is communicating directly with the drive. In addition, certain drives \nand their drivers do not work correctly in raw mode. Selecting Legacy emulation is a \nway to work around these problems. \nIf you run more than one virtual machine at a time, and if their CD drives are in legacy \nemulation mode, you may prefer to start the virtual machines with their CD drives \ndisconnected. This ensures that you do not have multiple virtual machines connected \nto the CD drive at the same time.\nAdding Floppy Drives to a Virtual Machine\nYou can add floppy drives to your virtual machine, to a total of two floppy drives. A \nvirtual floppy drive can connect to a physical floppy drive on the host computer, to an \nexisting floppy image file or to a blank floppy image file."
  },
  {
    "page": 160,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n161\nAdding a Floppy Drive\n1. Open the virtual machine settings editor (VM > Settings) and click Add to start \nthe Add Hardware Wizard.\n2. Click Floppy Drive, then click Next.\n3. Select what you want to connect to — a physical floppy drive on the host \ncomputer, an existing floppy image file or a new floppy image file. Click Next.\n4. If you selected Use a physical floppy drive, choose the drive’s letter (on a \nWindows host) or device name (on a Linux host) from the drop-down list, then \nclick Finish.\nIf you selected Use a floppy image, type the path and filename for the floppy \nimage file you want to use or click Browse to navigate to the file. Click Finish.\nIf you selected Create a blank floppy image, use the default path and filename \nor type in a new one. To navigate to a location, click Browse. When the field \ncontains the path and filename you want to use for the new floppy image file, \nclick Finish.\nNote: By default, only one floppy drive is enabled in the virtual machine’s BIOS. If you \nare adding a second floppy drive to the virtual machine, click inside the virtual \nmachine window and press F2 as the virtual machine boots to enter the BIOS setup \nutility. On the main screen, choose Legacy Diskette B: and use the plus (+) and minus \n(-) keys on the numerical keypad to select the type of floppy drive you want to use. \nThen press F10 to save your changes and close the BIOS setup utility.\nConnecting a CD-ROM or Floppy Drive to an Image File\nYou can use the virtual machine settings editor to connect an existing virtual CD-ROM \nor floppy drive to an image file.\nYou can connect a virtual CD-ROM drive to an ISO image file.\nConnecting to an ISO Image File \n1. Open the virtual machine settings editor (VM > Settings) and select the DVD/\nCD-ROM drive you want to connect to the image file.\n2. Select Use ISO Image and enter the path and filename for the image file or click \nBrowse to navigate to the file. \n3. Click OK to save the configuration and close the virtual machine settings editor.\nConnecting to a Floppy Image File \n1. Open the virtual machine settings editor (VM > Settings) and select the floppy \ndrive you want to connect to an image file."
  },
  {
    "page": 161,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n162\nVMware Workstation 4 User’s Manual\n2. Type the path and filename for the floppy image file you want to use or click \nBrowse to navigate to the file. \nIf you want to create a new image file, click Create. Use the default filename and \nfolder or change them as you wish.\n3. Click Finish."
  },
  {
    "page": 162,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n163\nUsing VMware Virtual Disk Manager\nVMware Virtual Disk Manager is a utility in VMware Workstation that allows you to \ncreate, manage and modify virtual disk files from the command line or within scripts. \nOne key feature is the ability to enlarge a virtual disk so its maximum capacity is larger \nthan it was when you created it. This way, if you find you need more disk space in a \ngiven virtual machine, but you do not want to add another virtual disk or use ghosting \nsoftware to transfer the data on a virtual disk to a larger virtual disk, you can instead \nchange the maximum size of the virtual disk. This is something you cannot do with \nphysical hard drives.\nAnother feature allows you to change disk types. When you create a virtual machine, \nyou specify how disk space is allocated. You select one of the following:\n•\nAll space for the virtual disk is allocated in advance. This corresponds to what the \nvirtual disk manager calls the preallocated disk type.\n•\nSpace allocated for the virtual disk begins small and grows as needed. This \ncorresponds to what the virtual disk manager calls the growable disk type.\nWith virtual disk manager you can change whether the virtual disk type is \npreallocated or growable and whether the virtual disk is stored in a single file or split \ninto 2GB files. For example, you may have allocated all the disk space for a virtual disk, \nthen find that you need to reclaim some hard disk space on the host. You can convert \nthe preallocated virtual disk into a growable disk, then remove the original virtual disk \nfile. The new virtual disk is large enough to contain all the data in the original virtual \ndisk. The virtual disk grows in size as you add data to it.\nThese features and the ability to use scripting to automate management of virtual \ndisks were added to VMware Workstation in version 4.5.2.\nYou can use the virtual disk manager for the following tasks:\n•\nAutomate the management of virtual disks with scripts.\n•\nCreate virtual disks that are not associated with a particular virtual machine, to \nbe used as templates, for example.\n•\nSwitch the virtual disk type from preallocated to growable, or vice versa. When \nyou change the disk type to growable, you reclaim some space on the virtual \ndisk. You can shrink the virtual disk to reclaim even more disk space.\n•\nExpand the size of a virtual disk so it is larger than the size specified when you \ncreated it.\n•\nDefragment virtual disks."
  },
  {
    "page": 163,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n164\nVMware Workstation 4 User’s Manual\n•\nPrepare and shrink virtual disks without powering on the virtual machine. \n(Windows hosts only.)\nYou can use the virtual disk manager with virtual disks created under VMware GSX \nServer, VMware Workstation and VMware VirtualCenter (provided the virtual disk was \ncreated on a GSX Server host managed by VirtualCenter). \nYou cannot use the virtual disk manager to create physical (raw) disks. Physical disks \ncannot be shrunk by the virtual disk manager or by Workstation.\nRunning the VMware Virtual Disk Manager Utility\nTo run the VMware Virtual Disk Manager utility, open a command prompt or terminal \non the host operating system. On a Windows host, change to the directory where you \ninstalled your Workstation software. By default, this directory is \nC:\\Program Files\\VMware\\VMware Workstation.\nThe command syntax is:\nvmware-vdiskmanager [options]\nThe options you can or must use include the following:\nOptions/Parameters\nDescription\n<diskname>\nThe name of the virtual disk file. The virtual disk file must have a .vmdk \nextension.\nYou can specify a path to the folder where you want to store the disk files. \nIf you mapped a network share on your host operating system, you can \ncreate the virtual disk on that share by providing the correct path \ninformation with the disk file name.\n-c\nCreates the virtual disk. You must use the -a, -s and -t options, and you \nmust specify the name of the virtual disk (<diskname>).\n-r \n<sourcediskname>\nConverts the specified virtual disk, creating a new virtual disk as a result. \nYou must use the -t option to specify the disk type to which the virtual \ndisk is converted and you must specify the name of the target virtual disk \n(<targetdiskname>). \nOnce the conversion is completed and you have tested the converted \nvirtual disk to make sure it works as expected, you can delete the original \nvirtual disk file.\nIn order for the virtual machine to recognize the converted virtual disk, \nyou should use the virtual machine settings editor to remove the existing \nvirtual disk from the virtual machine, then add the converted disk to the \nvirtual machine. For information on adding virtual disks to a virtual \nmachine, see Adding Drives to a Virtual Machine on page 154."
  },
  {
    "page": 164,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n165\n-x <n>[GB|MB] \n<diskname>\nExpands the virtual disk to the specified capacity. You must specify the \nnew, larger size of the virtual disk in gigabytes or megabytes. You cannot \nchange the size of a physical (raw) disk.\nCaution: Before running the virtual disk manager utility, you should back \nup your virtual disk files.\n-d <diskname>\nDefragments the specified virtual disk. You can defragment only growable \nvirtual disks. You cannot defragment preallocated virtual disks.\n-p <mountpoint>\nPrepares a virtual disk for shrinking. If the virtual disk is partitioned into \nvolumes, each volume must be prepared separately. The volume (C: or D:, \nfor example) must be mounted by VMware DiskMount at \n<mountpoint>. After you prepare the volume, unmount it with \nVMware DiskMount. Continue mounting each volume of the virtual disk \nand preparing it for shrinking until you complete this process for all the \nvolumes of the virtual disk.\nYou can mount only one volume of a virtual disk at a time with VMware \nDiskMount. You can prepare volumes of virtual disks for shrinking on \nWindows hosts only.\n-k <diskname>\nShrinks the specified virtual disk. You can shrink only growable virtual \ndisks. You can shrink virtual disks on Windows hosts only.\nYou cannot shrink a virtual disk if the virtual machine has a snapshot. To \nkeep the virtual disk in its current state, simply remove the snapshot. To \ndiscard changes made since you took the snapshot, revert to the \nsnapshot.\n-a \n[ide|buslogic|\nlsilogic]\nSpecifies the disk adapter type. You must specify an adapter type when \ncreating a new virtual disk. Choose one of the following types:\n• ide — for an IDE adapter.\n• buslogic — for a BusLogic SCSI adapter.\n• lsilogic — for an LSI Logic SCSI adapter.\n-s <n>[GB|MB]\nSpecifies the size of the virtual disk. Specify whether the size <n> is in GB \n(gigabytes) or MB (megabytes). You must specify the size of a virtual disk \nwhen you create it. \nEven though you must specify the size of a virtual disk when you expand \nit, you do not use the -s option.\nOptions/Parameters\nDescription"
  },
  {
    "page": 165,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n166\nVMware Workstation 4 User’s Manual\nShrinking Virtual Disks with VMware Virtual Disk Manager\nIf the virtual disk is located on a Windows host, you can use the virtual disk manager to \nprepare and shrink virtual disks. You cannot use the virtual disk manager to prepare or \nshrink virtual disks located on a Linux host. You cannot use the virtual disk manager to \nshrink physical disks. Shrinking a virtual disk does not reduce the maximum capacity \nof the virtual disk itself. For more information about shrinking, see Defragmenting and \nShrinking Virtual Disks on page 152.\nCaution: You cannot shrink a virtual disk if the virtual machine has a snapshot. To \nkeep the virtual disk in its current state, simply remove the snapshot. To discard \nchanges made since you took the snapshot, revert to the snapshot.\nYou must prepare each volume of the virtual disk (drive C: or D:, for example) for \nshrinking before you can shrink the disk. To prepare a volume for shrinking, you must \nfirst mount it. To mount the volume, use the VMware DiskMount Utility, available as a \nfree download from the VMware Web site. Go to www.vmware.com/download/\ndiskmount.html. \nThe VMware DiskMount user’s manual is available from the VMware Web site at \nwww.vmware.com/pdf/VMwareDiskMount.pdf. It contains instructions on mounting \nand unmounting virtual disk volumes with DiskMount.\nVMware DiskMount mounts individual volumes of a virtual disk. For the best results \nwhen you shrink of a virtual disk, you should mount all the volumes and prepare them \nfor shrinking.\nAfter you mount a virtual disk volume, use the virtual disk manager to prepare the \nvolume for shrinking. Once you prepare a volume, unmount it, then repeat the \n-t [0|1|2|3]\nYou must specify the type of virtual disk when you create a new one or \nreconfigure an existing one. Specify one of the following disk types:\n0 — to create a growable virtual disk contained in a single virtual disk file\n1 — to create a growable virtual disk split into 2GB files\n2 — to create a preallocated virtual disk contained in a single virtual disk \nfile\n3 — to create a preallocated virtual disk split into 2GB files\n-q\nDisables virtual disk manager logging.\nIf you keep logging enabled, messages generated by the virtual disk \nmanager are stored in a log file. The name and location of the log file \nappear in the command prompt or terminal window after the virtual disk \nmanager command is run.\nOptions/Parameters\nDescription"
  },
  {
    "page": 166,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n167\nprocess for each volume of the virtual disk. After you prepare all the volumes of the \nvirtual disk, you can shrink the virtual disk. For examples, see Preparing a Virtual Disk \nfor Shrinking on page 167 and Shrinking a Virtual Disk on page 168.\nExamples Using the VMware Virtual Disk Manager\nThe following examples illustrate how to use the virtual disk manager. You run the \nvirtual disk manager from a command prompt.\nCreating a Virtual Disk\nTo create a new virtual disk, use a command like the following:\nvmware-vdiskmanager -c -t 0 -s 40GB -a ide myDisk.vmdk\nThis creates a 40GB IDE virtual disk named myDisk.vmdk. The virtual disk is \ncontained in a single .vmdk file. The disk space is not preallocated.\nConverting a Virtual Disk\nTo convert a virtual disk from preallocated to growable, use a command like the \nfollowing:\nvmware-vdiskmanager -r -t 0 sourceDisk.vmdk targetDisk.vmdk\nThis converts the disk from its original preallocated type to a growable virtual disk \nconsisting of a single virtual disk file. The virtual disk space is no longer preallocated, \nand the virtual disk manager reclaims some disk space in the virtual disk so it is only as \nlarge as the data contained within it.\nExpand the Size of an Existing Virtual Disk\nTo expand the size of a virtual disk, use a command like the following:\nvmware-vdiskmanager -x 40GB myDisk.vmdk\nThis increases the maximum capacity of the virtual disk to 40GB.\nDefragmenting a Virtual Disk\nTo defragment a virtual disk, use a command like the following:\nvmware-vdiskmanager -d myDisk.vmdk\nRemember, you cannot defragment a virtual disk if you allocated all the disk space \nwhen you created the virtual disk. You cannot defragment a physical disk.\nPreparing a Virtual Disk for Shrinking\nBefore you can shrink a virtual disk, you must prepare each volume on the disk (C: or \nD:, for example) for shrinking. To prepare a volume, it must be located on a Windows \nhost. First you must mount the volume. To mount the volume, use the VMware \nDiskMount Utility, available as a free download from the VMware Web site. For"
  },
  {
    "page": 167,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n168\nVMware Workstation 4 User’s Manual\ninformation about downloading and using VMware DiskMount, see Shrinking Virtual \nDisks with VMware Virtual Disk Manager on page 166.\nVMware DiskMount mounts individual volumes of a virtual disk. For the best results \nwhen you shrink a virtual disk, you should mount all the volumes and shrink them.\nAfter you mount a virtual disk volume, use the virtual disk manager to prepare the disk \nfor shrinking. To prepare the volume mounted as the M: drive for shrinking, use the \nfollowing command:\nvmware-vdiskmanager -p M:\nOnce the preparations are complete, unmount the volume. Repeat this process for \neach volume of the virtual disk. After you prepare all the volumes for shrinking, you \ncan shrink the virtual disk.\nShrinking a Virtual Disk\nTo shrink a virtual disk, it must be located on a Windows host. Before you can shrink \nthe virtual disk, make sure you prepare all the volumes of the virtual disk for shrinking. \nThen use a command like the following:\nvmware-vdiskmanager -k myDisk.vmdk\nRemember, you cannot shrink a virtual disk if you allocated all the disk space when \nyou created the virtual disk. You cannot shrink a physical (raw) disk.\nIf the virtual disk has a snapshot, you cannot shrink the virtual disk. You must remove \nthe snapshot before you shrink the virtual disk."
  },
  {
    "page": 168,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n169\nConfiguring a Dual-Boot Computer \nfor Use with a Virtual Machine\nMany users install VMware Workstation on a dual-boot or multiple-boot computer so \nthey can run one or more of the existing operating systems in a virtual machine. If you \nare doing this, you may want to use the existing installation of an operating system \nrather than reinstall it in a virtual machine.\nTo support such installations, VMware Workstation makes it possible for you to use a \nphysical IDE disk or partition, also known as a raw disk, inside a virtual machine. \nNote: VMware Workstation supports booting from raw disk partitions only on IDE \ndrives. Booting guest operating systems from raw SCSI drives is not supported. For a \ndiscussion of the issues on a Linux host, see Configuring Dual- or Multiple-Boot SCSI \nSystems to Run with VMware Workstation on a Linux Host on page 184.\nSetting up a raw disk configuration for a virtual machine is more complicated than \nusing a virtual disk. Virtual disks are recommended unless you have a specific need to \nrun directly from a physical disk or partition. \nCaution: Raw disks are an advanced feature and should be configured only by expert \nusers.\nUsing the Same Operating System in a Virtual Machine and on the Host \nComputer\nYou may sometimes want to run an operating system inside a virtual machine and at \nother times want to run that same installation of the operating system by booting the \nhost computer directly into that operating system. If you want to use this approach, \nyou must be aware of some special considerations\nThe issues arise because the virtual hardware that the operating system sees when it \nis running in a virtual machine is different from the physical hardware it sees when it is \nrunning directly on the host computer. It is as if you were removing the boot drive \nfrom one physical computer and running the operating system installed there in a \nsecond computer with a different motherboard, video card and other peripherals — \nthen moving it back and forth between the two systems.\nThe general approach for resolving these issues is to set up profiles for each of the two \noperating environments — the virtual machine and the physical computer. You can \nthen choose the appropriate profile when you start the operating system. On some \nhardware, however, booting a previously installed operating system within a virtual \nmachine may not work."
  },
  {
    "page": 169,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n170\nVMware Workstation 4 User’s Manual\nTechnical notes in this section document the issues most commonly encountered \nwith various guest operating systems. Read the notes that apply to your guest \noperating system before you begin to set up your virtual machine.\nBefore You Begin\nBefore you begin, be sure to read all the sections listed under the name of the \noperating system you intend to run as a guest in a virtual machine.\nWindows Server 2003 \nCaution: Running a Windows Server 2003 guest from a raw disk is not supported. You \nshould not test a Windows Server 2003 raw disk configuration in a production \nenvironment.\n•\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware Workstation on \npage 171\n•\nRunning a Windows 2000, Windows XP or Windows Server 2003 Virtual Machine \nfrom an Existing Multiple-Boot Installation on page 180\n•\nDo Not Use Windows 2000, Windows XP and Windows Server 2003 Dynamic \nDisks as Raw Disks on page 184\nWindows XP \nCaution: Running a Windows XP guest from a raw disk is not supported. You should \nnot test a Windows XP raw disk configuration in a production environment.\n•\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware Workstation on \npage 171\n•\nRunning a Windows 2000, Windows XP or Windows Server 2003 Virtual Machine \nfrom an Existing Multiple-Boot Installation on page 180\n•\nDo Not Use Windows 2000, Windows XP and Windows Server 2003 Dynamic \nDisks as Raw Disks on page 184\nWindows 2000\n•\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware Workstation on \npage 171\n•\nRunning a Windows 2000, Windows XP or Windows Server 2003 Virtual Machine \nfrom an Existing Multiple-Boot Installation on page 180\n•\nDo Not Use Windows 2000, Windows XP and Windows Server 2003 Dynamic \nDisks as Raw Disks on page 184"
  },
  {
    "page": 170,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n171\nWindows NT\n•\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware Workstation on \npage 171\nWindows 98\n•\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware Workstation on \npage 171\n•\nSetting Up the SVGA Video Driver for Use with a Windows 98 Guest Operating \nSystem Booted from a Raw Disk on page 182\nWindows 95\n•\nConfiguring Dual- or Multiple-Boot Systems to Run with VMware Workstation on \npage 171\n•\nSetting Up the SVGA Video Driver for a Windows 95 Guest Operating System \nBooted from a Raw Disk on page 181\nSCSI Systems Using a Linux Host\n•\nConfiguring Dual- or Multiple-Boot SCSI Systems to Run with VMware \nWorkstation on a Linux Host on page 184\nOther Uses of Raw Disks\nIt is also possible to install a guest operating system on a raw disk when you plan to \nuse that disk only within a virtual machine. For details on setting up a such a \nconfiguration, see Installing an Operating System onto a Raw Partition from a Virtual \nMachine on page 190.\nConfiguring Dual- or Multiple-Boot Systems to Run \nwith VMware Workstation \nVMware Workstation uses description files to control access to each raw IDE device on \nthe system. These description files contain access privilege information that controls a \nvirtual machine's access to certain partitions on the disks. This mechanism prevents \nusers from accidentally running the host operating system again as a guest or running \na guest operating system that the virtual machine was not configured to use. The \ndescription file also prevents accidental corruption of raw disk partitions by badly \nbehaved operating systems or applications. \nUse the New Virtual Machine Wizard to configure VMware Workstation to use existing \nraw disk partitions. The wizard guides you though creating a configuration for a new \nvirtual machine including configuring the raw disk description files. Typically, you"
  },
  {
    "page": 171,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n172\nVMware Workstation 4 User’s Manual\nrerun the wizard to create a separate configuration for each guest operating system \ninstalled on a raw partition. \nIf a boot manager is installed on the computer system, the boot manager runs inside \nthe virtual machine and presents you with the choice of guest operating systems to \nrun. You must manually choose the guest operating system that this configuration \nwas intended to run. \nWindows 2000, Windows XP and Windows Server 2003 Dynamic Disks\nIf your host is running Windows 2000, Windows XP or Windows Server 2003 and is \nusing dynamic disks, see Do Not Use Windows 2000, Windows XP and Windows \nServer 2003 Dynamic Disks as Raw Disks on page 184.\nUsing the LILO Boot Loader\nIf you are using the LILO boot loader and try to boot a virtual machine from an existing \nraw partition, you may see L 01 01 01 01 01 01 … instead of a LILO: \nprompt. This can happen regardless of the host operating system. As part of booting a \nphysical PC or a virtual machine, the BIOS passes control to code located in the master \nboot record (MBR) of the boot device. LILO begins running from the MBR, and in order \nto finish running correctly, it needs access to the native Linux partition where the rest \nof LILO is located — usually the partition with the /boot directory. If LILO can't \naccess the rest of itself, an error message like the one above appears. \nTo avoid the problem, follow the configuration steps below and be sure to select the \nnative Linux partition where the rest of LILO is located. The next time the virtual \nmachine tries to boot, the LILO code in the MBR should be able to access the rest of \nLILO and display the normal LILO: prompt. \nConfiguring a Windows Host\nUse the following steps to run a guest operating system from a raw disk. \nNote: If you use a Windows host’s IDE disk in a raw disk configuration, you must not \nconfigure it as the slave on the secondary IDE channel if the master on that channel is \na CD-ROM drive.\n1. If you are running a Windows guest operating system, read Setting Up Hardware \nProfiles in Virtual Machines on page 177. You should boot the guest operating \nsystem natively on the computer and create a hardware profile for the virtual \nmachine before proceeding.\n2. Create a separate configuration for each guest operating system."
  },
  {
    "page": 172,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n173\nTo configure a virtual machine to run from a raw disk or disk partition, start the \nNew Virtual Machine Wizard (File > New Virtual Machine) and select Custom. \n3. When you reach the Select a Disk step, select Use a physical disk.\n4. Complete the wizard steps, specifying the appropriate disk or partition to use for \nthis virtual machine.\nNote: The maximum size of an IDE disk in a virtual machine is 128GB.\n5. To run multiple guest operating systems from different raw disk partitions, \nunmap these partitions on the host. \nOn a Windows NT host, use the Disk Administrator (Start > Programs > \nAdministrative Tools). First highlight the partition that contains the guest \noperating system, then select Assign Drive Letter from the Tools menu. In this \nform, choose Do not assign a drive letter for the partition and click OK. The \nunmapping happens immediately. \nOn a Windows Server 2003, Windows XP or Windows 2000 host, use Disk \nManagement (Start > Settings > Control Panel > Administrative Tools > \nComputer Management > Storage > Disk Management). Select the partition \nyou want to unmap, then from the Action menu select All Tasks > Change \nDrive Letter and Path. Click the Remove button. \n6. Use the virtual machine settings editor (VM > Settings) if you want to change \nany configuration options from the wizard defaults — for example, to change \nthe amount of memory allocated to the guest operating system.\n7. If you have multiple IDE drives configured on a system, the VMware BIOS \nnormally attempts to boot them in this sequence: \na. Primary master\nb. Primary slave \nc. Secondary master"
  },
  {
    "page": 173,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n174\nVMware Workstation 4 User’s Manual\nd. Secondary slave \nIf you have multiple SCSI drives configured on a system, the VMware BIOS \nnormally attempts to boot them in the order of the SCSI device number. \nIf you have both SCSI and IDE drives configured, the VMware BIOS normally \nattempts to boot SCSI drives followed by IDE drives, in the order described \nabove. \nThe boot sequence can be changed in the Boot menu of the virtual machine's \nPhoenix BIOS. After powering on the virtual machine, press F2 during the BIOS \nboot in the virtual machine to enter the BIOS setup menu. \n8. Power on the virtual machine. Click the Power On button. The virtual machine \nstarts, runs the Phoenix BIOS, then boots from the master boot record (MBR).\nChoose the target operating system from the list of options offered by the boot \nmanager. \n9. Remember that your virtual machine hardware environment, which the guest \noperating system is about to run in for the first time, probably differs significantly \nfrom the physical hardware of your host computer. \nFor Windows guest operating systems, Plug and Play reconfigures Windows. Set \nup your virtual hardware profile with the devices found and configured by Plug \nand Play. See Setting Up Hardware Profiles in Virtual Machines on page 177 for \nmore information. \n10. Install VMware Tools in your guest operating system.\nWarning: If you take a snapshot while using your raw disk, you must either revert to \nthe snapshot or remove the snapshot before you reboot your guest operating system \nnatively. This is necessary because any changes to sectors on the physical disk that \nhave been modified on the disk invalidate the snapshot for the disk.\nConfiguring a Linux Host\n1. If you are running a Windows guest operating system, read Setting Up Hardware \nProfiles in Virtual Machines on page 177. You should boot the guest operating \nsystem natively on the computer and create a hardware profile for the virtual \nmachine before proceeding.\n2. Create a separate configuration for each guest operating system.\n3. Check operating system partition mounts. Be sure the existing disk partitions \nthat you plan to configure the virtual machine to use are not mounted by Linux.\n4. Set the device group membership or device ownership."
  },
  {
    "page": 174,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n175\nThe master raw disk device or devices need to be readable and writable by the \nuser who runs VMware Workstation. On most distributions, the raw devices, such \nas /dev/hda (IDE raw disk) and /dev/sda (SCSI raw disk) belong to group-id \ndisk. If this is the case, you can add VMware Workstation users to the disk \ngroup. Another option is to change the owner of the device. Please think \ncarefully about security issues when exploring different options here. \nOften, the most convenient approach is to grant VMware Workstation users \naccess to all /dev/hd[abcd] raw devices that contain operating systems or \nboot managers and then rely on VMware Workstation’s raw disk configuration \nfiles to guard access. This provides boot managers access to configuration files \nand other files they may need to boot the operating systems. For example, LILO \nneeds to read /boot on a Linux partition to boot a non-Linux operating system \nthat may be on another drive. As noted above, you should consider the security \nimplications of the configuration you choose.\n5. If you plan to run a second Linux installation from an existing partition as a guest \noperating system and your physical computer’s /etc/lilo.conf has a \nmemory register statement such as Append= \"mem…\", you may want to \nadjust the append memory parameter or create a new entry in LILO for running \nLinux in a virtual machine.\nIf the amount of memory configured in lilo.conf exceeds the amount of \nmemory assigned to the virtual machine, then when the virtual machine tries to \nboot the second Linux installation, the guest operating system will most likely \npanic.\nYou can create another entry in lilo.conf for running Linux in a virtual \nmachine by specifying a different amount of memory than what would normally \nbe recognized when Linux boots directly on the physical machine.\n6. To configure a virtual machine to run from a raw disk partition, start the New \nVirtual Machine Wizard (File > New Virtual Machine) and select Custom. \n7. When you reach the Select a Disk step, select Use a physical disk.\n8. Complete the wizard steps, specifying the appropriate disk or partition to use for \nthis virtual machine.\nCaution: Corruption is possible if you allow the virtual machine to modify a \npartition that is simultaneously mounted under Linux. Since the virtual machine \nand guest operating system access an existing partition while the host \ncontinues to run Linux, it is critical that the virtual machine not be allowed to \nmodify any partition mounted under Linux or in use by another virtual machine."
  },
  {
    "page": 175,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n176\nVMware Workstation 4 User’s Manual\nTo safeguard against this problem, be sure the partition you use in the virtual \nmachine is not mounted under the Linux host. \n9. Complete the remaining steps in the wizard. \n10. If you have multiple IDE drives configured on a system, the VMware BIOS \nnormally attempts to boot them in this sequence: \na. Primary master \nb. Primary slave \nc. Secondary master \nd. Secondary slave \nIf you have multiple SCSI drives configured on a system, the VMware BIOS \nnormally attempts to boot them in the order of the SCSI device number. \nIf you have both SCSI and IDE drives configured, the VMware BIOS normally \nattempts to boot SCSI drives followed by IDE drives, in the order described \nabove. \nYou can change the boot sequence using the Boot menu of the virtual \nmachine’s Phoenix BIOS. To enter the BIOS setup utility, power on the virtual \nmachine and press F2 as the virtual machine begins to boot.\n11. Power on the virtual machine. Click the Power On button. The virtual machine \nstarts, runs the Phoenix BIOS, then boots from the master boot record (MBR).\nChoose the target operating system from the list of options offered by the boot \nmanager. \n12. Remember that your virtual machine hardware environment, which the guest \noperating system is about to run in for the first time, probably differs significantly \nfrom the physical hardware of your machine. \nFor Windows guest operating systems, Plug and Play reconfigures Windows. Set \nup your virtual hardware profile with the devices found and configured by Plug \nand Play. See Setting Up Hardware Profiles in Virtual Machines on page 177 for \nmore information. \n13. Install VMware Tools in your guest operating system.\nWarning: If you take a snapshot while using your raw disk, you must either revert to \nthe snapshot or remove the snapshot before you reboot your guest operating system \nnatively. This is necessary because any changes to sectors on the physical disk that \nhave been modified on the disk invalidate the snapshot for the disk."
  },
  {
    "page": 176,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n177\nSetting Up Hardware Profiles in Virtual Machines\nCertain operating systems use hardware profiles to load the appropriate drivers for a \ngiven set of hardware devices. If you have a dual-boot system and want to use a \nvirtual machine to boot a previously installed operating system from an existing \npartition, you must set up “physical” and “virtual” hardware profiles. \nOnly users who are familiar with VMware Workstation virtual machines and the \nWindows hardware profiles concept should attempt this. \nIf you haven't already done so, review Configuring Dual- or Multiple-Boot Systems to \nRun with VMware Workstation on page 171 before proceeding.\nEach virtual machine provides a platform that consists of the following set of virtual \ndevices:\n•\nVirtual DVD/CD-ROM \n•\nVirtual IDE and SCSI hard disk drives \n•\nStandard PCI graphics adapter \n•\nStandard floppy disk drive \n•\nIntel 82371 PCI Bus Master IDE controller \n(includes primary and secondary IDE controllers) \n•\nBusLogic BT-958 compatible SCSI host adapter \n•\nStandard 101/102-key keyboard \n•\nPS/2-compatible mouse \n•\nAMD PCnet-PCI II compatible Ethernet adapter \n•\nSerial ports (COM1-COM4) \n•\nParallel ports (LPT1-LPT2) \n•\nTwo-port USB hub\n•\nSound card compatible with the Sound Blaster AudioPCI\n•\n82093AA IOAPIC\nThis set of virtual devices is different from the set of physical hardware devices on the \nhost computer and is independent of the underlying hardware with a few exceptions \n(the processor itself is such an exception). This feature provides a stable platform and \nallows operating system images installed within a virtual machine to be migrated to \nother physical machines, regardless of the configuration of the physical machine. \nIf an operating system is installed directly into a VMware Workstation virtual machine, \nthe operating system properly detects all the virtual devices by scanning the"
  },
  {
    "page": 177,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n178\nVMware Workstation 4 User’s Manual\nhardware. However, if an operating system is already installed on the physical \ncomputer (for example, in a dual-boot configuration), the operating system already is \nconfigured to use the physical hardware devices. In order to boot such a preinstalled \noperating system in a virtual machine, you need to create separate hardware profiles \nin order to simplify the boot process.\nMicrosoft Windows operating systems, beginning with Windows 95 and Windows NT \n4.0, allow you to create hardware profiles. Each hardware profile is associated with a \nset of known devices. If more than one hardware profile exists, the system prompts \nthe user to choose between different hardware profiles at boot time. \nWindows 95, Windows 98, Windows Me, Windows 2000, Windows XP and Windows \nServer 2003 use Plug and Play at boot time to confirm that the actual devices match \nthe chosen hardware profile. Mismatches lead to the automatic detection of new \ndevices. Although this operation succeeds, it can be fairly slow.\nWindows NT does not have Plug and Play support and uses the hardware profiles to \ninitialize its devices. Mismatches lead to errors reported by the device drivers and the \ndevices are disabled. \nIn order to set up hardware profiles for your physical and virtual machines, follow \nthese steps:\n1. Before running VMware Workstation to boot an operating system previously \ninstalled on a disk partition, boot the operating system natively and create two \nhardware profiles, which you can call Physical Machine and Virtual Machine. To \ndo this, open Control Panel > System, then click the Hardware Profiles tab — or \nclick the Hardware tab, then click Hardware Profiles, depending on the \noperating system. Click the Copy button and name the copies appropriately.\n2. Windows NT only: While still running the operating system natively, use the \nDevice Manager to disable some devices from the Virtual Machine hardware \nprofile. To do this, open Control Panel > Devices, then select the individual \ndevices to disable. Devices to disable in the Virtual Machine hardware profile \ninclude audio, MIDI and joystick devices, Ethernet and other network devices \nand USB devices. Remember to disable them in the Virtual Machine hardware \nprofile only.\nSkip this step if you are running Windows 95, Windows 98, Windows Me, \nWindows 2000, Windows XP or Windows Server 2003. The initial Plug and Play \nphase detects device mismatches. \n3. Reboot the computer into your intended host operating system — for example, \ninto Linux if you are running VMware Workstation on a Linux host."
  },
  {
    "page": 178,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n179\n4. Use the New Virtual Machine Wizard to configure your virtual machine as \ndescribed in Configuring Dual- or Multiple-Boot Systems to Run with VMware \nWorkstation on page 171.\n5. Boot the virtual machine and use your existing boot manager to select the guest \noperating system. Choose Virtual Machine at the hardware profile menu prompt. \nYou encounter device failure messages and delays during this initial boot.\n6. Windows Server 2003, Windows XP and Windows 2000 guests: After you log \non to Windows Server 2003, Windows XP or Windows 2000 (now running as a \nguest operating system) you should see a Found New Hardware dialog box for \nthe video controller as Plug and Play runs and discovers the virtual hardware. Do \nnot install drivers at this time. Click Cancel to close the Found New Hardware \ndialog box.\nDo not reboot the virtual machine. Click No in the System Settings Change/\nReboot dialog box. \nWindows Server 2003, Windows XP or Windows 2000 automatically detects and \nloads the driver for the AMD PCnet PCI Ethernet card. At this point, you should \ninstall VMware Tools inside the virtual machine. Allow the virtual machine to \nreboot after VMware Tools has been installed. Once Windows Server 2003, \nWindows XP or Windows 2000 reboots inside the virtual machine, select a new \nSVGA resolution from the Settings tab of the Display Properties dialog box to \nincrease the size of the virtual machine’s display window. \nWindows 95 and Windows 98 guests: You should see New Hardware \nDetected dialog boxes as Plug and Play runs and discovers the virtual hardware. \nWindows prompts you for locations to search for device drivers. Most of the \ndevice drivers are available in the existing operating system installation, but you \nmay need the installation CD-ROM for some networking device drivers. \nWindows also asks you to reboot your system several times as it installs the \ndevice drivers. \nIn some instances, Windows may not recognize the CD-ROM drive when it \nprompts you to insert the CD-ROM to look for device drivers during the initial \nhardware detection. In such cases, you can cancel the installation of the \nparticular device or try pointing to C:\\windows\\system\\ to search for \ndevice drivers on the hard disk. Any failed device installations may be performed \nat a later time after the CD-ROM drive is recognized.\nAfter Windows has installed the virtual hardware and its drivers, you can remove \nthe failed devices corresponding to the physical hardware using the Device \nManager (Control Panel > System > Device Manager)."
  },
  {
    "page": 179,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n180\nVMware Workstation 4 User’s Manual\nSelect the device, then click the Remove button. If a device appears in multiple \nhardware profiles, you can select the hardware profile or profiles from which to \nremove the device.\nIf you want to enable the virtual machine’s sound adapter to work inside the \nWindows 9x guest operating system, finish the remaining steps in this section, \nthen refer to Configuring Sound on page 269.\nWindows NT guests only: After the operating system has finished booting in \nthe virtual machine, view the event log to see which physical devices have failed \nto start properly. You can disable them from the Virtual Hardware profile using \nthe Device Manager (Control Panel > Devices).\nIf you want to enable the virtual machine’s sound adapter to work inside the \nWindows NT guest operating system, finish the remaining steps in this section, \nthen refer to Configuring Sound on page 269.\n7. Confirm that your virtual devices — specifically, the network adapter — are \nworking properly. \nWindows 95 and Windows 98 guests: If any virtual device is missing, you can \ndetect it by running Control Panel > Add New Hardware. \n8. Install VMware Tools. VMware Tools appears and runs in both hardware \nconfigurations but affects only the virtual machine.\nNote: The next time you reboot Windows natively using the Physical Machine \nhardware profile, some virtual devices may appear in the device list. You can \ndisable or remove these virtual devices from the Physical Machine hardware \nprofile in the same way that you removed physical devices from the virtual \nmachine hardware profile in step 6, above.\nRunning a Windows 2000, Windows XP or Windows Server \n2003 Virtual Machine from an Existing Multiple-Boot \nInstallation\nIf you have installed Windows 2000, Windows XP or Windows Server 2003 on a \ncomputer, then try to run that same installation of the operating system as a VMware \nWorkstation virtual machine running from a raw disk, the virtual machine may fail with \nan error message reporting an inaccessible boot device.\nThe problem occurs because the physical computer and the virtual machine require \ndifferent IDE drivers. The Windows plug and play feature, which handles drivers for \nmany hardware devices, does not install new IDE drivers."
  },
  {
    "page": 180,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n181\nIf you encounter this problem, VMware recommends that you install your Windows \n2000, Windows XP or Windows Server 2003 guest operating system in a virtual disk, \nrather than running it from a raw disk. \nIf you encounter this problem but it is important for you to run the virtual machine \nfrom the existing raw disk configuration, you can set up separate hardware profiles \n(described in Setting Up Hardware Profiles in Virtual Machines on page 177) and \nmanually update the IDE driver in the profile for the virtual machine. For a detailed \ndescription of the workaround, see the VMware knowledge base\n(www.vmware.com/info?id=41).\nSetting Up the SVGA Video Driver for a Windows 95 Guest \nOperating System Booted from a Raw Disk\nThis section explains how to configure the video driver in a Windows 95 raw disk \ninstallation using VMware Workstation. The steps below assume you are using \nWindows 95 as one of the operating systems in a dual-boot or multiple-boot \nconfiguration. Following these steps, you create separate hardware profiles for your \nvirtual machine and your physical machine. For more details on hardware profiles, see \nSetting Up Hardware Profiles in Virtual Machines on page 177.\n1. Boot Windows 95 natively (not in a virtual machine). \n2. Right-click the My Computer icon on the desktop, then select Properties. \n3. Click the Hardware Profiles tab. \n4. Highlight the Original Configuration profile, then click Copy. \n5. Name the profile Virtual Machine, then click OK. \nYou may also want to rename the Original Configuration profile to Physical \nMachine.\n6. Click OK to close the System Properties dialog box. \n7. Shut down Windows 95 and reboot the system. \n8. Boot into your host operating system (Linux, Windows NT, Windows 2000, \nWindows XP or Windows Server 2003). \n9. Start the Windows 95 virtual machine. \n10. Select Virtual Machine from the list of profiles when prompted. \n11. If you are prompted to select the CPU Bridge, accept the default, then click OK. \n12. Restart Windows 95 when prompted. \n13. Again, select Virtual Machine from the list of profiles when prompted."
  },
  {
    "page": 181,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n182\nVMware Workstation 4 User’s Manual\n14. When the video card is detected, you are prompted to select which driver you \nwant to install for your new hardware. Click the Select from a list of alternate \ndrivers radio button, then click OK. \n15. Select Display Adapters from the Select Hardware Type dialog box. \n16. Select Standard Display Adapter (VGA) from the device list, then click OK. \n17. Restart Windows 95 when prompted. \n18. Install VMware Tools as outlined in Installing a Guest Operating System and \nVMware Tools on page 78, then restart the virtual machine. \n19. Start the Device Manager and expand the Display adapters tree. \n20. Highlight VMware SVGA. Click Properties. \n21. Uncheck Physical Machine, then click OK. Click Close. \n22. Shut down Windows 95 and power off the virtual machine. \n23. Shut down your host operating system (Linux, Windows NT, Windows 2000, \nWindows XP or Windows Server 2003) and reboot into Windows 95. \n24. Select the Physical Machine profile when prompted. \n25. Repeat steps 19 through 21 and uncheck Virtual Machine, leaving Physical \nMachine checked. \nSetting Up the SVGA Video Driver for Use with a Windows 98 \nGuest Operating System Booted from a Raw Disk\nThis section explains how to configure the video driver in a Windows 98 raw disk \ninstallation using VMware Workstation. The steps below assume you are using \nWindows 98 as one of the operating systems in a dual-boot or multiple-boot \nconfiguration. Following these steps, you create separate hardware profiles for your \nvirtual machine and your physical machine. For more details on hardware profiles, see \nSetting Up Hardware Profiles in Virtual Machines on page 177.\n1. Boot Windows 98 natively (not in a virtual machine).\n2. Right-click the My Computer icon on the desktop, then select Properties.\n3. Click the Hardware Profiles tab.\n4. Highlight the Original Configuration profile, then click Copy.\n5. Name the profile Virtual Machine, then click OK.\nYou may also want to rename the Original Configuration profile to Physical \nMachine."
  },
  {
    "page": 182,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n183\n6. Click OK to close the System Properties dialog box.\n7. Shut down Windows 98 and reboot the system.\n8. Boot into your host operating system (Linux, Windows NT, Windows 2000, \nWindows XP or Windows Server 2003).\n9. Select Virtual Machine from the list of profiles when prompted.\n10. Windows 98 auto-detects the virtual machine’s devices and installs the device \ndrivers.\n11. When Windows detects the video card driver, select Search for the best driver.\n12. When prompted to reboot, click No. The AMD PCNET driver is installed, followed \nby the IDE controller drivers.\n13. When prompted to reboot, click Yes.\n14. Select the Virtual Machine hardware profile.\n15. After Windows 98 has completed booting, start the Add New Hardware wizard \nfrom the Control Panel.\n16. Click Next, then Next again.\n17. Select No, the device isn't in the list.\n18. Click Yes, then click Next.\n19. After all devices have been detected, click the Details button to list the detected \nnon-Plug and Play devices.\n20. Click Finish, then reboot the virtual machine when prompted.\n21. Select the VMware Workstation configuration profile. Notice that an unknown \nmonitor is detected and installed.\n22. Install VMware Tools as outlined in Installing a Guest Operating System and \nVMware Tools on page 78.\n23. Open the Device Manager. It should show that you have\n• Standard PCI Graphics Adapter \n• VMware SVGA Display Adapter \n24. Shut down the Windows 98 virtual machine and your host operating system.\n25. Boot natively into Windows 98, then start the Device Manager.\n26. Select the VMware SVGA device if listed, then click Remove.\n27. Select the Remove from Specific Configuration radio button, then select \nPhysical Machine from the configuration list."
  },
  {
    "page": 183,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n184\nVMware Workstation 4 User’s Manual\n28. Click OK, then reboot Windows 98 when prompted.\n29. Boot into Windows 98 natively and verify the display settings. You should be able \nto use the display driver that you installed natively before starting this procedure.\nDo Not Use Windows 2000, Windows XP and Windows Server \n2003 Dynamic Disks as Raw Disks\nWindows 2000, Windows XP and Windows Server 2003 support a disk type called a \ndynamic disk. Dynamic disks use a proprietary Microsoft format for recording partition \ninformation. This format is not publicly documented and thus is not supported for use \nin raw disk configurations under VMware Workstation. \nWindows 2000, Windows XP and Windows Server 2003 also support the older type of \npartition table. Disks that use this type of partition table are called basic disks. \nYou can use the disk management tool to check the type of disk used on your \nWindows 2000, Windows XP or Windows Server 2003 host and, if it is a dynamic disk, \nchange it to basic. \nCaution: If you change a dynamic disk to a basic disk, you lose all data on the disk. \nUse this procedure to convert a dynamic disk to a basic disk. \n1. Open the disk management tool.\nStart > Settings > Control Panel > Administrative Tools > Computer \nManagement > Disk Management \n2. Delete all logical volumes on the disk. This destroys all data on the disk. \n3. Right-click the disk icon and select Revert to Basic Disk. \n4. Create the partitions you want on the disk. \nConfiguring Dual- or Multiple-Boot SCSI Systems to Run \nwith VMware Workstation on a Linux Host\nIt may be possible to configure VMware Workstation so that you can use an operating \nsystem already installed and configured on a SCSI disk as a guest operating system \ninside a VMware Workstation virtual machine. \nUsing an existing SCSI disk — or SCSI raw disk — inside a virtual machine is supported \nonly if the host has an LSI Logic or BusLogic SCSI adapter. LSI Logic is the preferred \nchoice because it is easier to find drivers for LSI Logic adapters. It may be possible to \nconfigure a host with a different SCSI adapter so the same operating system can be \nbooted both natively and inside a virtual machine, but this approach is not supported"
  },
  {
    "page": 184,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n185\nby VMware. For details on some of the key issues involved, see Known Issues and \nBackground Information on Using SCSI Raw Disks on page 188.\nBefore You Create the Virtual Machine Configuration \nYou must create a separate configuration for each guest operating system. Allow read \nand write access to the partitions used by that operating system only. \n1. Before starting, if you are running a Windows guest operating system you should \nread Setting Up Hardware Profiles in Virtual Machines on page 177. You should \nboot the guest operating system natively on the computer and create a \nhardware profile for the virtual machine before proceeding. \n2. Check to see what SCSI ID is set for the drive you plan to use in the virtual \nmachine. \n3. Make certain that in addition to any SCSI drivers you have configured for the \nhost, you have also installed the driver for the LSI Logic or BusLogic virtual \nadapter you plan to use in the virtual machine. \nDrivers for LSI Logic controllers are available from the LSI Logic Web site — \nwww.lsilogic.com.In the download area of the site, find a driver for any of the \nadapters in the LSI53C10xx Ultra160 SCSI I/O controller series — for example, the \nLSI53C1000. \nThe LSI Logic Web site no longer provides drivers for the Mylex (BusLogic) \nBT/KT-958 compatible host bus adapter. \nThe LSI Logic or BusLogic driver needs to be installed in the profile for the guest \noperating system. \nNote: To use the virtual BusLogic SCSI adapter in a Windows XP or Windows \nServer 2003 virtual machine, you need a special SCSI driver available from the \ndownload section of the VMware Web site at www.vmware.com/download. \n4. Check operating system partition mounts. Be sure the existing raw disk \npartitions that you plan to configure the virtual machine to use are not mounted \nby the Linux host. \nCaution: A raw disk partition should not be used (mounted) simultaneously by \nthe host and the guest operating system. Because each operating system is \nunaware of the other, data corruption may occur if both operating systems read \nor write to the same partition. It is critical that the virtual machine not be allowed \nto modify any partition mounted under the Linux host or in use by another \nvirtual machine. To safeguard against this problem, be sure the partition you use \nfor the virtual machine is not mounted under the Linux host."
  },
  {
    "page": 185,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n186\nVMware Workstation 4 User’s Manual\n5. Set the device group membership or device ownership. The master raw disk \ndevices must be readable and writable by the user who runs VMware \nWorkstation. On most distributions, the raw devices (such as /dev/hda and\n/dev/hdb) belong to group-id disk. If this is the case, you can add VMware \nWorkstation users to the disk group. Another option is to change the owner of \nthe device. Please think carefully about security issues when you explore \ndifferent options here. \nIt is typically a good idea to grant VMware Workstation users access to all \n/dev/hd[abcd] raw devices that contain operating systems or boot \nmanagers and then rely on VMware Workstation’s raw disk configuration files to \nguard access. This provides boot managers access to configuration and other \nfiles they may need to boot the operating systems. For example, LILO needs to \nread /boot on a Linux partition to boot a non-Linux operating system that may \nbe on another drive. \n6. If you plan to run a second Linux installation from an existing partition as a guest \noperating system, and your physical machine’s /etc/lilo.conf has a \nmemory register statement such as Append= \"mem…\", you may want to \nadjust the append memory parameter or create a new entry in LILO for running \nLinux in a virtual machine. \nMany newer Linux distributions recognize all physical memory in the physical \nmachine, whereas many older Linux distributions see only the first 64MB of \nmemory by default. Machines with more than 64MB of memory that run the \nolder distributions may have the Append= \"mem=…\" parameter added under \nthe Image=… section of lilo.conf to tell Linux to look for more memory \nthan seen by default. \nIf the amount of memory configured in lilo.conf exceeds the amount of \nmemory assigned to the virtual machine, the guest operating system is likely to \npanic when the virtual machine tries to boot the second Linux installation. \nYou can create another entry in lilo.conf for running Linux in a virtual \nmachine by specifying a different amount of memory than what should \nnormally be recognized when Linux boots directly on the physical machine. \nSetting Up the Virtual Machine Configuration \n1. Start VMware Workstation.\n2. Start the New Virtual Machine Wizard (File > New Virtual Machine) and select \nCustom."
  },
  {
    "page": 186,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n187\n3. When you reach the Select I/O Adapter Types step, select the SCSI adapter type \nthat matches the driver you installed in the virtual machine profile.\n4. When you reach the Select a Disk step, select Use a physical disk.\n5. In the Device list, select the physical drive.\nUnder Usage, select whether to use the entire disk or individual partitions.\nIf you selected Use entire disk, click Next then go to step 6.\nIf you selected Use individual partitions, the Select Physical Disk Partitions panel \nappears. \nSelect the partitions you want the virtual machine to use, then click Next.\n6. In the entry field, enter a name of your choice for the physical disk.\nCaution: If you browse to place the disk file in another directory, do not select \nan existing virtual disk file.\nTo specify a device ID for the physical disk, click Advanced. In the Virtual device \nnode list, select the SCSI ID that corresponds to the one used by your SCSI drive. \nFor example, if your SCSI drive has SCSI ID 2, select SCSI 0:2. If you do not know \nthe SCSI ID set on your physical SCSI drive, try using SCSI 0:0.\nOn the advanced settings screen, you can also specify a disk mode. This is useful \nin certain special-purpose configurations in which you want to exclude disks \nfrom the snapshot. For more information on the snapshot feature, see Using the \nSnapshot on page 200.\nNormal disks are included in the snapshot. In most cases, this is the setting you \nwant.\nIndependent disks are not included in the snapshot. You have the following \noptions for an independent disk:\n• Persistent — changes are immediately and permanently written to the disk.\n• Nonpersistent — changes to the disk are discarded when you power off or \nrevert to the snapshot.\nWhen you have set the filename and location you want to use and have made \nany selections you want to make on the advanced settings screen, click Finish.\n7. Begin using your virtual machine."
  },
  {
    "page": 187,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n188\nVMware Workstation 4 User’s Manual\nKnown Issues and Background Information on Using SCSI Raw Disks \nGeometry \nIn some cases, it is not possible to boot a raw SCSI drive inside a virtual machine \nbecause the SCSI adapter in the physical computer and the BusLogic adapter in the \nvirtual machine describe the drive in different ways. The virtual machine might hang \nduring the boot, VMware Workstation might crash or VMware Workstation might fail \nwith an ASSERT or other error message. \nThis problem is most likely to affect smaller drives — less than 2GB. \nIn order to share the same BIOS interface used by IDE disks (which is required in order \nto boot), all SCSI disks need to have a geometry, which is a fabricated value for the \nnumber of cylinders, sectors and heads on the disk. \nIn fact, a SCSI disk appears to a computer as a single flat entity from sector 1 up to the \nhighest sector on the disk. As a result, every SCSI vendor has its own approach to \ntaking the capacity of a SCSI disk and generating a geometry to use for booting. \nThe conversion from a given geometry to an absolute sector number depends on the \ngeometry. If you have a disk with a boot sector written by a program running on the \nhost and you try to boot that disk inside a virtual machine, the boot program can fail if \nthe host geometry does not match the geometry used by the BusLogic virtual SCSI \nadapter. The symptoms are that you see the first part of the boot loader — possibly an \nLI from LILO, for example — but then the boot either stops or crashes. \nBusLogic uses the following rules for generating disk geometries: \nIn each case the number of cylinders is calculated by taking the total capacity of the \ndisk and dividing by (heads*sectors). Fortunately, for sufficiently big disks, practically \nall vendors use 255 heads and 63 sectors. \nDrivers \nIn contrast to IDE adapters, SCSI adapters are not interchangeable and cannot all use \nthe same drivers. That is, if you have an Adaptec SCSI host adapter in your machine \nand you remove it and replace it with a BusLogic SCSI host adapter, your operating \nsystem will most likely fail to boot unless you install a BusLogic driver. \nDisk size\nHeads\nSectors \n <= 1GB\n 64\n 32\n > 1GB and <= 2GB\n128\n 32 \n > 2GB \n 255\n 63"
  },
  {
    "page": 188,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n189\nDual booting from a disk that is also used as a virtual disk is no different. To your \noperating system, it appears that the SCSI card in the machine suddenly changed \nfrom whatever you own to an LSI Logic or BusLogic card, and your operating system \nneeds to have a corresponding driver installed. If that driver is not installed, you get a \npanic, a blue screen or some similar fatal error as soon as the boot process tries to \nswitch from the BIOS bootstrap to the disk driver installed in the operating system. \nOperating System Configuration \nMany operating systems have configuration information that is different for SCSI and \nIDE drives. For example, Linux uses /dev/hd[x] as the device name for IDE disks \nand /dev/sd[x] for SCSI disks. References to these names appear in \n/etc/fstab and other configuration files. \nThis is one reason that booting a raw IDE disk as a SCSI disk or vice versa does not work \nwell (if at all). \nHowever, even when you are dealing only with SCSI devices, it is possible for an \noperating system to encode information in a way that causes problems when you are \ndual booting. For example, Solaris names its SCSI disks /dev/c[x]t[y]d[z]s0, \nwhere the y represents the SCSI ID. So if you had a raw disk configured as SCSI ID 3 on \nthe host and as SCSI ID 0 in your VMware Workstation configuration file, it would \nmove if you were running Solaris, and most likely Solaris would not boot. \nThe precise dependencies in various operating systems can be complex. That is why it \nis safest to configure SCSI raw disks in a virtual machine using the same SCSI ID as they \nuse on the host."
  },
  {
    "page": 189,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n190\nVMware Workstation 4 User’s Manual\nInstalling an Operating System onto a \nRaw Partition from a Virtual Machine\nIn some situations, you may want to install a guest operating system directly on a \nphysical disk or partition — known as a raw disk — even if you do not need to boot \nthat disk on the host, outside of the virtual machine. \nIt is possible to use either an unused partition or a completely unused disk on the host \nas a disk in the virtual machine. However, it is important to be aware that an operating \nsystem installed in this setting probably cannot boot outside of the virtual machine, \neven though the data is available to the host. \nIf you have a dual-boot system and want to configure a virtual machine to boot from \nan existing partition, see Configuring a Dual-Boot Computer for Use with a Virtual \nMachine on page 169. The instructions in this section do not apply to a disk with a \npreviously installed operating system.\nCaution: Raw disks are an advanced feature and should be configured only by expert \nusers.\nVMware Workstation uses description files to control access to each raw disk on the \nsystem. These description files contain access privilege information that controls a \nvirtual machine’s access to certain partitions on the disks. This mechanism prevents \nusers from accidentally running the host operating system again as a guest or running \na guest operating system that the virtual machine is not configured to use. The \ndescription file also prevents accidental writes to raw disk partitions from badly \nbehaved operating systems or applications. \nUse the New Virtual Machine Wizard to configure VMware Workstation to use existing \nraw disk partitions. The wizard guides you though creating a new virtual machine \nincluding configuring the raw disk description files. Rerun the wizard to create a \nseparate configuration for each guest operating system installed on a raw partition. \nConfiguring a Windows Host\nWindows 2000, Windows XP and Windows Server 2003 Dynamic Disks\nIf your host is running Windows 2000, Windows XP or Windows Server 2003 and is \nusing dynamic disks, see Do Not Use Windows 2000, Windows XP and Windows \nServer 2003 Dynamic Disks as Raw Disks on page 184."
  },
  {
    "page": 190,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n191\nConfiguring the Virtual Machine to Use a Raw Disk\nUse the following steps to run a guest operating system from a raw disk. \nNote: If you use a Windows host’s IDE disk in a raw disk configuration, it cannot be \nconfigured as the slave on the secondary IDE channel if the master on that channel is \na CD-ROM drive.\n1. Identify the raw partition on which you plan to install the guest operating \nsystem.\nCheck the guest operating system documentation regarding the type of \npartition on which the operating system can be installed. For example, operating \nsystems like DOS, Windows 95 and Windows 98 must be installed on the first \nprimary partition while others, like Linux, can be installed on a primary or \nextended partition on any part of the drive. \nIdentify an appropriate raw partition or disk for the guest operating system to \nuse. Be sure that the raw partition is not mounted by the Windows host and not \nin use by others. Also, be sure the raw partition or disk does not have data you \nwill need in the future; if it does, back up that data now. \n2. Start the New Virtual Machine Wizard (File > New Virtual Machine) and select \nCustom."
  },
  {
    "page": 191,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n192\nVMware Workstation 4 User’s Manual\n3. When you reach the Select a Disk step, select Use a physical disk.\n4. Choose the physical hard disk to use from the drop-down list. Select whether \nyou want to use the entire disk or use only individual partitions on the disk. Click \nNext.\n5. If you selected Use individual partitions in the previous step, select which \npartitions you want to use in the virtual machine. If you selected Use entire disk, \nthis step does not appear.\nClick Next.\n6. The partition on which you are installing the guest operating system should be \nunmapped in the host. \nCaution: Corruption is possible if you allow the virtual machine to modify a \npartition that is simultaneously mounted under Windows. Since the virtual \nmachine and guest operating system access a raw disk partition while the host \ncontinues to run Windows, it is critical that you not allow the virtual machine to \nmodify any partition mounted by the host or in use by another virtual machine. \nTo safeguard against this problem, be sure the raw disk partition you use for the \nvirtual machine is not in use by the host."
  },
  {
    "page": 192,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n193\nWindows NT host: Use the Disk Administrator (Start > Programs > \nAdministrative Tools). First highlight the partition that contains the guest \noperating system, then choose Tools > Assign Drive Letter. In the dialog box, \nchoose Do not assign a drive letter for the partition and click OK. The \nunmapping happens immediately. \nWindows Server 2003, Windows XP or Windows 2000 host: Use Disk \nManagement (Start > Settings > Control Panel > Administrative Tools > \nComputer Management > Storage > Disk Management). Select the partition \nyou want to unmap, then choose Action > All Tasks > Change Drive Letter and \nPath. Click the Remove button. \n7. Use the virtual machine settings editor (VM > Settings) if you want to change \nany configuration options from the wizard defaults — for example, to change \nthe amount of memory allocated to the guest operating system.\n8. At this point you are ready to begin installing the guest operating system onto \nthe raw disk you configured for the virtual machine. For more details, read the \ninstallation notes for various guest operating systems in the VMware Guest \nOperating System Installation Guide, available from the VMware Web site or from \nthe Help menu.\nConfiguring a Linux Host\n1. Identify the raw partition on which the guest operating system will be installed.\nCheck the guest operating system documentation regarding the type of \npartition on which the operating system can be installed. For example, operating \nsystems like DOS, Windows 95 and Windows 98 must be installed on the first \nprimary partition while others, like Linux, can be installed on a primary or \nextended partition on any part of the drive. \nIdentify an appropriate raw partition or disk for the guest operating system to \nuse. Check that the raw partition is not mounted by the Linux host and not in \nuse by others. Also, be sure the raw partition or disk does not have data you will \nneed in the future; if it does, back up that data now.\n2. Check the operating system partition mounts. Be sure the existing disk partitions \nthat you plan to use in the virtual machine are not mounted by Linux.\n3. Set the device group membership or device ownership.\nThe master raw disk device or devices need to be readable and writable by the \nuser who runs VMware Workstation. On most distributions, the raw devices, such \nas /dev/hda (IDE raw disk) and /dev/sdb (SCSI raw disk) belong to group-id \ndisk. If this is the case, you can add VMware Workstation users to the disk"
  },
  {
    "page": 193,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n194\nVMware Workstation 4 User’s Manual\ngroup. Another option is to change the owner of the device. Please think \ncarefully about security issues when you explore different options here. \nIt is a good idea to grant VMware Workstation users access to all \n/dev/hd[abcd] raw devices that contain operating systems or boot \nmanagers, then rely on VMware Workstation’s raw disk configuration files to \nguard access. This provides boot managers access to configuration and other \nfiles they may need to boot the operating systems. For example, LILO needs to \nread /boot on a Linux partition to boot a non-Linux operating system that may \nbe on another drive. \n4. Start the New Virtual Machine Wizard (File > New Virtual Machine) and select \nCustom. \n5. When you reach the Select a Disk step, select Use a physical disk.\n6. If the raw disk you plan to use has multiple partitions on it already, be aware that \ncertain operating systems (DOS, Windows 95, Windows 98) must be installed on \nthe first primary partition. \nCaution: Corruption is possible if you allow the virtual machine to modify a \npartition that is simultaneously mounted under the Linux host operating system. \nSince the virtual machine and guest operating system access an existing \npartition while the host continues to run Linux, it is critical that the virtual \nmachine not be allowed to modify any partition mounted by the host or in use \nby another virtual machine.\nTo safeguard against this problem, be sure the partition you use for the virtual \nmachine is not mounted under the Linux host. \n7. At this point you are ready to begin installing the guest operating system on the \nraw disk you configured for the virtual machine. For more details, read the \ninstallation notes for various guest operating systems in the VMware Guest \nOperating System Installation Guide, available from the VMware Web site  or from \nthe Help menu."
  },
  {
    "page": 194,
    "chapter": "Using Disks",
    "text": "C H A P T E R  7  Using Disks\n195\nDisk Performance in Windows NT Guests \non Multiprocessor Hosts\nSome users have seen slower than expected disk input and output performance \nwhen running Windows NT guest operating systems. They see the problem in a \nVMware Workstation virtual machine using IDE virtual disks on a multiprocessor host \ncomputer. The I/O issue is especially noticeable when the virtual machine is booting.\nNote: Performance in Windows NT guest operating systems may also be affected by \ndisk fragmentation on the host computer. For details, see Configuring and \nMaintaining the Host Computer on page 309.\nImproving Performance\nYou may increase performance by enabling DMA (direct memory access) on the \nvirtual hard disk’s IDE channel in the virtual machine. \nIf you have a virtual disk and a DVD/CD-ROM attached as master and slave to the \nprimary IDE controller (channel 0) and you want to enable DMA, power off the virtual \nmachine and use the virtual machine settings editor (VM > Settings) to move the \nDVD/CD-ROM drive to the secondary IDE controller (channel 1) at IDE 1:0. \nYou can enable the DMA feature after you finish installing Windows NT. You must \ninstall Service Pack 6a. Download DMACHECK.EXE from the Microsoft Web site \n(support.microsoft.com/support/kb/articles/Q191/7/74.ASP)  and run it.\nClick the Enabled option for the IDE controller and channel configured for the virtual \ndisk. Typically, this is channel 0 only, unless you have the virtual machine configured \nwith multiple virtual disks and no virtual DVD/CD-ROM drive.\nAs noted above, you should not enable DMA on an IDE channel with a virtual DVD/\nCD-ROM drive attached."
  },
  {
    "page": 195,
    "chapter": "Using Disks",
    "text": "www.vmware.com\n196\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 196,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "C H A P T E R8\n197\nPreserving the State \nof a Virtual Machine\nVMware Workstation 4 offers two ways to preserve the state of a virtual machine. The \nfollowing sections describe these features and help you understand which is \nappropriate in particular situations:\n•\nUsing Suspend and Resume on page 199\n•\nUsing the Snapshot on page 200\n• What Is Captured by the Snapshot? on page 200\n• Settings for the Snapshot on page 201\n• Updating the Snapshot When You Change Virtual Machine Settings on \npage 202\n• Removing the Snapshot on page 202\n• Ways of Using the Snapshot on page 202\n• The Snapshot and Legacy Disk Modes on page 203\n• The Snapshot and Repeatable Resume on page 204\n• The Snapshot and Legacy Virtual Machines on page 204"
  },
  {
    "page": 197,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "www.vmware.com\n198\nVMware Workstation 4 User’s Manual\n• The Snapshot and the Virtual Machine’s Hard Disks on page 204\n• The Snapshot and Other Activity in the Virtual Machine on page 205"
  },
  {
    "page": 198,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "C H A P T E R  8  Preserving the State of a Virtual Machine\n199\nUsing Suspend and Resume\nThe suspend and resume feature is most useful when you want to save the current \nstate of your virtual machine, then pick up work later with the virtual machine in the \nsame state it was when you stopped. \nOnce you resume and do additional work in the virtual machine, there is no way to \nreturn to the state the virtual machine was in at the time you suspended.\nTo preserve the state of the virtual machine so you can return to the same state \nrepeatedly, take a snapshot. For details, see Using the Snapshot on page 200.\nThe speed of the suspend and resume operations depends on how much data has \nchanged while the virtual machine has been running. In general, the first suspend \noperation takes a bit longer than later suspend operations do. \nWhen you suspend a virtual machine, a file with a .vmss extension is created. This \nfile contains the entire state of the virtual machine. When you resume the virtual \nmachine, its state is restored from the .vmss file.\nTo suspend a virtual machine:\n1. If your virtual machine is running in full screen mode, return to window mode by \npressing the Ctrl-Alt key combination.\n2. Click Suspend on the VMware Workstation toolbar.\n3. When VMware Workstation has completed the suspend operation, it is safe to \nexit VMware Workstation.\nFile > Exit\nTo resume a virtual machine that you have suspended: \n1. Start VMware Workstation and choose a virtual machine you have suspended. \n2. Click Resume on the VMware Workstation toolbar.\nNote that any applications you were running at the time you suspended the \nvirtual machine are running and the content is the same as it was when you \nsuspended the virtual machine."
  },
  {
    "page": 199,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "www.vmware.com\n200\nVMware Workstation 4 User’s Manual\nUsing the Snapshot\nThe snapshot feature is most useful when you want to preserve the state of the virtual \nmachine so you can return to the same state repeatedly. \nTo simply save the current state of your virtual machine, then pick up work later with \nthe virtual machine in the same state it was when you stopped, suspend the virtual \nmachine. For details, see Using Suspend and Resume on page 199.\nYou can take a snapshot while a virtual machine is powered on, powered off or \nsuspended. (If you are suspending a virtual machine, wait until the suspend operation \nhas finished before taking the snapshot.) A snapshot preserves the virtual machine \njust as it was when you took the snapshot — the state of the data on all the virtual \nmachine’s disks and whether the virtual machine was powered on, powered off or \nsuspended. You can then revert to that snapshot at any time.\nNote: If you are using a legacy virtual machine — a virtual machine created under \nVMware Workstation 3 and not upgraded to use the new VMware Workstation 4 \nvirtual hardware — you must power off the virtual machine before taking a snapshot. \nFor information on upgrading the virtual hardware, see Upgrading VMware \nWorkstation on page 41. You also must power off the virtual machine before taking a \nsnapshot if the virtual machine has multiple disks in different disk modes — for \nexample, if you have a special purpose configuration that requires you to use an \nindependent disk.\nWhen you revert to a snapshot, you discard all changes made to the virtual machine \nsince you took the snapshot.\nUse the Snapshot and Revert buttons on the Workstation toolbar to take a snapshot \nand revert to it later.\nYou can take a new snapshot at almost any time. When you take a new snapshot, you \nreplace the previous snapshot. You can have only one active snapshot at a time.\nWhat Is Captured by the Snapshot?\nThe snapshot captures the entire state of the virtual machine at the time you take the \nsnapshot. This includes:\n•\nThe state of all the virtual machine’s disks.\n•\nThe contents of the virtual machine’s memory.\n•\nThe virtual machine settings.\nWhen you revert to the snapshot, you return all these items to the state they were in \nat the time you took the snapshot."
  },
  {
    "page": 200,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "C H A P T E R  8  Preserving the State of a Virtual Machine\n201\nNote: In certain special purpose configurations, you may want to exclude one or \nmore of the virtual machine’s disks from the snapshot. To exclude a disk from the \nsnapshot, choose VM > Settings, select the drive you want to exclude, then click \nAdvanced. On the advanced settings screen, select Independent. You have the \nfollowing options for an independent disk:\n•\nPersistent — changes are immediately and permanently written to the disk. All \nchanges to an independent disk in persistent mode remain, even when you \nrevert to the snapshot.\n•\nNonpersistent — changes to the disk are discarded when you power off or \nrevert to the snapshot.\nSettings for the Snapshot\nYou can also specify what you want VMware Workstation to do with the snapshot any \ntime the virtual machine is powered off. To do so, go to VM > Settings > Options > \nSnapshot and select one of the choices under When powering off.\nOptions when powering off include \n•\nJust power off — leaves the snapshot as it is. This is the default setting.\n•\nRevert to the snapshot — reverts to the snapshot so the virtual machine always \nstarts in the same state; reverting to the snapshot discards changes.\n•\nUpdate the snapshot— takes a new snapshot of the virtual machine state as it \nwas just before you powered off; this replaces the previous snapshot.\n•\nAsk me — always asks what you want to do with the snapshot when you power \noff.\nIf the virtual machine has no snapshot, you can disable the snapshot feature by \nselecting Disable snapshots. If you have a snapshot and want to disable the snapshot"
  },
  {
    "page": 201,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "www.vmware.com\n202\nVMware Workstation 4 User’s Manual\nfeature, first go to the VMware Workstation menu and choose Snapshot > Remove \nSnapshot. Then return to the virtual machine settings editor and select Disable \nsnapshots.\nTo lock the snapshot so no new snapshot can be taken, select Lock this snapshot.\nUpdating the Snapshot When You Change Virtual Machine \nSettings\nWhen you change settings in the virtual machine settings editor, you may want to \nupdate the snapshot so these new settings are in effect when you revert to the \nsnapshot. The most convenient way to do so is to select Update the snapshot after \nchanging settings at the bottom of the virtual machine settings editor.\nIf this option is selected, when you click OK in the virtual machine settings editor, \nVMware Workstation updates the snapshot of the virtual machine. To avoid updating \nthe snapshot, click Cancel or deselect Update the snapshot after changing settings \nbefore you click OK.\nRemoving the Snapshot\nYou can remove the snapshot any time the virtual machine is powered off. Removing \nthe snapshot does not destroy any data in the virtual machine. You keep all changes \nmade since you took the snapshot. For example, changes made to data stored on the \nvirtual hard disk are written to the virtual disk files. You then permanently accumulate \nadditional changes as you run the virtual machine. You cannot revert to a previous \nstate because the snapshot no longer exists.\nTo remove the snapshot, shut down and power off the virtual machine. Then, on the \nVMware Workstation menu, choose Snapshot > Remove Snapshot.\nWays of Using the Snapshot\nThe following examples illustrate the most common ways you can use the snapshot.\nNo Snapshot\nIf you do not take a snapshot, your virtual machine runs the same way a physical \ncomputer does. All changes you make while you are working with a virtual machine \nare saved and you cannot return to an earlier state.\nIf you do not need to use the snapshot feature, it is best to run your virtual machine \nwith no snapshot. This provides best performance. To be sure a virtual machine has no \nsnapshot, choose Snapshot > Remove Snapshot. You can then disable the snapshot \nfunctionality for the virtual machine. Go to VM > Settings > Options > Snapshot and \nselect Disable snapshots."
  },
  {
    "page": 202,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "C H A P T E R  8  Preserving the State of a Virtual Machine\n203\nMaking Risky Changes\nIf you plan to make risky changes in a virtual machine (for example, testing new \nsoftware or examining a virus), take a snapshot before you begin to make those risky \nchanges. If you encounter a problem, click Revert to return the virtual machine to its \nstate at the time you took the snapshot.\nIf the first action you take causes no problems and you want to protect the virtual \nmachine in its new state, you can take a new snapshot. You can have only one \nsnapshot at a given time. When you take the new snapshot, you replace your previous \nsnapshot. You do not lose any data. For example, changes made to data stored on the \nvirtual hard disk are written to the virtual disk files. \nStarting a Virtual Machine Repeatedly in the Same State\nYou can configure the virtual machine to revert to the snapshot any time it is powered \noff. To do so, go to VM > Settings > Options > Snapshot. Under When powering off, \nselect Revert to the snapshot. If you want the virtual machine to be suspended when \nyou launch it, suspend the virtual machine before saving the snapshot. Similarly, if you \nwant the virtual machine to be powered on or powered off when you launch it, be \nsure it is powered on or powered off when you take the snapshot.\nThe Snapshot and Legacy Disk Modes\nIf you are familiar with the disk modes used in earlier versions of VMware Workstation, \nyou can use the snapshot to achieve equivalent results.\n•\nPersistent mode — Do not take a snapshot.\n•\nUndoable mode — Take a snapshot when you begin your working session. To \ndiscard all work done during the session, revert to the snapshot. To commit the \nwork done during the session, take a new snapshot at the end of the working \nsession. To keep the work done during a session without committing it, leave the \noriginal snapshot unchanged.\n•\nNonpersistent mode — Be sure the virtual machine is in the state you want it. \nPower off the virtual machine. Take a snapshot. Go to VM > Settings > Options > \nSnapshot. Under When powering off select Revert to snapshot.\nNote: In earlier versions of VMware Workstation, disk modes had to be set \nindividually for each disk. The snapshot introduced in VMware Workstation 4 applies \nby default to the entire virtual machine, including all disks attached to the virtual \nmachine."
  },
  {
    "page": 203,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "www.vmware.com\n204\nVMware Workstation 4 User’s Manual\nThe Snapshot and Repeatable Resume\nThe repeatable resume feature in earlier versions of Workstation allowed you to \nresume a suspended virtual machine repeatedly in the same state. You can use the \nsnapshot to accomplish the same thing. Run the virtual machine, be sure it is in the \nstate you want it, then suspend it. Take a snapshot. Go to VM > Settings > Options > \nSnapshot. Under When powering off, select Revert to the snapshot.\nThe Snapshot and Legacy Virtual Machines\nIf you are using a legacy virtual machine — a virtual machine created under VMware \nWorkstation 3 and not upgraded to use the new VMware Workstation 4 virtual \nhardware — and you have disks in undoable or nonpersistent mode, you have a \nsnapshot. If you have persistent disks, you have no snapshot. You have the following \noptions:\n•\nPersistent mode — You have no snapshot. You may take a snapshot any time the \nvirtual machine is powered off.\n•\nUndoable mode — You have a snapshot. You may update or remove the \nsnapshot any time the virtual machine is powered off.\n•\nNonpersistent mode — You have a snapshot. In addition, in the virtual machine \nsettings editor, the virtual machine is set to revert to the snapshot every time it is \npowered off. You may update or remove the snapshot any time the virtual \nmachine is powered off. You may also change the settings in the virtual machine \nsettings editor any time the virtual machine is powered off.\nThe Snapshot and the Virtual Machine’s Hard Disks\nWhen a snapshot exists and the virtual machine saves data to disk, that data is written \nto a set of redo-log files. These files have .REDO as part of the filename and are stored \nin the virtual machine’s working directory.\nNewly saved data continues to accumulate in the redo-log files until you take an \naction that affects the snapshot. \n•\nRemove the snapshot — When you remove the snapshot, the changes \naccumulated in the redo-log files are written permanently to the base disks., \neither the virtual disk files or the physical disks, depending on your virtual \nmachine’s hard disk configuration. This is similar to committing changes to a disk \nin VMware Workstation 3.\n•\nRevert to the snapshot — When you revert to the snapshot, the contents of the \nredo-log files are discarded. Any additional changes are, once again,"
  },
  {
    "page": 204,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "C H A P T E R  8  Preserving the State of a Virtual Machine\n205\naccumulated in the redo-log files. This is similar to discarding changes to a disk in \nVMware Workstation 3.\n•\nTake a snapshot — If you take a snapshot when the virtual machine already has a \nsnapshot, changes stored in the redo-log files are written permanently to the \nbase disk. Then any subsequent changes are, once again, accumulated in the \nredo-log files.\nThe Snapshot and Other Activity in the Virtual Machine\nWhen you take a snapshot, be aware of other activity going on in the virtual machine \nand the likely impact of reverting to the snapshot. In general, it is best to take the \nsnapshot when no applications in the virtual machine are communicating with other \ncomputers.\nThe potential for problems is greatest if the virtual machine is communicating with \nanother computer, especially in a production environment.\nConsider a case in which you take a snapshot while the virtual machine is \ndownloading a file from a server on the network. After you take the snapshot, the \nvirtual machine continues downloading the file, communicating its progress to the \nserver. If you revert to the snapshot, communications between the virtual machine \nand the server are confused and the file transfer fails.\nOr consider a case in which you take a snapshot while an application in the virtual \nmachine is sending a transaction to a database on a separate machine. If you revert to \nthe snapshot — especially if you revert after the transaction starts but before it has \nbeen committed — the database is likely to be confused."
  },
  {
    "page": 205,
    "chapter": "Preserving the State of a Virtual Machine",
    "text": "www.vmware.com\n206\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 206,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R9\n207\nConfiguring a Virtual Network\nVMware Workstation provides virtual networking components that let you create a \nwide range of configurations.\nIf you select the Typical setup path in the New Virtual Machine Wizard when you \ncreate a virtual machine, the wizard sets up bridged networking for the virtual \nmachine. You can choose any of the common configurations — bridged networking, \nnetwork address translation (NAT) and host-only networking — by selecting the \nCustom setup path. The wizard then connects the virtual machine to the appropriate \nvirtual network. \nYou can set up more specialized configurations by choosing the appropriate settings \nin the virtual machine settings editor, in the Virtual Network Editor (on Windows \nhosts) and on your host computer.\nOn a Windows host, the software needed for all networking configurations is installed \nwhen you install VMware Workstation. On a Linux host, all components are available if \nyou choose to have both bridged and host-only networking available to your virtual \nmachines at the time you install VMware Workstation.\nThe first topics in this section give you a quick look at the virtual networking \ncomponents that VMware Workstation provides and show how you can use them"
  },
  {
    "page": 207,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n208\nVMware Workstation 4 User’s Manual\nwith your virtual machine. The rest of the section provides more detail on some \nnetworking capabilities and specialized configurations.\n•\nComponents of the Virtual Network on page 210\n•\nCommon Networking Configurations on page 212\n• Bridged Networking on page 212\n• Network Address Translation (NAT) on page 213\n• Host-Only Networking on page 214\n•\nCustom Networking Configurations on page 216\n•\nChanging the Networking Configuration on page 219\n• Adding and Modifying Virtual Network Adapters on page 219\n• Configuring Bridged Networking Options on a Windows Host on page 220\n• Enabling, Disabling, Adding and Removing Host Virtual Adapters on page 224\n•\nAdvanced Networking Topics on page 228\n• Selecting IP Addresses on a Host-Only Network or NAT Configuration on \npage 228\n• Avoiding IP Packet Leakage in a Host-Only Network on page 230\n• Maintaining and Changing the MAC Address of a Virtual Machine on page 232\n• Controlling Routing Information for a Host-Only Network on a Linux Host on \npage 234\n• Other Potential Issues with Host-Only Networking on a Linux Host on \npage 234\n• Setting Up a Second Bridged Network Interface on a Linux Host on page 236\n• Setting Up Two Separate Host-Only Networks on page 236\n• Routing between Two Host-Only Networks on page 239\n• Using Virtual Ethernet Adapters in Promiscuous Mode on a Linux Host on \npage 243\n•\nUnderstanding NAT on page 244\n• Using NAT on page 244\n• The Host Computer and the NAT Network on page 244\n• DHCP on the NAT Network on page 245\n• DNS on the NAT Network on page 245"
  },
  {
    "page": 208,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n209\n• External Access from the NAT Network on page 245\n• Advanced NAT Configuration on page 247\n• Custom NAT and DHCP Configuration on a Windows Host on page 250\n• Considerations for Using NAT on page 251\n• Using NAT with NetLogon on page 251\n• Sample Linux vmnetnat.conf File on page 253\n•\nUsing Samba on a Linux Host on page 256"
  },
  {
    "page": 209,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n210\nVMware Workstation 4 User’s Manual\nComponents of the Virtual Network\nVirtual switch — Like a physical switch, a virtual switch lets you connect other \nnetworking components together. Virtual switches are created as needed by the \nVMware Workstation software, up to a total of nine switches. You can connect one or \nmore virtual machines to a switch.\nA few of the switches and the networks associated with them are, by default, used for \nspecial named configurations. The bridged network normally uses VMnet0. The host-\nonly network uses VMnet1 by default. And the NAT network uses VMnet8 by default. \nThe others available networks are simply named VMnet2, VMnet3, VMnet4, and so on.\nYou connect a virtual machine to a switch by selecting the virtual network adapter \nyou want to connect in the virtual machine settings editor, then configuring it to use \nthe desired virtual network.\nBridge — The bridge lets you connect your virtual machine to the LAN used by your \nhost computer. It connects the virtual network adapter in your virtual machine to the \nphysical Ethernet adapter in your host computer. \nThe bridge is installed during VMware Workstation installation (on a Linux host, you \nmust choose to make bridged networking available to your virtual machines). It is set \nup automatically when you create a new virtual machine using bridged networking.\nAdditional virtual bridges can be set up for use in custom configurations that require \nconnections to more than one physical Ethernet adapter on the host computer. \nHost virtual adapter — The host virtual adapter is a virtual Ethernet adapter that \nappears to your host operating system as a VMware Virtual Ethernet Adapter on a \nWindows host and as a Host-Only Interface on a Linux host. It allows you to \ncommunicate between your host computer and the virtual machines on that host \ncomputer. The host virtual adapter is used in host-only and NAT configurations.\nThe host virtual adapter is not connected to any external network unless you set up \nspecial software on the host computer — a proxy server, for example — to connect \nthe host-only adapter to the physical network adapter.\nThe software that creates the host virtual adapter is installed when you install VMware \nWorkstation (on a Linux host, you must choose to make host-only networking \navailable to your virtual machines). A host virtual adapter is then created automatically \nwhen you boot the host computer.\nYou can set up additional host virtual adapters as needed.\nNAT device — The NAT (network address translation) device allows you to connect \nyour virtual machines to an external network when you have only one IP network"
  },
  {
    "page": 210,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n211\naddress on the physical network, and that address is used by the host computer. You \ncan, for example, use NAT to connect your virtual machines to the Internet through a \ndial-up connection on the host computer or through the host computer’s Ethernet \nadapter or wireless Ethernet adapter. NAT is also useful when you need to connect to \na non-Ethernet network, such as Token Ring or ATM.\nThe NAT device is set up automatically when you install VMware Workstation. (On a \nLinux host, you must choose to make NAT available to your virtual machines.)\nDHCP server — The DHCP (dynamic host configuration protocol) server provides IP \nnetwork addresses to virtual machines in configurations that are not bridged to an \nexternal network — for example, host-only and NAT configurations.\nNetwork adapter — One virtual network adapter is set up for your virtual machine \nwhen you create it with the New Virtual Machine Wizard using any type of \nnetworking. It appears to the guest operating system as an AMD PCNET PCI adapter. \nYou can create and configure up to three virtual network adapters in each virtual \nmachine using the virtual machine settings editor."
  },
  {
    "page": 211,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n212\nVMware Workstation 4 User’s Manual\nCommon Networking Configurations\nThe following sections illustrate the networking configurations that are set up for you \nautomatically when you choose the standard networking options in the New Virtual \nMachine Wizard or virtual machine settings editor. \nOnly one virtual machine is shown in each example, but multiple virtual machines can \nbe connected to the same virtual Ethernet switch. On a Windows host, you can \nconnect an unlimited number of virtual network devices to a virtual switch. On a \nLinux host, you can connect up to 32 devices.\nBridged Networking\nBridged networking connects a virtual machine to a network using the host computer’s Ethernet adapter.\nBridged networking is set up automatically if you select Use bridged networking in \nthe New Virtual Machine Wizard or if you select the Typical setup path. This selection \nis available on a Linux host only if you enable the bridged networking option when \nyou install VMware Workstation.\nIf your host computer is on an Ethernet network, this is often the easiest way to give \nyour virtual machine access to that network. On a Windows host, you can use bridged \nnetworking to connect to either a wired or a wireless network. On a Linux host, you \ncan use bridged networking to connect to a wired network.\nIf you use bridged networking, your virtual machine needs to have its own identity on \nthe network. For example, on a TCP/IP network, the virtual machine needs its own IP \naddress. Your network administrator can tell you whether IP addresses are available for \nyour virtual machine and what networking settings you should use in the guest \noperating system. Generally, your guest operating system may acquire an IP address \nHost\nEthernet\nadapter\nVirtual machine\nVirtual\nEthernet\nadapter\nVirtual Ethernet switch\n(VMnet0)\nVirtual bridge"
  },
  {
    "page": 212,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n213\nand other network details automatically from a DHCP server, or you may need to set \nthe IP address and other details manually in the guest operating system.\nIf you use bridged networking, the virtual machine is a full participant in the network. \nIt has access to other machines on the network and can be contacted by other \nmachines on the network as if it were a physical computer on the network.\nBe aware that if the host computer is set up to boot multiple operating systems and \nyou run one or more of them in virtual machines, you need to configure each \noperating system with a unique network address. People who boot multiple \noperating systems often assign all systems the same address, since they assume only \none operating system will be running at a time. If you use one or more of the \noperating systems in a virtual machine, this assumption is no longer true.\nIf you make some other selection in the New Virtual Machine Wizard and later decide \nyou want to use bridged networking, you can make that change in the virtual \nmachine settings editor (VM > Settings). For details, see Changing the Networking \nConfiguration on page 219.\nNetwork Address Translation (NAT)\nNAT gives a virtual machine access to network resources using the host computer’s IP address.\nA network address translation connection is set up automatically if you follow the \nCustom path in the New Virtual Machine Wizard and select Use network address \ntranslation. \nIf you want to connect to the Internet or other TCP/IP network using the host \ncomputer’s dial-up networking or broadband connection and you are not able to give \nyour virtual machine an IP address on the external network, NAT is often the easiest \nway to give your virtual machine access to that network.\nVirtual machine\nVirtual\nEthernet\nadapter\nVirtual Ethernet switch\n(VMnet8)\nNAT device\nDHCP server\nNetwork"
  },
  {
    "page": 213,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n214\nVMware Workstation 4 User’s Manual\nNAT also allows you to connect to a TCP/IP network using a Token Ring adapter on the \nhost computer.\nIf you use NAT, your virtual machine does not have its own IP address on the external \nnetwork. Instead, a separate private network is set up on the host computer. Your \nvirtual machine gets an address on that network from the VMware virtual DHCP \nserver. The VMware NAT device passes network data between one or more virtual \nmachines and the external network. It identifies incoming data packets intended for \neach virtual machine and sends them to the correct destination.\nIf you select NAT, the virtual machine can use many standard TCP/IP protocols to \nconnect to other machines on the external network. For example, you can use HTTP \nto browse Web sites, FTP to transfer files and Telnet to log on to other computers. In \nthe default configuration, computers on the external network cannot initiate \nconnections to the virtual machine. That means, for example, that the default \nconfiguration does not let you use the virtual machine as a Web server to send Web \npages to computers on the external network.\nIf you make some other selection in the New Virtual Machine Wizard and later decide \nyou want to use NAT, you can make that change in the virtual machine settings editor \n(VM > Settings). For details, see Changing the Networking Configuration on \npage 219.\nHost-Only Networking\nHost-only networking creates a network that is completely contained within the host computer.\nA host-only network is set up automatically if you select Use Host-Only Networking \nin the New Virtual Machine Wizard. On Linux hosts, this selection is available only if \nyou enabled the host-only networking option when you installed VMware \nWorkstation.\nHost virtual\nadapter\nVirtual machine\nVirtual\nEthernet\nadapter\nVirtual Ethernet switch\n(VMnet1)\nDHCP server"
  },
  {
    "page": 214,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n215\nHost-only networking provides a network connection between the virtual machine \nand the host computer, using a virtual Ethernet adapter that is visible to the host \noperating system. This approach can be useful if you need to set up an isolated virtual \nnetwork.\nIf you use host-only networking, your virtual machine and the host virtual adapter are \nconnected to a private TCP/IP network. Addresses on this network are provided by the \nVMware DHCP server.\nIf you make some other selection in the New Virtual Machine Wizard and later decide \nyou want to use host-only networking, you can make that change in the virtual \nmachine settings editor (VM > Settings). For details, see Changing the Networking \nConfiguration on page 219.\nRouting and \nConnection Sharing\n• If you install the proper \nrouting or proxy \nsoftware on your host \ncomputer, you can \nestablish a connection \nbetween the host \nvirtual Ethernet \nadapter and a physical \nnetwork adapter on \nthe host computer. \nThis allows you, for \nexample, to connect \nthe virtual machine to \na Token Ring or other \nnon-Ethernet network.\n• On a Windows 2000, \nWindows XP or \nWindows Server 2003 \nhost computer, you \ncan use host-only \nnetworking in \ncombination with the \nInternet connection \nsharing feature in \nWindows to allow a \nvirtual machine to use \nthe host’s dial-up \nnetworking adapter or \nother connection to \nthe Internet. See your \nWindows \ndocumentation for \ndetails on configuring \nInternet connection \nsharing."
  },
  {
    "page": 215,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n216\nVMware Workstation 4 User’s Manual\nCustom Networking Configurations\nThe virtual networking components provided by VMware Workstation make it \npossible for you to create sophisticated virtual networks. The virtual networks can be \nconnected to one or more external networks, or they may run entirely on the host \ncomputer. \nSetting up networking components for your custom virtual network is a \nstraightforward process. Before attempting to set up complex virtual networks, you \nshould have a good understanding of how to configure network devices in your host \nand guest operating systems.\nThe sample configuration described in this section illustrates many of the ways you \ncan combine devices on a virtual network. Other custom configurations are described \nin Advanced Networking Topics on page 228 and Understanding NAT on page 244.\n. \nIn this custom configuration, a Web server connects through a firewall to an external network. An administrator’s \ncomputer can connect to the Web server through a second firewall.\nHost's\nEthernet\nadapter\nVirtual machine 4\n“Internal” PC\nVirtual machine 2\nWeb server\nVirtual\nEthernet\nadapter\nVirtual\nEthernet\nadapter\nVirtual\nEthernet\nadapter\nVirtual\nEthernet\nadapter\nVirtual\nEthernet\nadapter\nVirtual\nEthernet\nadapter\nVirtual machine 3\nFirewall\nBridge\nVirtual\nEthernet switch\n(VMnet0)\nVirtual\nEthernet switch\n(VMnet2)\nVirtual\nEthernet switch\n(VMnet3)\nVirtual machine 1\nFirewall\nVirtual bridge"
  },
  {
    "page": 216,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n217\nTo set up this configuration, you must create four virtual machines and use the virtual \nmachine settings editor to adjust the settings for their virtual Ethernet adapters. You \nalso need to install the appropriate guest operating systems and application software \nin each virtual machine and make the appropriate networking settings in each virtual \nmachine. \n1. Set up four virtual machines using the New Virtual Machine Wizard.\nCreate the first virtual machine with bridged networking so it can connect to an \nexternal network using the host computer’s Ethernet adapter.\nCreate the other three virtual machines without networking. You will set up their \nvirtual Ethernet adapters in later steps.\n2. Start VMware Workstation and open virtual machine 1. Do not power on the \nvirtual machine.\nUse the virtual machine settings editor (VM > Settings) to add a second virtual \nnetwork adapter, as described in Changing the Networking Configuration on \npage 219. Connect the second adapter to Custom (VMnet2).\nClick OK to save the configuration and close the virtual machine settings editor.\n3. If VMware Workstation is not running, start it. Open virtual machine 2. Do not \npower on the virtual machine.\nUse the virtual machine settings editor (VM > Settings) to add a virtual network \nadapter. Connect the adapter to Custom (VMnet2).\nClick OK to save the configuration and close the virtual machine settings editor.\n4. If VMware Workstation is not running, start it. Open virtual machine 3. Do not \npower on the virtual machine.\nUse the virtual machine settings editor (VM > Settings) to add a virtual network \nadapter. Connect the adapter to Custom (VMnet2).\nUse the virtual machine settings editor to add a second virtual network adapter. \nConnect the adapter to Custom (VMnet3).\nClick OK to save the configuration and close the virtual machine settings editor.\n5. If VMware Workstation is not running, start it. Open virtual machine 4. Do not \npower on the virtual machine.\nUse the virtual machine settings editor (VM > Settings) to add a virtual network \nadapter. Connect the adapter to Custom (VMnet3).\nClick OK to save the configuration and close the virtual machine settings editor."
  },
  {
    "page": 217,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n218\nVMware Workstation 4 User’s Manual\n6. Determine the network addresses used for VMnet2 and VMnet3.\nNote: On a Windows host, you may skip the steps for configuring network \naddresses manually and, instead, use Workstation’s DHCP server. Go to Edit > \nVirtual Network Settings > DHCP and add VMnet2 and VMnet3 to the list of \nvirtual networks served by the virtual DHCP server. Then skip to step 9.\nOn a Windows host, open a command prompt on the host computer and run \nipconfig /all. Note the network addresses used by each virtual adapter.\nOn a Linux host, run ifconfig at the console or in a terminal window on the \nhost computer. Note the network addresses used by each virtual switch.\n7. Start VMware Workstation, open each virtual machine in turn and install the \nappropriate guest operating system.\n8. Configure the networking in each guest operating system. \nFor the bridged Ethernet adapter in virtual machine 1, use the networking \nsettings needed for a connection to the external network. If the virtual machine \ngets its IP address from a DHCP server on the external network, the default \nsettings should work.\nFor the second Ethernet adapter in virtual machine 1, manually assign an IP \naddress in the range you are using with VMnet2.\nIn virtual machine 2, assign an IP address in the range you are using with \nVMnet2.\nIn virtual machine 3, network adapters are connected to VMnet2 and VMnet3. \nAssign each adapter an IP address in the range you are using with the virtual \nnetwork to which it is connected.\nIn virtual machine 4, assign an IP address in the range you are using with \nVMnet3.\n9. Install the necessary application software in each virtual machine."
  },
  {
    "page": 218,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n219\nChanging the Networking Configuration\nUsing the virtual machine settings editor (VM > Settings), you can add virtual \nEthernet adapters to your virtual machine and change the configuration of existing \nadapters.\nAdding and Modifying Virtual Network Adapters\nTo add a new virtual Ethernet adapter, follow these steps.\n1. Be sure the virtual machine to which you want to add the adapter is powered off.\n2. Open the virtual machine settings editor (VM > Settings).\n3. Click Add.\n4. The Add Hardware Wizard starts. Select Network Adapter. Click Next.\n5. Select the network type you want to use — Bridged, NAT, Host-only or Custom.\n6. If you select Custom, choose the VMnet network you want to use from the drop-\ndown list.\nNote: Although VMnet0, VMnet1 and VMnet8 are available in this list, they are \nnormally used for bridged, host-only and NAT configurations, respectively. \nSpecial steps are required to make them available for use in custom \nconfigurations. You should choose one of the other switches.\n7. Click Finish. The new adapter is added.\n8. Click OK to save your configuration and close the virtual machine settings editor.\nTo change the configuration of an existing virtual network adapter, follow these steps.\n1. Open the virtual machine settings editor (VM > Settings).\n2. Select the adapter you want to modify."
  },
  {
    "page": 219,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n220\nVMware Workstation 4 User’s Manual\n3. Select the network type you want to use — Bridged, NAT, Host-only or Custom.\n4. If you select Custom, choose the VMnet virtual network you want to use for the \nnetwork from the drop-down list.\n5. Click OK to save your changes and close the virtual machine settings editor.\n6. Be sure the guest operating system is configured to use an appropriate IP \naddress on the new network. If the guest is using DHCP, release and renew the \nlease. If the IP address is set statically, be sure the guest has an address on the \ncorrect virtual network.\nConfiguring Bridged Networking Options on a Windows Host\nYou can view and change the settings for bridged networking on your host. These \nchanges affect all virtual machines using bridged networking on the host.\nYou can decide which network adapters on your host to use for bridged networking. \nYou can map specific network adapters to specific virtual networks (VMnets).\n1. Open a VMware Workstation window.\n2. Choose Edit > Virtual Network Settings. \nThe Virtual Network Editor appears, with the Summary tab active. \n3. By default, the VMnet0 virtual network is set up in bridged mode and bridges to \none of the active Ethernet adapters on the host computer. \nThe choice of which adapter it uses is arbitrary. You can restrict the range of \nchoices using options on the Automatic Bridging tab."
  },
  {
    "page": 220,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n221\n(Also shown are VMnet1, the default virtual network for host-only networking, \nand VMnet8, the default virtual network for NAT, if they are enabled in VMware \nWorkstation.)\n4. To exclude one or more physical Ethernet adapters from the list to which \nVMnet0 may be bridged, click the Automatic Bridging tab. To exclude an \nEthernet adapter, click Add to add it to the list of excluded devices. \nIn the Choose Network Adapters dialog box, select the listing for the adapter you \nwant to exclude, then click OK."
  },
  {
    "page": 221,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n222\nVMware Workstation 4 User’s Manual\nTo remove an adapter from the list of excluded adapters, select its name in the \nlist, then click Remove.\n5. To designate a physical Ethernet adapter to be used for bridged networking on \nvirtual switches named VMnet2–VMnet7, click the Host Virtual Network \nMapping tab. Choose an adapter from the drop-down list beside the name of \nthe virtual switch you want to use.\nCaution: Be careful when you change the bridged adapter mappings. If you re-\nassign a physical Ethernet adapter to a different virtual network, any virtual \nmachine using the original network loses its network connectivity via that \nnetwork. You must then change the setting for each affected virtual machine’s \nnetwork adapter individually. This can be especially troublesome if your host has \nonly one physical Ethernet adapter and you reassign it to a VMnet other than \nVMnet0; even though the VMnet still appears to be bridged to an automatically \nchosen adapter, the only adapter it can use has been assigned to another VMnet."
  },
  {
    "page": 222,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n223\n6. To make changes to the subnet or the DHCP settings for a virtual network, click \nthe button on the right that corresponds to the virtual network you want to \nconfigure, then choose Subnet or DHCP.\n7. In the Subnet dialog box, you can change the subnet’s IP address and the subnet \nmask.\nThe address should specify a valid network address that is suitable for use with \nthe subnet mask. \nThe default subnet mask is 255.255.255.0 (a class-C network). Typically, this \nmeans you should modify only the third number in the IP address — for \nexample, x in 192.168.x.0 or 172.16.x.0. In general, you should not change the \nsubnet mask. Certain virtual network services may not work as well with a \ncustomized subnet mask.\nWhen you modify the network address or subnet mask, VMware Workstation \nautomatically updates the IP address settings for other components — such as \nDHCP, NAT and host virtual adapter — on that virtual network to reflect the new \nsettings. The specific settings that are automatically updated include DHCP lease \nrange, DHCP server address, NAT gateway address and host virtual adapter IP \naddress. However, if you have changed any of these settings from its default \nvalue — even if you have later changed the setting back to the default — \nVMware Workstation does not update that setting automatically. It presumes \nthat custom settings are not to be modified."
  },
  {
    "page": 223,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n224\nVMware Workstation 4 User’s Manual\n8. In the DHCP settings dialog box, you can change the range of IP addresses \nprovided by the DHCP server on a particular virtual network. You can also set the \nduration of leases provided to clients on the virtual network.\n9. When you have made all the changes you want to make on all panels of the \nVMware Network Configuration dialog box, click OK.\nEnabling, Disabling, Adding and Removing \nHost Virtual Adapters\nWhen you install VMware Workstation, two network adapters are added to the \nconfiguration of your host operating system — one that allows the host to connect to \nthe host-only network and one that allows the host to connect to the NAT network. \nIf you are not using these adapters, you may wish to remove them (users on Windows \nhosts can choose to disable the adapters instead of removing them). The presence of \nthese adapters has a slight performance cost, because broadcast packets must go to \nthe extra adapters. On Windows networks, browsing your network may be slower \nthan usual. And in some cases, these adapters interact with the host computer’s \nnetworking configuration in undesirable ways.\nDisabling a Host Virtual Adapter on a Windows 2000, Windows XP or Windows \nServer 2003 Host\nUse the Virtual Network Editor to disable any unwanted adapters.\n1. Choose Edit > Virtual Network Settings > Host Virtual Adapters.\n2. Select the adapter you want to disable.\n3. Click Disable adapter.\n4. Click OK."
  },
  {
    "page": 224,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n225\nDisabling a Host Virtual Adapter on a Windows NT Host\nUse the host operating system’s networking control panel to disable any unwanted \nadapters.\n1. Choose Start > Settings > Control Panel.\n2. Double-click Network.\n3. Click the Bindings tab.\n4. Choose All adapters.\n5. Select the VMware Virtual Ethernet Adapter you want to disable. The host-only \nnetwork is VMnet1; the NAT network is VMnet8. Click Disable.\nEnabling a Disabled Host Virtual Adapter on a Windows Host\nFollow these steps to enable a host virtual adapter on a Windows host.\n1. Go to Edit > Virtual Network Settings > Host Virtual Adapters.\n2. Select the disabled adapter you want to enable.\n3. Click Enable adapter.\n4. Click OK.\nAdding a Host Virtual Adapter on a Windows Host\nFollow these steps to add a host virtual adapter on a Windows host.\n1. Go to Edit > Virtual Network Settings > Host Virtual Adapters.\n2. Click Add new adapter.\n3. Choose the virtual network on which you want to use the adapter and click OK.\n4. Click Apply.\n5. Click OK to close the Virtual Network Editor.\n6. Windows NT only: Reboot the host computer."
  },
  {
    "page": 225,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n226\nVMware Workstation 4 User’s Manual\nRemoving a Host Virtual Adapter on a Windows Host\n1. Go to Edit > Virtual Network Settings > Host Virtual Adapters.\n2. Select the adapter you want to remove, then click Remove adapter.\n3. Click OK.\nRemoving a Host Virtual Adapter on a Linux Host\n1. Become root and run the VMware Workstation configuration program.\nsu\nvmware-config.pl\n2. Watch for the following question\nDo you want networking for your Virtual Machines? (yes/\nno/help) [yes] \nAnswer Yes if you still want to use any networking in your virtual machines, then \ncontinue to the next question.\nOtherwise, answer No to remove all networking.\n3. If you answer Yes, the program prompts you to select the wizard or editor to edit \nyour network configuration. Select editor. This is the only way to delete virtual \nnetwork adapters without removing all of them. \nWould you prefer to modify your existing networking \nconfiguration using the wizard or the editor? (wizard/\neditor/help) [wizard] editor\n4. You see a list of virtual networks that have been configured. Select the network \ncorresponding to the adapter you wish to disable.\nThe following virtual networks have been defined:"
  },
  {
    "page": 226,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n227\n. vmnet0 is bridged to eth0\n. vmnet1 is a host-only network on subnet 172.16.155.0.\n. vmnet8 is NAT network on a private subnet 172.16.107.0.\nWhich virtual network do you wish to configure? (0-99) 1\n5. You may be prompted to keep this virtual network. If you are sure you want to \nremove it, answer Yes to the question.\nThe network vmnet1 has been reserved for a host-only \nnetwork. You may change it, but it is highly recommended \nthat you use it as a host-only network. Are you sure you \nwant to modify it? (yes/no) [no] yes\n6. When prompted about the type of virtual network, select None and the virtual \nnetwork will be removed.\nWhat type of virtual network do you wish to set vmnet1? \n(bridged,hostonly,nat,none) [hostonly] none"
  },
  {
    "page": 227,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n228\nVMware Workstation 4 User’s Manual\nAdvanced Networking Topics\nSelecting IP Addresses on a Host-Only Network or NAT \nConfiguration\nA host-only network uses a private virtual network. The host and all virtual machines \nconfigured for host-only networking are connected to the network through a virtual \nswitch. Typically all the parties on this private network use the TCP/IP protocol suite, \nalthough other communication protocols may be used. \nA network address translation (NAT) configuration also sets up a private network, \nwhich must be a TCP/IP network. The virtual machines configured for NAT are \nconnected to that network through a virtual switch. The host computer is also \nconnected to the private network used for NAT via a host virtual adapter.\nEach virtual machine and the host must be assigned addresses on the private \nnetwork. This is typically done using the DHCP server that comes with VMware \nWorkstation. Note that this server does not service virtual (or physical) machines \nresiding on bridged networks. \nAddresses can also be assigned statically from a pool of addresses that are not \nassigned by the DHCP server.\nWhen host-only networking is enabled at the time VMware Workstation is installed, \nthe network number to use for the virtual network is automatically selected as an \nunused private IP network number. To find out what network is used on a Windows \nhost, choose Edit > Virtual Network Settings and check the subnet number \nassociated with the virtual network. On a Linux host, run ifconfig in a terminal.\nA NAT configuration also uses an unused private network automatically selected \nwhen you install VMware Workstation. To find out what network is used on a Windows \nhost, choose Edit > Virtual Network Settings and check the subnet number \nassociated with the virtual network. On a Linux host, run ifconfig in a terminal.\nUsing DHCP to assign IP addresses is simpler and more automatic than statically \nassigning them. Most Windows operating systems, for example, come preconfigured \nto use DHCP at boot time, so Windows virtual machines can connect to the network \nthe first time they are booted, without additional configuration. If you want your \nvirtual machines to communicate with each other using names instead of IP \naddresses, however, you must set up a naming convention, a name server on the \nprivate network, or both. In that case it may be simpler to use static IP addresses."
  },
  {
    "page": 228,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n229\nIn general, if you have virtual machines you intend to use frequently or for extended \nperiods of time, it is probably most convenient to assign them static IP addresses or \nconfigure the VMware DHCP server to always assign the same IP address to each of \nthese virtual machines. \nConfiguring the DHCP Server on a Linux Host\nOn a Linux host, you configure the host-only DHCP server by editing the DHCP \nconfiguration file for VMnet1 (/etc/vmware/vmnet1/dhcp/dhcp.conf). To \nconfigure the DHCP server for the NAT network, edit the configuration file for VMnet8 \n(/etc/vmware/vmnet8/dhcp/dhcp.conf).\nEditing the DHCP server configuration file requires information that is best obtained \ndirectly from the DHCP server documentation. Consult the manual pages dhcpd(8) \nand dhcpd.conf(8). \nConfiguring the DHCP Server on a Windows Host\nOn a Windows host, you configure the DHCP server using the Virtual Network Editor \n(Edit > Virtual Network Settings > DHCP).\nSelect the virtual network for which you want to change settings and click Properties.\nMake the desired changes, then click OK."
  },
  {
    "page": 229,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n230\nVMware Workstation 4 User’s Manual\nChoosing the Method for Assigning IP Addresses\nFor virtual machines that you do not expect to keep for long, use DHCP and let it \nallocate an IP address. \nFor each host-only or NAT network, the available IP addresses are split up using the \nconventions shown in the tables below, where <net> is the network number \nassigned to your host-only or NAT network. VMware Workstation always uses a Class C \naddress for host-only and NAT networks.\nAddress Use on a Host-Only Network\nAddress Use on a NAT Network\nAvoiding IP Packet Leakage in a Host-Only Network\nBy design, each host-only network should be confined to the host machine on which \nit is set up. That is, no packets sent by virtual machines on this network should leak out \nto a physical network attached to the host. Packet leakage can occur only if a machine \nactively forwards packets. It is possible for the host machine or any virtual machine \nrunning on the host-only network to be configured in a way that permits packet \nleakage.\n Range \nAddress use \nExample \n <net>.1 \nHost machine \n192.168.0.1 \n <net>.2–<net>.127 \nStatic addresses \n192.168.0.2–192.168.0.127 \n <net>.128–<net>.253 \nDHCP-assigned \n192.168.0.128–192.168.0.253 \n <net>.254\nDHCP server\n192.168.0.254 \n <net>.255 \nBroadcasting \n192.168.0.255 \n Range \nAddress use \nExample \n <net>.1 \nHost machine \n192.168.0.1 \n<net>.2\nNAT device\n192.168.0.2\n <net>.3–<net>.127 \nStatic addresses \n192.168.0.3–192.168.0.127 \n <net>.128–<net>.253\nDHCP-assigned \n192.168.0.128–192.168.0.253\n <net>.254 \nDHCP server\n192.168.0.254 \n <net>.255 \nBroadcasting \n192.168.0.255"
  },
  {
    "page": 230,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n231\nWindows Hosts\nWindows NT systems and systems using server versions of Windows 2000 are capable \nof forwarding IP packets that are not addressed to them. By default, however, these \nsystems come with IP packet forwarding disabled. IP forwarding is not an issue on \nWindows 2000 Professional, Windows XP Professional or Windows XP Home Edition \nhosts.\nIf you find packets leaking out of a host-only network on a Windows NT or Windows \n2000 host computer, check to see if forwarding has been enabled on the host \nmachine. If it is enabled, disable it. \nOn a Windows NT host, go to Start > Settings > Control Panel > Networking. Choose \nTCP/IP, click Properties, then click the Routing tab. Clear the check box to disable IP \nforwarding. \nOn a Windows 2000 or Windows Server 2003 host, go to Start > Programs > \nAdministrative Tools > Routing and Remote Access. An icon on the left is labeled \nwith the host name. If a green dot appears over the icon, IP forwarding is turned on. To \nturn it off, right-click the icon and disable Routing and Remote Access. A red dot \nappears, indicating that IP forwarding is disabled. \nWindows 2000 Professional Users: The Windows 2000 Administration Tools are not \ninstalled on a Windows 2000 Professional system. However, you can install these tools \nfrom a Windows 2000 Server or Windows 2000 Advanced Server CD-ROM. \nTo install Windows 2000 Administration Tools on a local computer:\n1. Open the i386 folder on the applicable Windows 2000 Server disc.\n2. Double-click the adminpak.msi file. Follow the instructions that appear in \nthe Windows 2000 Administration Tools Setup wizard. \n3. After Windows 2000 Administration Tools are installed, you can access most of \nthe server administrative tools by choosing Start > Programs > Administrative \nTools. \nLinux Hosts\nIf you find packets leaking out of a host-only network on a Linux host computer, check \nto see if forwarding has mistakenly been enabled on the host machine. If it is enabled, \ndisable it. \nFor many Linux systems, disable forwarding by writing a 0 (zero) to the special file \n/proc/sys/net/ipv4/ip_forward. As root, enter this command:\necho 0 > /proc/sys/net/ipv4/ip_forward"
  },
  {
    "page": 231,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n232\nVMware Workstation 4 User’s Manual\nOther Linux systems have a system configuration option that you can set. The method \ndepends on your Linux distribution. You may use a control panel, specify a setting at \nthe time you compile your kernel or possibly enter a specification when you boot \nyour system. Consult your operating system documentation for details on the method \nto use with your particular distribution. \nUsing Filtering\nIf the host computer has multiple network adapters, it may be intentionally \nconfigured to do IP forwarding. If that is the case, you do not want to disable \nforwarding. In that case, to avoid packet leakage you must enable a packet filtering \nfacility and specify that packets from the host-only network should not be sent \noutside the host computer. Consult your operating system documentation for details \non how to configure packet filtering. \nLeaks from a Virtual Machine\nVirtual machines may leak packets, as well. For example, if you use Dial-Up Networking \nsupport in a virtual machine and packet forwarding is enabled, host-only network \ntraffic may leak out through the dial-up connection.\nTo prevent the leakage, be sure packet forwarding is disabled in your guest operating \nsystem.\nMaintaining and Changing the MAC Address \nof a Virtual Machine \nWhen a virtual machine is powered on, VMware Workstation automatically assigns \neach of its virtual network adapters an Ethernet MAC address. MAC stands for media \naccess control. A MAC address is the unique address assigned to each Ethernet \nnetwork device. \nThe software guarantees that virtual machines are assigned unique MAC addresses \nwithin a given host system. In most cases, the virtual machine is assigned the same \nMAC address every time it is powered on, so long as the virtual machine is not moved \n(the path and filename for the virtual machine’s configuration file must remain the \nsame) and no changes are made to certain settings in that file.\nIn addition, VMware Workstation does its best, but cannot guarantee, to automatically \nassign unique MAC addresses for virtual machines running on multiple host systems. \nAvoiding MAC Changes\nTo avoid changes in the MAC address automatically assigned to a virtual machine, you \nmust not move the virtual machine’s configuration file. Moving it to a different host"
  },
  {
    "page": 232,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n233\ncomputer or even moving it to a different location on the same host computer \nchanges the MAC address.\nYou also need to be sure not to change certain settings in the virtual machine’s \nconfiguration files. If you never edit the configuration file by hand and do not remove \nthe virtual Ethernet adapter, these settings remain untouched. If you do edit the \nconfiguration file by hand, be sure not to remove or change the following options:\nethernet[n].generatedAddress\nethernet[n].addressType\nethernet[n].generatedAddressOffset\nuuid.location\nuuid.bios\nethernet[n].present\nIn these options, [n] is the number of the virtual Ethernet adapter, for example \nethernet0.\nNote: To preserve a virtual Ethernet adapter’s MAC address, you also must be careful \nnot to remove it. If you remove the adapter, then recreate it, it may receive a different \nMAC address.\nManually Assigning a MAC Address\nIf you want to guarantee that the same MAC address is assigned to a given virtual \nmachine every time, even if the virtual machine is moved, or if you want to guarantee \na unique MAC address for each virtual machine within a networked environment, you \ncan assign the address manually instead of allowing VMware Workstation to assign it \nautomatically. \nTo assign the same, unique MAC address to any virtual machine manually, use a text \neditor to remove three lines from the configuration file and add one line. The \nconfiguration file has a.vmx extension at the end of the filename. On a Linux host, a \nvirtual machine created with an earlier VMware product may have a configuration file \nwith a .cfg extension.\nRemove the three lines that begin with the following from the configuration file:\nethernet[n].generatedAddress\nethernet[n].addressType\nethernet[n].generatedAddressOffset\nIn these options, [n] is the number of the virtual Ethernet adapter — for example \nethernet0.\nAdd the following line to the configuration file:\nethernet[n].address = 00:50:56:XX:YY:ZZ"
  },
  {
    "page": 233,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n234\nVMware Workstation 4 User’s Manual\nIn this line, XX must be a valid hexadecimal number between 00h and 3Fh, and YY \nand ZZ must be valid hexadecimal numbers between 00h and FFh. Because \nVMware Workstation virtual machines do not support arbitrary MAC addresses, you \nmust use the above format. \nSo long as you choose a value for XX:YY:ZZ that is unique among your hard-coded \naddresses (where XX is a valid hexadecimal number between 00h and 3Fh, and YY \nand ZZ are valid hexadecimal numbers between 00h and FFh), conflicts between \nthe automatically assigned MAC addresses and the manually assigned ones should \nnever occur. \nControlling Routing Information for a Host-Only Network on a \nLinux Host\nA host-only network is a full-fledged network. It has a network interface associated \nwith it (VMnet1) that is marked “up” at the time the host operating system is booted. \nConsequently, routing server processes that operate on the host operating system, \nsuch as routed and gated, automatically discover it and propagate information on \nhow to reach it unless you explicitly configure them not to do so. \nIf either of these programs is being run only to receive routing information, the easiest \nsolution is to run it with a -q option so that it does not supply routing information, \nonly receives it. \nIf, however, they are running because they are to supply routing information, then you \nneed to configure them so they do not advertise routes to the host-only network.\nUnfortunately, the version of routed that comes with many distributions of Linux \nhas no support for specifying that an interface should not be advertised. Consult the \nrouted(8) manual page for your system in case you have a more contemporary \nversion of the software. \nFor gated, configuration is involved. You need to explicitly exclude the VMnet1 \ninterface from any protocol activity. If you need to run virtual machines on a host-only \nnetwork on a multihomed system where gated is used and have problems doing so, \nplease contact VMware technical support by submitting a support request at \nwww.vmware.com/requestsupport. \nOther Potential Issues with Host-Only Networking \non a Linux Host\nThe following are common issues you may encounter when you are configuring a \nhost-only network."
  },
  {
    "page": 234,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n235\nDHCPD on the Linux Host Does Not Work after VMware Workstation Installation\nIf you were running the DHCP server program dhcpd on your machine before \ninstalling VMware Workstation, it probably was configured to respond to DHCP \nrequests from clients on any network interface present on the machine. When host-\nonly networking is configured, an additional network interface, VMnet1, is marked \n“up” and available for use, and dhcpd may notice this. \nIn such cases, some dhcpd implementations abort if their configuration files do not \ninclude a subnet specification for the interface — even if dhcpd is not supposed to \nrespond to messages that arrive through the interface. \nThe best solution to this problem is to add a line in the following format to the dhcpd \nconfiguration file:\nsubnet <net>.0 netmask 255.255.255.0 {}\n<net> is the network number assigned to your host-only network — for example, \n192.168.0. This line in the configuration file informs dhcpd about the host-only \nnetwork and tells it explicitly not to respond to any DHCP requests it sees coming \nfrom it. \nAn alternative solution is to explicitly state the set of network interfaces that you want \ndhcpd to listen to each time you start the program. For example, if your machine has \none Ethernet interface, eth0, then each time you start dhcpd, list it on the \ncommand line:\ndhcpd eth0 \nThis keeps dhcpd from probing for all available network interfaces. \nIf the above solutions do not work for your DHCP server program, then it likely is old. \nYou can try upgrading to a more current version such as the DHCP software available \nfrom the ISC(www.isc.org). \nDHCP and Dynamic Domain Name Service (DDNS) \nDHCP can be used to hand out IP addresses as well as other information, such as the \nidentity of a host running a name server and the nearest router or gateway. The DHCP \nserver in VMware Workstation 4 does not provide a means to dynamically establish a \nrelationship between the IP address it assigns and a client’s name (that is, to update a \nDNS server using DDNS).\nIf you want to use names to communicate with other virtual machines you must \neither edit the DHCP configuration file for VMnet1 \n(/etc/vmware/vmnet1.conf) or use IP addresses that are statically bound to a \nhost name. Editing the DHCP server configuration file requires information that is best"
  },
  {
    "page": 235,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n236\nVMware Workstation 4 User’s Manual\nobtained directly from the DHCP server documentation. Consult the manual pages \ndhcpd(8) and dhcpd.conf(8). \nSetting Up a Second Bridged Network Interface on a Linux Host\nIf you have two Ethernet adapters installed on your host computer, connected to two \ndifferent networks, you may want your virtual machines on that host computer to \nbridge to both Ethernet adapters so the virtual machines can access either or both \nphysical networks. \nWhen you install VMware Workstation on a host computer with multiple Ethernet \nadapters, you have the option of configuring more than one bridged network. You \ncan also configure additional bridged networks at any time by rerunning \nvmware-config.pl.\n1. On the host computer, become root (su) and run the VMware Workstation \nconfiguration program.\nvmware-config.pl\n2. If you have more than one physical Ethernet adapter, one of the prompts you \nsee is similar to this:\nThe following bridged networks have been defined:\n. vmnet0 is bridged to eth0\nDo you wish to configure another bridged network? (yes/no) \n[no]\nEnter yes.\n3. If you have additional physical Ethernet adapters not yet connected to a bridged \nnetwork, the prompt is repeated, showing information about all currently \nconfigured bridged networks.\n4. When you have set up all the bridged networks you want, enter no.\nSetting Up Two Separate Host-Only Networks\nFor some configurations, you may need to set up more than one host-only network \non the same host computer. \nYou may, for example, want to have two virtual machines connected to one host-only \nnetwork, and at the same time have other virtual machines connected to another \nhost-only network so the network traffic on each network is isolated.\nOr you may want to test routing between two virtual networks. Or test a virtual \nmachine with multiple network interface cards — without using any physical \nEthernet adapters."
  },
  {
    "page": 236,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n237\nOn Windows hosts, the first host-only network is set up automatically when you install \nVMware Workstation. \nOn Linux hosts, the first host-only network is set up when you run the vmware-\nconfig.pl program after you install VMware Workstation, provided you agree to \ninstall host-only networking. If you did not agree to use host-only networking, you \nneed to run the program again to set up host-only networking.\nTo set up the second host-only network, follow the steps outlined below for your host \noperating system.\nSetting Up the Second Host-Only Interface on a Windows Host\nFollow these steps to set up the second host-only interface on a Windows host.\n1. Go to Edit > Virtual Network Settings > Host Virtual Adapters.\n2. Click Add new adapter.\n3. Choose the virtual network on which you want to use the adapter and click OK.\n4. Click Apply.\n5. Click OK to close the Virtual Network Editor.\nSetting Up the Second Host-Only Interface on a Linux Host\n1. As root (su), run the VMware Workstation configuration program.\n/usr/bin/vmware-config.pl \n2. Use the wizard to modify your configuration. After asking about a NAT network, \nthe program asks:\nDo you want to be able to use host-only networking in your \nvirtual machines?\nAnswer Yes.\nThe wizard reports on host-only networks that you have already set up on the \nhost or, if none is present, configures the first host-only network.\n3. The wizard asks:\nDo you wish to configure another host-only network?\nAnswer Yes.\nRepeat this step until you have as many host-only networks as you want. Then \nanswer No.\n4. Complete the remaining steps in the wizard. When it is finished, it restarts all \nservices used by VMware Workstation."
  },
  {
    "page": 237,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n238\nVMware Workstation 4 User’s Manual\n5. Run ifconfig. You should see at least four network interfaces — eth0, lo, \nvmnet1 and vmnet2. If the VMnet interfaces do not show up immediately, \nwait for a minute, then run the command again. These four interfaces should \nhave different IP address on separate subnets. \nConfiguring the Virtual Machines\nNow you have two host-only interfaces (VMnet1 and VMnet2). You are ready to set up \nyour virtual machines for one of the following configurations:\n1. The virtual machine is configured with one virtual Ethernet adapter, and that \nvirtual adapter is connected to the default host-only interface (VMnet 1). \n2. The virtual machine is configured with one virtual Ethernet adapter, and that \nvirtual adapter is connected to the newly created host-only interface (VMnet2). \n3. The virtual machine is configured with two virtual Ethernet adapters. One virtual \nadapter is connected to the default host-only interface (VMnet1) and the other \nvirtual adapter is connected to the newly created host-only interface (VMnet2). \nConfiguration 1 – Connect to the Default Host-Only Interface\n1. Create the virtual machine using the New Virtual Machine Wizard or use an \nexisting virtual machine.\n2. Launch VMware Workstation and open the virtual machine. \n3. Edit the configuration using the virtual machine settings editor (VM > Settings).\nSelect Network Adapter, then select Host-only (VMnet1) from the drop-down \nlist on the right. \nIf no network adapter is shown in the list of devices, click Add, then use the Add \nHardware Wizard to add an adapter.\nConfiguration 2 – Connect to the Newly Created Host-Only Interface\n1. Create the virtual machine using the New Virtual Machine Wizard or use an \nexisting virtual machine.\n2. Launch VMware Workstation and open the virtual machine. \n3. Edit the configuration using the virtual machine settings editor (VM > Settings).\nSelect Network Adapter, then select Custom (VMnet2) from the drop-down list \non the right. \nIf no network adapter is shown in the list of devices, click Add, then use the Add \nHardware Wizard to add an adapter."
  },
  {
    "page": 238,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n239\nConfiguration 3 – Connect to Two Host-Only Interfaces\n1. Create the virtual machine using the New Virtual Machine Wizard or use an \nexisting virtual machine.\n2. Launch VMware Workstation and open the virtual machine. \n3. Edit the configuration using the virtual machine settings editor (VM > Settings).\nSelect the first network adapter in the list of devices, then select Host-only \n(VMnet1) from the drop-down list on the right. Select the second network \nadapter in the list of devices, then select Custom (VMnet2) from the drop-down \nlist on the right.\nIf you need to add one or more network adapters, click Add, then use the Add \nHardware Wizard to add an adapter.\nAt this point you can power on the virtual machine and install your guest operating \nsystem. In configurations 1 and 2 you see one AMD PCNet Family Adapter. In \nconfiguration 3 you see two AMD PCNet Family Adapters within the guest. Configure \nthe Ethernet adapters as you would physical adapters on a physical computer, giving \neach an IP address on the appropriate VMnet subnet. \nOn Windows hosts, you can open a command prompt and run ipconfig /all to \nsee what IP addresses each host-only network is using. \nOn Linux hosts, you can open a terminal and run ifconfig to see what IP addresses \neach host-only network is using. \nRouting between Two Host-Only Networks \nIf you are setting up a complex test network using virtual machines, you may want to \nhave two independent host-only networks with a router between them.\nThere are two basic approaches. In one, the router software runs on the host \ncomputer. In the other, the router software runs in its own virtual machine. In both \ncases, you need two host-only interfaces.\nThe examples described here outline the simplest case, with one virtual machine on \neach of the host-only networks. For more complex configurations, you can add more \nvirtual machines and host-only networks as appropriate.\nSetting Up the First Host-Only Interface\nOn Windows hosts, the first host-only network is set up automatically when you install \nVMware Workstation. \nOn Linux hosts, the first host-only network was set up when you ran the vmware-\nconfig.pl program after you installed VMware Workstation, provided you agreed"
  },
  {
    "page": 239,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n240\nVMware Workstation 4 User’s Manual\nto install host-only networking. If you did not agree to use host-only networking, you \nneed to run the program again to set up host-only networking.\nSetting Up the Second Host-Only Interface – Windows Host\nFollow these steps to set up the second host-only interface on a Windows host.\n1. Go to Edit > Virtual Network Settings > Host Virtual Adapters.\n2. Click Add new adapter.\n3. Choose the virtual network on which you want to use the adapter and click OK.\n4. Click Apply.\n5. Click OK to close the Virtual Network Editor.\nSetting Up the Second Host-Only Interface – Linux Host\n1. As root (su), run the VMware Workstation configuration program.\n/usr/bin/vmware-config.pl \n2. Use the wizard to modify your configuration. After asking about a NAT network, \nthe program asks:\nDo you want to be able to use host-only networking in your \nvirtual machines?\nAnswer Yes.\nThe wizard reports on host-only networks that you have already set up on the \nhost or, if none is present, configures the first host-only network.\n3. The wizard asks:\nDo you wish to configure another host-only network?\nAnswer Yes.\nRepeat this step until you have as many host-only networks as you want. Then \nanswer No.\n4. Complete the wizard. When it is finished, it restarts all services used by VMware \nWorkstation.\n5. Run ifconfig. You should see at least four network interfaces — eth0, lo, \nvmnet1 and vmnet2. If the VMnet interfaces do not show up immediately, \nwait for a minute, then run the command again. These four interfaces should \nhave different IP address on separate subnets."
  },
  {
    "page": 240,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n241\nSetting Up the Virtual Machines\nNow you have two host-only network adapters on the host computer. Each is \nconnected to its own virtual switch (VMnet1 and VMnet2). You are ready to create and \nconfigure your virtual machines and connect them to the appropriate virtual \nswitches.\nVirtual Machine 1 – Connected to the Default Host-Only Interface\n1. Create the virtual machine using the New Virtual Machine Wizard or use an \nexisting virtual machine.\n2. Launch VMware Workstation and open the virtual machine. \n3. Edit the configuration using the virtual machine settings editor (VM > Settings).\nSelect Network Adapter and select Host-only (VMnet1) from the drop-down \nlist on the right. \nIf no network adapter is shown in the list of devices, click Add, then use the Add \nHardware Wizard to add an adapter.\nVirtual Machine 2 – Connected to the Newly Created Host-Only Interface\n1. Create the virtual machine using the New Virtual Machine Wizard or use an \nexisting virtual machine.\n2. Launch VMware Workstation and open the virtual machine. \n3. Edit the configuration using the virtual machine settings editor (VM > Settings).\nSelect Network Adapter and select Custom (VMnet2) from the drop-down list \non the right. \nIf no network adapter is shown in the list of devices, click Add, then use the Add \nHardware Wizard to add an adapter.\nIf you plan to run the router software on your host computer, you can skip the next \nsection.\nVirtual Machine 3 – Connected to Both Host-Only Interfaces\nIf you plan to run the router software on a virtual machine, set up a third virtual \nmachine for that purpose.\n1. Create the virtual machine using the New Virtual Machine Wizard or use an \nexisting virtual machine.\n2. Launch VMware Workstation and open the virtual machine. \n3. Edit the configuration using the virtual machine settings editor (VM > Settings)."
  },
  {
    "page": 241,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n242\nVMware Workstation 4 User’s Manual\nSelect the first network adapter in the list of devices and select Host-only \n(VMnet1) from the drop-down list on the right. Select the second network \nadapter in the list of devices, then select Custom (VMnet2) from the drop-down \nlist on the right.\nIf you need to add one or more network adapters, click Add, then use the Add \nHardware Wizard to add an adapter.\nNow you need to configure the networking components on the host and in the \nvirtual machines. The recommended approach uses static IP addresses for all the \nvirtual machines.\n1. Stop the VMnet DHCP server service.\nWindows host: Choose Edit > Virtual Network Settings > DHCP and click Stop \nservice.\nLinux host: Stop the vmnet-dhcpd service.\nkillall -TERM vmnet-dhcpd\n2. Install guest operating systems in each of the virtual machines.\n3. Install the router software — on the host computer or in the third virtual \nmachine, depending on the approach you are using.\n4. Configure networking in the first two virtual machines to use addresses on the \nappropriate host-only network. \nOn Windows hosts, you can open a command prompt and run \nipconfig /all to see what IP addresses each host-only network is using. \nOn Linux hosts, you can open a terminal and run ifconfig to see what IP \naddresses each host-only network is using. \n5. If you are running the router on the host computer, assign default router \naddresses based on the addresses of the host-only adapters on the host \ncomputer. In the first virtual machine’s networking configuration, the default \nrouter address should be the IP address for the host-only adapter connected to \nVMnet1. In the second virtual machine’s networking configuration, the default \nrouter address should be the IP address for the host-only adapter connected to \nVMnet2. \nIf you are running the router software on the third virtual machine, set the \ndefault router addresses in the first two virtual machines based on those used by \nthe third virtual machine. In the first virtual machine’s networking configuration, \nthe default router address should be the IP address for the third virtual machine’s \nEthernet adapter connected to VMnet1. In the second virtual machine’s"
  },
  {
    "page": 242,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n243\nnetworking configuration, the default router address should be the IP address for \nthe third virtual machine’s Ethernet adapter connected to VMnet2. \nAt this point you should be able to ping the router machine from virtual machines \none and two. And if the router software is set up correctly, you should be able to \ncommunicate between the first and second virtual machines.\nUsing Virtual Ethernet Adapters in Promiscuous Mode \non a Linux Host\nVMware Workstation does not allow the virtual Ethernet adapter to go into \npromiscuous mode unless the user running VMware Workstation has permission to \nmake that setting. This follows the standard Linux practice that only root can put a \nnetwork interface into promiscuous mode.\nWhen you install and configure VMware Workstation, you must run the installation as \nroot. VMware Workstation creates the VMnet devices with root ownership and root \ngroup ownership, which means that only root has read and write permissions to the \ndevices.\nTo set the virtual machine’s Ethernet adapter to promiscuous mode, you must launch \nVMware Workstation as root because you must have read and write access to the \nVMnet device. For example, if you are using bridged networking, you must have \naccess to /dev/vmnet0.\nTo grant selected other users read and write access to the VMnet device, you can \ncreate a new group, add the appropriate users to the group and grant that group read \nand write access to the appropriate device. You must make these changes on the host \noperating system as root (su). For example, you can enter the following commands:\nchgrp <newgroup> /dev/vmnet0\nchmod g+rw /dev/vmnet0\n<newgroup> is the group that should have the ability to set vmnet0 to \npromiscuous mode.\nIf you want all users to be able to set the virtual Ethernet Adapter (/dev/vmnet0 in \nour example) to promiscuous mode, you can simply run the following command on \nthe host operating system as root:\nchmod a+rw /dev/vmnet0"
  },
  {
    "page": 243,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n244\nVMware Workstation 4 User’s Manual\nUnderstanding NAT \nNetwork address translation — or NAT — is a networking option that first appeared in \nVMware Workstation 3.0. \nNAT provides a simple way for virtual machines to use most client applications over \nalmost any type of network connection available to the host. The only requirement is \nthat the network connection must support TCP/IP. \nNAT is useful when you have a limited supply of IP addresses or are connected to the \nnetwork through a non-Ethernet network adapter. NAT works by translating addresses \nof virtual machines in a private VMnet network to that of the host machine. When a \nvirtual machine sends a request to access a network resource, it appears to the \nnetwork resource as if the request came from the host machine.\nNAT uses the host’s own network resources to connect to the external network. Thus, \nany TCP/IP network resource to which the host has access should be available \nthrough the NAT connection. \nThe chief advantage of NAT is that it provides a transparent, easy to configure way for \nvirtual machines to gain access to network resources.\nUsing NAT\nThe NAT device is connected to the VMnet8 virtual switch. Virtual machines \nconnected to the NAT network also use the VMnet8 virtual switch. \nThe NAT device waits for packets coming from virtual machines on the VMnet8 virtual \nnetwork. When a packet arrives, the NAT device translates the address of the virtual \nmachine to that of the host before forwarding the packet to the external network. \nWhen data arrives from the external network for the virtual machine on the private \nnetwork, the NAT device receives the data, replaces the network address with that of \nthe virtual machine and forwards the data to the virtual machine on the virtual \nnetwork. This translation occurs automatically and requires minimal configuration on \nthe guest and the host.\nThe Host Computer and the NAT Network\nThe host computer has a host virtual adapter on the NAT network (identical to the \nhost virtual adapter on the host-only network). This adapter allows the host and the \nvirtual machines to communicate with each other for such purposes as file sharing. \nThe NAT never forwards traffic from the host virtual adapter."
  },
  {
    "page": 244,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n245\nDHCP on the NAT Network\nIn order to make networking configuration easy, a DHCP server is automatically \ninstalled when you install VMware Workstation. Virtual machines running on the \nnetwork with the NAT device can dynamically obtain their IP addresses by sending \nout DHCP requests. The DHCP server on the NAT network, which is also used in host-\nonly networking configurations, dynamically allocates IP addresses in the range of \n<net>.128 through <net>.254, where <net> is the network number assigned to your \nNAT network. VMware Workstation always uses a Class C address for NAT networks. IP \naddresses <net>.3 through <net>.127 can be used for static IP addresses. IP address \n<net>.1 is reserved for the host adapter; <net>.2 is reserved for the NAT device.\nIn addition to the IP address, the DHCP server on the NAT network also sends out \nadditional configuration information that enables the virtual machine to operate \nautomatically. This information includes the default gateway and the DNS server. In \nthe DHCP response, the NAT device instructs the virtual machine to use the IP address \n<net>.2 as the default gateway and DNS server. This causes all IP packets destined for \nthe external network and DNS requests to be forwarded to the NAT device.\nDNS on the NAT Network\nThe NAT device acts as a DNS server for the virtual machines on the NAT network. \nActually, the NAT device is a DNS proxy and merely forwards DNS requests from the \nvirtual machines to a DNS server that is known by the host. Responses come back to \nthe NAT device, which then forwards them to the virtual machines.\nIf they get their configuration information from DHCP, the virtual machines on the NAT \nnetwork automatically use the NAT device as the DNS server. However, the virtual \nmachines can be statically configured to use another DNS server.\nThe virtual machines in the private NAT network are not, themselves, accessible via \nDNS. If you want the virtual machines running on the NAT network to access each \nother by DNS names, you must set up a private DNS server connected to the NAT \nnetwork.\nExternal Access from the NAT Network\nIn general, any protocol using TCP or UDP can be used automatically by a virtual \nmachine on the NAT network so long as the virtual machine initiates the network \nconnection. This is true for most client applications such as Web browsing, Telnet, \npassive-mode FTP and downloading streaming video. Additional protocol support \nhas been built into the NAT device to allow FTP and ICMP echo (ping) to work \ncompletely transparently through the NAT."
  },
  {
    "page": 245,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n246\nVMware Workstation 4 User’s Manual\nOn the external network to which the host is connected, any virtual machine on the \nNAT network appears to be the host itself, because its network traffic uses the host’s IP \naddress. It is able to send and receive data using TCP/IP to any machine that is \naccessible from the host. \nBefore any such communication can occur, the NAT device must set up a mapping \nbetween the virtual machine’s address on the private NAT network and the host’s \nnetwork address on the external network. \nWhen a virtual machine initiates a network connection with another network \nresource, this mapping is created automatically. The operation is perfectly transparent \nto the user of the virtual machine on the NAT network. No additional work needs to \nbe done to let the virtual machine access the external network.\nThe same cannot be said for network connections that are initiated from the external \nnetwork to a virtual machine on the NAT network. \nWhen a machine on the external network attempts to initiate a connection with a \nvirtual machine on the NAT network, it cannot reach the virtual machine because the \nNAT device does not forward the request. Network connections that are initiated from \noutside the NAT network are not transparent. \nHowever, it is possible to configure port forwarding manually on the NAT device so \nnetwork traffic destined for a certain port can still be forwarded automatically to a \nvirtual machine on the NAT network. For details, see Advanced NAT Configuration \nbelow.\nFile sharing of the type used by Windows operating systems and Samba is possible \namong computers on the NAT network — including virtual machines and the host \ncomputer. If you are using WINS servers on your network, a virtual machine using NAT \nnetworking can access shared files and folders on the host that are known by the \nWINS server so long as those shared files and folders are in the same workgroup or \ndomain."
  },
  {
    "page": 246,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n247\nAdvanced NAT Configuration\nWindows host: Configure the NAT device using the Virtual Network Editor (Edit > \nVirtual Network Settings > NAT).\nYou can stop and start the virtual NAT device by clicking the appropriate buttons.\nTo edit NAT settings for a virtual network, choose it from the drop-down menu, then \nclick Edit.\nChange any NAT settings you wish. Click the appropriate button to set up or change \nport forwarding or to specify DNS servers the virtual NAT device should use.\nLinux host: Use the NAT configuration file on the host to configure the NAT device. \nThis file is /etc/vmware/vmnet8/nat/nat.conf.\nThe configuration file is divided into sections. Each section configures a part of the \nNAT device. Text surrounded by square brackets — such as [host] — marks the \nbeginning of a section. In each section is a configuration parameter that can be set. \nThe configuration parameters take the form ip = 192.168.27.1/24.\nFor an example of a NAT configuration file, see Sample Linux vmnetnat.conf File on \npage 253. The configuration file variables are described below."
  },
  {
    "page": 247,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n248\nVMware Workstation 4 User’s Manual\nThe [host] Section\nip \nThe IP address that the NAT device should use. It can optionally be followed by a slash \nand the number of bits in the subnet.\nnetmask\nThe subnet mask to use for the NAT. DHCP addresses are allocated from this range of \naddresses.\nconfigport\nA port that can be used to access status information about the NAT.\ndevice\nThe VMnet device to use. Windows devices are of the form VMnet<x> where <x> is \nthe number of the VMnet. Linux devices are of the form /dev/vmnet<x>.\nactiveFTP\nFlag to indicate if active FTP is to be allowed. Active FTP allows incoming connections \nto be opened by the remote FTP server. Turning this off means that only passive mode \nFTP works. Set to 0 to turn it off.\nThe [udp] Section\ntimeout\nNumber of minutes to keep the UDP mapping for the NAT.\nThe [dns] Section\nThis section is for Windows hosts only. Linux does not use this section.\npolicy\nPolicy to use for DNS forwarding. Accepted values include order, rotate, and \nburst.\n•\norder — send one DNS request at a time in order of the name servers\n•\nrotate — send one DNS request at a time and rotate through the DNS servers\n•\nburst — send to three servers and wait for the first one to respond\ntimeout\nTime in seconds before retrying a DNS request.\nretries\nNumber of retries before the NAT device gives up on a DNS request.\nautodetect\nFlag to indicate if the NAT should automatically detect the DNS servers available to the \nhost."
  },
  {
    "page": 248,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n249\nnameserver1\nIP address of a DNS server to use.\nnameserver2\nIP address of a DNS server to use.\nnameserver3\nIP address of a DNS server to use.\nIf autodetect is on and some name servers are specified, the DNS servers specified in \nnameserver1, nameserver2 and nameserver3 are added before the list of \ndetected DNS servers.\nThe [netbios] Section\nThis section applies to Windows hosts only. Linux does not use this section.\nnbnsTimeout = 2\nTimeout for NBNS queries.\nnbnsRetries = 3\nNumber of retries for each NBNS query.\nnbdsTimeout = 3\nTimeout for NBDS queries.\nThe [incomingtcp] Section\nThis section is used to configure TCP port forwarding for NAT. In this section, you can \nassign a port number to an IP address and port number on a virtual machine. \nThe following line shows the format used in this section.\n8887 = 192.168.27.128:21\nThis example creates a mapping from port 8887 on the host to the IP address \n192.168.27.128 and port 21. When this mapping is set and an external machine \nconnects to the host at port 8887, the network packets are automatically forwarded to \nport 21 (the standard port for FTP) on the virtual machine with IP address \n192.168.27.128.\nThe [incomingudp] Section\nThis section is used to configure UDP port forwarding for NAT. In this section, you can \nassign a port number to an IP address and port number on a virtual machine. \nThe following line shows the format used in this section. It illustrates a way to forward \nX server traffic from the host port 6000 to the virtual machine’s port 6001.\n6000 = 192.168.27.128:6001"
  },
  {
    "page": 249,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n250\nVMware Workstation 4 User’s Manual\nThis example creates a mapping from port 6000 on the host to the IP address \n192.168.27.128 and port 6001. When this mapping is set and an external machine \nconnects to the host at port 6000, the network packets are automatically forwarded to \nport 6001 on the virtual machine with IP address 192.168.27.128.\nCustom NAT and DHCP Configuration on a Windows Host\nIf you are an advanced user on a Windows host computer, you may wish to make \ncustom configuration settings by editing the NAT and DHCP configuration files. If your \nhost operating system is installed on the C drive, the configuration files for NAT and \nDHCP are in the following locations:\n•\nNAT: C:\\Documents and Settings\\All Users\\Application \nData\\VMware\\vmnetnat.conf\n•\nDHCP: C:\\Documents and Settings\\All Users\\Application \nData\\VMware\\vmnetdhcp.conf \nNote: In VMware Workstation 4, you can change many key NAT and DCHP settings \nusing the Virtual Network Editor (Edit > Virtual Network Settings). However, if you \nhave made manual changes to the configuration files, some or all of those changes \nmay be lost when you use the Virtual Network Editor. If you have made manual \nchanges, you should make backup copies of the files before changing any settings in \nthe Virtual Network Editor. After making changes in the Virtual Network Editor, you \ncan copy your manual changes back into the appropriate configuration files. \nSpecifying Connections from Ports Below 1024\nWhen a client machine makes a TCP or UDP connection to a server, the connection \ncomes from a particular port on the client (the source port) and connects to a \nparticular port on the server (the destination port). For security reasons, some servers \naccept connections only from source ports below 1024. You may see this \nconfiguration on machines used as NFS file servers, for example.\nIf a virtual machine using NAT attempts to connect to a server that requires the client \nto use a source port below 1024, it is important that the NAT device forward the \nrequest from a port below 1024. Beginning in VMware Workstation 4.5, you can \nspecify this behavior in the vmnetnat.conf file.\nThis behavior is controlled by entries in sections headed [privilegedUDP] and \n{privilegedTCP]. You may need to add settings to or modify settings in either or \nboth of these sections, depending on the kind of connection you need to make.\nYou can set two parameters, each of which appears on a separate line."
  },
  {
    "page": 250,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n251\nautodetect = <n>\nThe autodetect setting determines whether the VMware NAT device automatically \nattempts to map virtual machine source ports below 1024 to NAT source ports below \n1024. A setting of 1 means true. A setting of 0 means false. On a Windows host, the \ndefault is 1 (true). On a Linux host, the default is 0 (false).\nport = <n>\nThe port setting specifies a destination port (where <n> is the port on the server that \naccepts the connection from the client). Whenever a virtual machine connects to the \nspecified port on any server, the NAT device attempts to make the connection from a \nsource port below 1024. You may include one or more port settings in the \n[privilegedUDP] or [privilegedTCP] section or in both sections, as \nrequired for the connections you need to make. Enter each port setting on a separate \nline.\nConsiderations for Using NAT\nBecause NAT requires that every packet sent and received from virtual machines is in \nthe NAT network, there is an unavoidable performance penalty. Our experiments \nshow that the penalty is minor for dial-up and DSL connections and performance is \nadequate for most VMware Workstation uses.\nNAT is not perfectly transparent. It does not normally allow connections to be initiated \nfrom outside the network, although you can set up server connections by manually \nconfiguring the NAT device. The practical result is that some TCP and UDP protocols \nthat require a connection be initiated from the server machine — some peer to peer \napplications, for example — do not work automatically, and some may not work at all.\nA standard NAT configuration provides basic-level firewall protection because the NAT \ndevice can initiate connections from the private NAT network, but devices on the \nexternal network cannot normally initiate connections to the private NAT network.\nUsing NAT with NetLogon \nWhen using NAT networking in a virtual machine with a Windows guest operating \nsystem running on a Windows host, you can use NetLogon to log on to a Windows \ndomain from the virtual machine. You can then access file shares known by the WINS \nserver in the domain. \nTo use NetLogon, you need to know how WINS servers and Windows domain \ncontrollers work. This section explains how to set up the virtual machine to use \nNetLogon. The setup process is similar to the way you set up a physical computer on \none LAN that is using a domain controller on another LAN."
  },
  {
    "page": 251,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n252\nVMware Workstation 4 User’s Manual\nIn order to log on to a Windows domain outside the virtual NAT network, the virtual \nmachine needs access to a WINS server for that domain. There are two ways you can \nconnect the virtual machine to a WINS server. You can connect to the WINS server \nprovided by the DHCP server used on the NAT network, provided that the WINS server \nis already set up on the host. If you want to connect from the virtual machine to a \nWINS server not set up on the host, you can manually enter the IP address of the WINS \nserver.\nUsing NAT to Connect to an Existing WINS Server Already Set Up on the Host\nIn order to use this method, a WINS server in the same workgroup or domain must be \nset up on the host. These steps use Windows 2000, Windows XP or Windows Server \n2003 as a guide. The process is similar for Windows NT, Windows Me and Windows 9x \nguests.\n1. In the virtual machine, right-click on My Network Places and select Properties.\n2. In the Network Connections window, right-click the virtual network adapter and \nselect Properties.\n3. In the Properties dialog box, select Internet Protocol (TCP/IP), then click \nProperties. \n4. In the TCP/IP Properties dialog box, click Advanced.\n5. Click the WINS tab, then under NetBIOS setting, select Use NetBIOS setting \nfrom DHCP Server. \n6. Click OK twice, then click Close.\nManually Entering the IP Address of a WINS Server\nUse this method to connect to a WINS server in the same workgroup or domain that is \nnot already set up on the host.\n1. In the virtual machine, right-click on My Network Places and select Properties.\n2. In the Network Connections window, right-click the virtual network adapter and \nselect Properties.\n3. In the Properties dialog box, select Internet Protocol (TCP/IP), then click \nProperties. \n4. In the TCP/IP Properties dialog box, click Advanced.\n5. Click the WINS tab, then click Add. \n6. In the TCP/IP WINS Server dialog box, enter the IP address for the WINS server in \nthe WINS server field, then click OK. The IP address of the WINS server appears in \nthe WINS addresses list on the WINS tab."
  },
  {
    "page": 252,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n253\nRepeat steps 5 and 6 for each WINS server to which you want to connect from \nthis virtual machine.\n7. Click OK twice, then click Close.\nNow that the virtual machine has an IP address for a WINS server, you use NetLogon in \nthe virtual machine to log on to a domain and access shares in that domain.\nFor example, if the WINS server covers a domain with a domain controller it is possible \nto access that domain controller from the virtual machine and add the virtual \nmachine to the domain. You need to know the user ID and password of the \nAdministrator on the domain controller.\nNote: Your access is limited to shares of virtual machines that are on the same NAT \nnetwork or are bridged on the same domain.\nSample Linux vmnetnat.conf File\n# Linux NAT configuration file\n[host]\n# NAT gateway address\nip = 192.168.237.2/24\nhostMAC = 00:50:56:C0:00:08\n# enable configuration; disabled by default for security reasons\n#configport = 33445\n# VMnet device if not specified on command line\ndevice = VMnet8\n# Allow PORT/EPRT FTP commands (they need incoming TCP stream...)\nactiveFTP = 1\n# Allows the source to have any OUI. Turn this one if you change the OUI\n# in the MAC address of your virtual machines.\n#allowAnyOUI = 1\n[udp]\n# Timeout in seconds, 0 = no timeout, default = 60; real value might\n# be up to 100% longer\ntimeout = 30\n[dns]\n# This section applies only to Windows.\n#\n# Policy to use for DNS forwarding. Accepted values include order,"
  },
  {
    "page": 253,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n254\nVMware Workstation 4 User’s Manual\n# rotate, burst.\n#\n# order: send one DNS request at a time in order of the name servers\n# rotate: send one DNS request at a time, rotate through the DNS servers\n# burst: send to three servers and wait for the first one to respond\npolicy = order;\n# Timeout in seconds before retrying DNS request.\ntimeout = 2\n# Retries before giving up on DNS request\nretries = 3\n# Automatically detect the DNS servers (not supported in Windows NT)\nautodetect = 1\n# List of DNS servers to use. Up to three may be specified\n#nameserver1 = 208.23.14.2\n#nameserver2 = 63.93.12.3\n#nameserver3 = 208.23.14.4\n[netbios]\n# This section applies only to Windows.\n# Timeout for NBNS queries.\nnbnsTimeout = 2\n# Number of retries for each NBNS query.\nnbnsRetries = 3\n# Timeout for NBDS queries.\nnbdsTimeout = 3\n[incomingtcp]\n# Use these with care - anyone can enter into your virtual machine through\n# these...\n# FTP (both active and passive FTP is always enabled)\n#   ftp localhost 8887\n#8887 = 192.168.27.128:21\n# WEB (make sure that if you are using named webhosting, names point to\n#   your host, not to guest... And if you are forwarding port other\n#   than 80 make sure that your server copes with mismatched port \n#   number in Host: header)\n#   lynx http://localhost:8888\n#8888 = 192.168.27.128:80"
  },
  {
    "page": 254,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n255\n# SSH\n#   ssh -p 8889 root@localhost\n#8889 = 192.168.27.128:22\n[incomingudp]\n# UDP port forwarding example\n#6000 = 192.168.27.128:6001"
  },
  {
    "page": 255,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n256\nVMware Workstation 4 User’s Manual\nUsing Samba on a Linux Host\nUsing Samba for File Sharing on a Linux Host \nOn a Linux host computer, VMware Workstation can automatically install and \nconfigure a Samba server to act as a file server for Microsoft Windows guest operating \nsystems. \nYou can then use Windows Explorer in the virtual machine to move and copy files \nbetween virtual machine and host — or between virtual machines on the same \nnetwork — just as you would with files on physical computers that share a network \nconnection.\nThe lightly modified Samba server installed by VMware Workstation runs over the \nVMware Workstation virtual Ethernet, and the Samba traffic between different \noperating systems is isolated from actual local area networks. \nThe source code differences for the changes (in diff format and based on Samba \n2.0.6) are available from VMware.\nIf you already have Samba configured on your Linux host, the recommended \napproach is to modify that configuration so it includes the IP subnet used by the \nVMware Workstation virtual Ethernet adapter, VMnet1.\nYou can configure your existing Samba server to work with a host-only network. Note, \nhowever, that all the shares you set up in Samba and in the guest operating system \nnormally appear on the bridged network, as well. \nIf you need to be sure the shares set up in the guest operating system are seen only \non the host-only network, you may find it easiest to install and use the Samba server \nprovided with VMware Workstation. \nIf you do not need any shares to appear on your bridged network, you can use your \nexisting Samba server and set up the configuration file so it works only on the host-\nonly network.\nSamba configurations can be quite complex. This section provides several sample \nconfiguration files. If you need to go beyond the issues covered here, see the man \npage for the smb.conf file. To view this man page, type one of the following \ncommands in a terminal window: \nman smb.conf \nor \nman 5 smb.conf"
  },
  {
    "page": 256,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n257\nPay particular attention to the section on encrypted passwords. If you have enabled \nclear-text passwords in the guest operating system, be sure that smb.conf is set up \nto use clear-text passwords. Similarly, if you are using encrypted passwords, you must \nhave the same setting in the guest operating system and in smb.conf.\nNote: Using Samba printer sharing with virtual machines is not supported. Consult \nthe man pages for guidance on configuring Samba for printing.\nSample smb.conf for Host-Only Networking\nThe following sample Samba configuration file is for use with host-only networking. \nThis configuration is for the 2.0.6 version of Samba installed by VMware Workstation. \nThe configuration files are placed in /etc/vmware/vmnet1/smb by default.\n# This is the VMware(TM) Samba configuration file. You should read the\n# smb.conf(5) manual page in order to understand the options listed\n# here. Samba has a huge number of configurable options \n# most of which are not shown in this example\n#\n# Any line that starts with a ; (semicolon) or a # (hash) \n# is a comment and is ignored. In this example we will use a #\n# for commentary and a ; for parts of the config file that you\n# may wish to enable\n#\n#\n# Configuration file for Samba 2.0.6 vmware-[sn]mbd operating on\n# vmnet1.\n#\n# This file was generated by the VMware configuration\n# program and modified for this document.\n#\n# If you modify it, it will be backed up the next time you run the\n# configuration program.\n# Global settings\n[global]\n# This should be polled at install time from the private subnet created by\n# vmware-config.pl\nsocket address = 192.168.183.1\ninterfaces = vmnet1\nbind interfaces only = yes\nworkgroup = WORKGROUP\nnetbios name = HOSTNAME\nserver string = VMware host-only\nsecurity = user\nencrypt passwords = yes\n# Note: Printers not loaded in this example. Resource definitions commented\n# below.\n; load printers = yes\nsocket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192"
  },
  {
    "page": 257,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n258\nVMware Workstation 4 User’s Manual\n# VMware extension to use a different shared memory access key on each\n# Samba server running on this host\nsysv shm key = /dev/vmnet1\n; log file = /etc/vmware/vmnet1/smb/var/log.smb\n; log level = 1\n; max log size in KB \n; max log size = 50\nlock directory = /etc/vmware/vmnet1/smb/var/locks\nsmb passwd file = /etc/vmware/vmnet1/smb/private/smbpasswd\ncodepage dir = /usr/lib/vmware/smb/codepages\ndns proxy = no \n# Shared resources\n# Home directories\n[homes]\ncomment = Home directories\nbrowseable = no\nwritable = yes\n# Printers\n;[printers]\n; comment = All printers\n; path = /var/lpd\n; browseable = no\n; guest ok = no\n; writable = no\n; printable = yes\n;[HostFS]\n; comment = VMware host filesystem\n; path = /\n; public = no\n; writeable = yes\n; printable = no\nSample smb.conf for Bridged Networking\nThe following sample Samba configuration file is for use with bridged networking. \nThis configuration file is based on the 2.0.7 version of Samba and assumes that you are \nusing your existing Samba server, as provided with your host computer’s Linux \ndistribution. The configuration file is placed in /etc by default.\n# This is the main Samba configuration file. You should read the\n# smb.conf(5) manual page in order to understand the options listed\n# here. Samba has a huge number of configurable options \n# most of which are not shown in this example\n#\n# Any line that starts with a ; (semicolon) or a # (hash) \n# is a comment and is ignored. In this example we will use a #\n# for commentary and a ; for parts of the config file that you"
  },
  {
    "page": 258,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n259\n# may wish to enable\n#\n# NOTE: Whenever you modify this file you should run the command\n# \"testparm\" to check that you have not many any basic syntactic\n# errors. \n# Global Settings\n[global]\ninterfaces = eth0\nworkgroup = WORKGROUP\nnetbios name = HOSTNAME\nserver string = Samba Host Box\n# Note: Printers not loaded in this example. Resource definitions commented\n# below.\n; printcap name = lpstat\n; load printers = yes\n; printing = cups\nsocket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192\nlog file = /var/log/samba/log.%m\nmax log size = 50\nsecurity = user\nencrypt passwords = yes\nsmb passwd file = /etc/smbpasswd\ndns proxy = no \npreserve case = yes\nshort preserve case = yes\ndefault case = lower\n; case sensitive = no\n# Shared Resources\n[homes]\ncomment = Home Directories\nbrowseable = yes\nwritable = yes\n;[printers]\n; comment = All Printers\n; path = /var/spool/samba\n; browseable = yes\n; guest ok = yes\n; writable = no\n; printable = yes\n; create mode = 0700\n; print command = lpr-cups -P %p -o raw %s -r # using client side\n; printer drivers.\n; print command = lpr-cups -P %p %s # using cups own drivers (use\n; generic PostScript on clients).\n; lpq command = lpstat -o %p"
  },
  {
    "page": 259,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n260\nVMware Workstation 4 User’s Manual\n; lprm command = cancel %p-%j\n;[system]\n; comment = System share\n; path = /\n; valid users = username\n; public = no\n; browsable = yes\n; writable = yes\n; printable = no\nAdding User Names and Passwords to the VMware Workstation Samba \nPassword File\nYou must be sure the Samba password file includes entries for all users of the virtual \nmachine who will access the host’s file system. The user names and passwords in the \nSamba password file must be the same as those used for logging on to the guest \noperating system.\nYou may add user names and passwords to the VMware Workstation Samba password \nfile at any time from a terminal window on your Linux host computer. \n1. Log on to the root account.\nsu\n2. Run the VMware Workstation Samba password command.\nvmware-smbpasswd vmnet1 -a <username>\n<username> is the user name you want to add. Follow the instructions on the \nscreen. \nNote: vmware-smbpasswd is based on the standard Samba password \nprogram. If you are familiar with the options used in smbpasswd, you may use \nany of them in vmware-smbpasswd.\n3. Log out of the root account.\nexit\nYou may receive an error message that says\nUnknown virtual interface \"vmnet1\"\nThis indicates your machine is not using the VMware Workstation Samba server. \nIf your installation of VMware Workstation does not include the VMware Workstation \nSamba server and you want to set it up, log on to the root account on your host \ncomputer (su), then run vmware-config.pl from a terminal on the host. The \nconfiguration program asks \nDo you want this script to automatically configure your \nsystem to allow your virtual machines to access the host"
  },
  {
    "page": 260,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n261\nfile system? \nAnswer Yes.\nIf You Are Already Running Samba \nIf you already have Samba running on your Linux host, you should not install the \nVMware Workstation Samba server when you are installing VMware Workstation on \nyour host. \nThe configuration program prompts you \nDo you want this script to automatically configure your \nsystem to allow your virtual machines to access the host \nfile system? \nAnswer No.\nBe sure to modify your Samba configuration so it includes the IP subnet used by the \nVMware Workstation virtual Ethernet adapter, VMnet1.\nTo determine what subnet is being used by VMnet1, run\n/sbin/ifconfig vmnet1\nYou must be sure the Samba password file includes entries for all users of the virtual \nmachine who will access the host’s file system. The user names and passwords in the \nSamba password file must be the same as those used for logging on to the guest \noperating system.\nYou may add user names and passwords to the Samba password file at any time from \na terminal window on your Linux host computer. \n1. Log on to the root account.\nsu\n2. Run the Samba password command.\nsmbpasswd -a <username>\n<username> is the user name you want to add. Follow the instructions on the \nscreen. \n3. Log out of the root account.\nexit\nUsing a Samba Server for Both Bridged and Host-Only Networks\nYou may use the Samba server of your choice — either the existing Samba server \nfrom your host operating system’s distribution or the one provided with VMware \nWorkstation — for both host-only and bridged networking. To do so, you must modify"
  },
  {
    "page": 261,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n262\nVMware Workstation 4 User’s Manual\none parameter in the smb.conf file. You can define the interface parameter so \nyour Samba server serves multiple interfaces. An example of this is:\ninterface = eth0 vmnet1\nThis example tells the Samba server that it is to listen to and use both the eth0 and \nvmnet1 interfaces — the interfaces used by bridged and host-only networking, \nrespectively.\nUsing VMware Workstation’s Samba with an Existing Installation\nIt may also be possible to run both your existing Samba server and the VMware \nWorkstation Samba server at the same time. In order to do this, your current Samba \nserver must be version 2.0.6 or higher and must be configured correctly. However, this \napproach is not recommended.\nTo determine the version of your Samba server, run\nsmbd -V \nIf you want to try running both Samba servers at the same time, use this sample \nsmb.conf file as a basis for configuring the regular Samba server on your host \ncomputer.\nSample smb.conf for Running Two Samba Servers at the Same Time\n; This file is the recommended smb.conf file for your \n; normal Samba server if you want to run it concurrently\n; (which we don't advise) with the VMware Samba server.\n; \n; Your normal samba server should be at least v 2.0.6\n; \n; Note that you will need to insert specific information\n; for your system at several points indicated in the file\n; by <text in angle brackets>.\n;\n; --------------\n;\n; Larmor samba server configuration\n;\n; Global settings\n[global]\n;\n; Identity\n;\n; Allow several Samba servers on the same machine\ninterfaces = <your real subnet>/<your real netmask>\nbind interfaces only = yes\n; Workgroup the host belongs to\nworkgroup = VMware\n; SMB name of the host (the hostname by default)\nnetbios name = <your Windows name>\n; Description of the host\nserver string = Linux running Samba 2.0.6\n;"
  },
  {
    "page": 262,
    "chapter": "Configuring a Virtual Network",
    "text": "C H A P T E R  9  Configuring a Virtual Network\n263\n; Access\n;\n; Allow connections from\n; hosts allow = <your real subnet>/<your real netmask>\n; Authentication scheme\nsecurity = user\nencrypt passwords = yes\n;\n; Options\n;\n; Automatically load the printer list (from /etc/printcap\n; by default)\nload printers = yes\n; Gives better performance\nsocket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192\n;\n; Files and directories\n;\n; Max log size in KB\nmax log size = 1024\n; Locks\nlock directory = /var/samba\n; SMB passwords\nsmb passwd file = /etc/samba/smbpasswd\n;\n; Name browsing\n;\n; Allow the host to participate in master browser\n; elections\nlocal master = yes\n; Force a local browser election upon startup\n; We need that otherwise it takes a long time before the\n; windows network is browsable\npreferred master = yes\n; Do not try to resolve SMB names via DNS\ndns proxy = no \n; Shared resources\n;\n; Home directories\n[homes]\ncomment = Home directories\nbrowseable = no\nwritable = yes\n; Printers\n;[printers]\n; comment = All printers\n; path = /var/lpd\n; browseable = no\n; guest ok = no\n; writable = no\n; printable = yes\n[Slash]\ncomment = Whole filesystem\npath = /\npublic = no\nwriteable = yes\nprintable = no"
  },
  {
    "page": 263,
    "chapter": "Configuring a Virtual Network",
    "text": "www.vmware.com\n264\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 264,
    "chapter": "Configuring Video and Sound",
    "text": "C H A P T E R10\n265\nConfiguring Video and Sound\nThe following sections provide information on configuring the video display and \nsound for VMware Workstation.\n•\nSetting Screen Color Depth in a Virtual Machine on page 266\n• Changing Screen Color Depth on the Host on page 266\n• Changing Screen Color Depth in the Virtual Machine on page 266\n•\nUsing Full Screen Mode on a Linux Host on page 268\n•\nConfiguring Sound on page 269\n• Installing Sound Drivers in Windows 9x and Windows NT Guest Operating \nSystems on page 269"
  },
  {
    "page": 265,
    "chapter": "Configuring Video and Sound",
    "text": "www.vmware.com\n266\nVMware Workstation 4 User’s Manual\nSetting Screen Color Depth \nin a Virtual Machine\nThe number of screen colors available in the guest operating system depends on the \nscreen color setting of the host operating system. \nVirtual machines support\n•\n16-color (VGA) mode\n•\n8-bit pseudocolor \n•\n16 bits per pixel (16 significant bits per pixel)\n•\n32 bits per pixel (24 significant bits per pixel)\nIf the host is in 15-bit color mode, the guest operating system’s color setting controls \noffer 15-bit mode in place of 16-bit mode.\nIf the host is in 24-bit color mode, the guest operating system’s color setting controls \noffer 24-bit mode in place of 32-bit mode.\nIf you run a guest operating system set for a greater number of colors than your host \noperating system is using, you can encounter various problems. In some cases, for \nexample, the colors in the guest are not correct. In others, the guest operating system \nis not able to use a graphical interface. \nIn such a case, you can either increase the number of colors available on the host or \ndecrease the number of colors used in the guest.\nFor best performance, use the same number of colors in the guest and on the host.\nChanging Screen Color Depth on the Host\nIf you choose to change the color settings on your host operating system, you should \nfirst shut down all guest operating systems, power off the virtual machines and close \nVMware Workstation.\nFollow standard procedures for changing the color settings on your host operating \nsystem, then restart VMware Workstation and the virtual machines.\nChanging Screen Color Depth in the Virtual Machine\nIf you choose to change the color settings in the guest operating system, the \napproach depends on the combination of host and guest you are using."
  },
  {
    "page": 266,
    "chapter": "Configuring Video and Sound",
    "text": "C H A P T E R  1 0  Configuring Video and Sound\n267\nFollow the normal process for changing screen colors in your guest operating system. \nIn a Windows guest, the Display Properties control panel offers only those settings \nthat are supported.\nIn a Linux or FreeBSD guest, you must change the color depth before you start the X \nserver or restart the X server after making the changes."
  },
  {
    "page": 267,
    "chapter": "Configuring Video and Sound",
    "text": "www.vmware.com\n268\nVMware Workstation 4 User’s Manual\nUsing Full Screen Mode \non a Linux Host \nWhen you switch to full screen mode, VMware Workstation changes the full screen \ndisplay resolution to better match the resolution set in the guest operating system. \nOn a Linux host, VMware Workstation uses the VidMode or DGA2 extension from the \nXFree86 Project or XiG’s Xfs to match the host resolution to the one requested by the \nguest running in the virtual machine.\nIn a few cases, VMware Workstation may not find the best resolution.\nWhen VMware Workstation switches to full screen mode, it can choose only those \nresolutions that are already configured for the host’s X server. If a virtual machine runs \nat a resolution that does not match a mode listed in host’s X server configuration, then \nVMware Workstation chooses the closest larger mode (and uses black borders) for full \nscreen mode or else simply does not offer full screen mode at all.\nIt is possible to have bad modes configured for the X server on your host. If your host’s \nX configuration was automatically generated, or if you never tested all modes with \nyour current monitor and video card, it is possible that some enabled modes do not \nwork with your monitor. However, the mode-switching code in VMware Workstation \nhas no way of knowing this and a virtual machine that tries to use a resolution with a \nbad mode line can cause your display to fail to display correctly. \nIf this happens, immediately leave full screen mode by pressing Ctrl-Alt, then fix your X \nserver configuration and restart X. However, if the only problem is that the image is off \ncenter or is not quite the right size on the monitor, you can usually correct it using the \ncontrols on your monitor. Note that most modern monitors are capable of storing \nseparate settings for each resolution, so changing the settings for a new mode should \nnot impair the settings for the host resolution."
  },
  {
    "page": 268,
    "chapter": "Configuring Video and Sound",
    "text": "C H A P T E R  1 0  Configuring Video and Sound\n269\nConfiguring Sound \nVMware Workstation provides a sound device compatible with the Sound Blaster \nAudioPCI and supports sound in Windows 95, Windows 98, Windows Me, Windows \nNT, Windows 2000, Windows XP, Windows Server 2003 and Linux guest operating \nsystems. The VMware Workstation sound device is enabled by default.\nSound support includes PCM (pulse code modulation) output and input. For example, \nyou can play .wav files, MP3 audio and Real Media audio. MIDI output from Windows \nguests is supported through the Windows software synthesizer. MIDI input is not \nsupported, and no MIDI support is available for Linux guests.\nWindows 2000, Windows XP and most recent Linux distributions automatically detect \nthe sound device and install appropriate drivers for it. \nInstalling Sound Drivers in Windows 9x and Windows NT Guest \nOperating Systems\nWindows 95, Windows 98, Windows 98SE and Windows NT 4.0 do not have drivers for \nthe Sound Blaster AudioPCI adapter. To use sound in these guest operating systems, \nyou must download the driver from the Creative Labs Web site (www.creative.com) \nand install it in the guest operating system.\nCreative Labs has a number of Web sites serving various regions of the world. The \nadapter name varies, depending on the region, but usually includes AudioPCI."
  },
  {
    "page": 269,
    "chapter": "Configuring Video and Sound",
    "text": "www.vmware.com\n270\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 270,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R11\n271\nConnecting Devices\nThe following sections describe how to use various devices with a virtual machine:\n•\nUsing Parallel Ports on page 273\n• Parallel Ports on page 273\n• Installation in Guest Operating Systems on page 273\n• Configuring a Parallel Port on a Linux Host on page 274\n• Special Notes for the Iomega Zip Drive on page 276\n•\nUsing Serial Ports on page 277\n• Using a Serial Port on the Host Computer on page 277\n• Using a File on the Host Computer on page 278\n• Connecting an Application on the Host to a Virtual Machine on page 279\n• Connecting Two Virtual Machines on page 281\n• Special Configuration Options for Advanced Users on page 285\n• Examples: Debugging over a Virtual Serial Port on page 286"
  },
  {
    "page": 271,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n272\nVMware Workstation 4 User’s Manual\n•\nKeyboard Mapping on a Linux Host on page 289\n• Quick Answers on page 289\n• The Longer Story on page 289\n• V-Scan Code Table on page 292\n•\nUsing USB Devices in a Virtual Machine on page 297\n• Notes on USB Support in Version 4 on page 297\n• Enabling and Disabling the USB Controller on page 297\n• Connecting USB Devices on page 297\n• Using USB with a Windows Host on page 298\n• Replacing USB 2.0 Drivers on a Windows 2000 Host on page 298\n• Installing USB Devices as a Non-Administrator on page 299\n• Using USB with a Linux Host on page 299\n• Who Has Control over a USB Device? on page 299\n• Disconnecting USB Devices from a Virtual Machine on page 301\n• Human Interface Devices on page 301\n•\nConnecting to a Generic SCSI Device on page 302\n• Generic SCSI on a Windows Host Operating System on page 302\n• Generic SCSI on a Linux Host Operating System on page 304"
  },
  {
    "page": 272,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n273\nUsing Parallel Ports\nVMware Workstation supports a partial emulation of bidirectional PS/2-style ports. \nOn Linux hosts, VMware Workstation requires that the parallel port “PC-style \nhardware” option (CONFIG_PARPORT_PC) be built and loaded as a kernel module \n(that is, it must be set to “m”). VMware Workstation is unable to use parallel port \ndevices if CONFIG_PARPORT_PC is built directly (compiled) into the kernel. This \nlimitation exists because CONFIG_PARPORT_PC does not correctly export its symbols. \nParallel Ports \nParallel ports are used by a variety of devices, including printers, scanners, dongles \nand disk drives.\nCurrently, VMware Workstation provides only partial emulation of PS/2 hardware. \nSpecifically, interrupts requested by a device connected to the physical port are not \npassed to the virtual machine. Also, the guest operating system cannot use DMA \n(direct memory access) to move data to or from the port. For this reason, not all \ndevices that attach to the parallel port are guaranteed to work correctly. \nInstallation in Guest Operating Systems \nIf the virtual machine is configured with a parallel port, most guest operating systems \nautomatically detect it at installation time and install the required drivers. Some \noperating systems, including Linux, Windows NT and Windows 2000, automatically \ndetect the ports at boot time. Others, like Windows 95 and Windows 98, do not. \nTo add a parallel port to the virtual machine’s configuration, take these steps with the \nvirtual machine powered off.\n1. Open the virtual machine settings editor.\nVM > Settings\n2. Click Add to start the New Hardware Wizard.\n3. Select Parallel Port, then click Next.\n4. Make the appropriate selection to use a physical parallel port or connect the \nvirtual parallel port to a file. \n5. If you selected Use physical port, choose the port from the drop-down list.\nIf you selected Use output file, enter the path and filename or browse to the \nlocation of the file."
  },
  {
    "page": 273,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n274\nVMware Workstation 4 User’s Manual\nUnder Device status, the default setting is Connect at power on. Clear the \ncheck box if you want to deselect this setting.\nClick Finish.\nIn a Windows 95 or Windows 98 guest, after you add the port, run the guest operating \nsystem’s Add New Hardware Wizard (Start > Settings > Control Panel > Add New \nHardware) and let Windows detect the new device. \nConfiguring a Parallel Port on a Linux Host\nFor the parallel port to work properly in a guest, it must first be configured properly on \nthe host. Most issues involving parallel port functionality are a result of the host \nconfiguration. Check these areas of concern: the version of your Linux kernel, your \ndevice access permissions and the required modules.\nParallel Ports and Linux 2.2.x Kernels\nThe 2.2.x kernels that support parallel ports use the parport, parport_pc and \nvmppuser modules. Be sure that PC Style Hardware (CONFIG_PARPORT_PC) is \nloaded as a module, as mentioned at the beginning of Using Parallel Ports on \npage 273. The vmppuser module is supplied by VMware Workstation to give virtual \nmachines user-level access to the parallel port. \nTo see if these modules are installed and running on your system, run the lsmod \ncommand as the root user. These three modules should be included in the listing of \nrunning modules. You can also look at the /proc/modules file for the same list.\nTo load the proper modules, run this command:\ninsmod –k <modulename>\nIf none of the listed parallel port modules is running, use this command:\ninsmod –k parport_pc\nThis command inserts the three modules needed for a parallel port.\nIf you continue to see problems, it is possible that the lp module is running. If it is, the \nvirtual machine cannot use the parallel port correctly. To remove the lp module, run \nthis command as the root user:\nrmmod lp\nYou should also ensure that the line referring to the lp module in the /etc/\nmodules.conf or /etc/conf.modules file is removed or commented out by \ninserting a hash character (#) at the beginning of the line. The name of the \nconfiguration file depends on the Linux distribution you are using. When you reboot"
  },
  {
    "page": 274,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n275\nthe host after removing this line, the configuration file no longer starts the lp \nmodule.\nTo ensure that the proper modules for the parallel port are loaded at boot time, add \nthis line to the /etc/modules.conf or /etc/conf.modules file:\nalias parport_lowlevel parport_pc\nParallel Ports and Linux 2.4.x Kernels\nBe sure that PC Style Hardware (CONFIG_PARPORT_PC) is loaded as a module as \nmentioned at the beginning of Using Parallel Ports on page 273. If you are using a \n2.4.x kernel, the modules that provide parallel port functionality are parport, \nparport_pc and ppdev. \nTo see if these modules are installed and running on your system, run the lsmod \ncommand as the root user. These three modules should be included in the listing of \nrunning modules. You can also look at the /proc/modules file for the same list.\nTo load the proper modules, run this command:\ninsmod –k <modulename>\nIf none of the listed parallel port modules is running, use this command:\ninsmod –k parport_pc\nThis command inserts the three modules needed for a parallel port.\nIf you continue to see problems, it is possible that the lp module is running. If it is, the \nvirtual machine cannot use the parallel port correctly. To remove the lp module, run \nthis command as the root user:\nrmmod lp\nYou should also ensure that the line referring to the lp module in the /etc/\nmodules.conf or /etc/conf.modules file is removed or commented out by \ninserting a hash character (#) at the beginning of the line. The name of the \nconfiguration file depends on the Linux distribution you are using. When you reboot \nthe host after removing this line, the configuration file no longer starts the lp \nmodule.\nTo ensure that the proper modules for the parallel port are loaded at boot time, add \nthis line to the /etc/modules.conf or /etc/conf.modules file:\nalias parport_lowlevel parport_pc\nLinux kernels in the 2.4.x series also use a special arbitrator that allows access to the \nparallel port hardware. If the parallel port is in use by the host, the guest cannot use it. \nIf a virtual machine is using the parallel port, the host and any users accessing the host"
  },
  {
    "page": 275,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n276\nVMware Workstation 4 User’s Manual\nare not given access to the device. VMware Workstation puts a lock on the device, and \nthis lock restricts access so only the virtual machine can use the port. \nYou can choose VM > Removable Devices to disconnect the parallel port from the \nvirtual machine and reconnect it.\nDevice Permissions\nSome Linux distributions by default do not grant the virtual machine access to the lp \nand parport devices. In most of these cases, the owner of the device is root and \nthe associated group is lp. To allow the VMware user to access the device, add the \nuser to the associated group. To view the owner and group of the device, run this \ncommand:\nls –la /dev/parport0\nThe third and fourth columns of the output show the owner and group, respectively.\nTo add the user to the device group, edit the /etc/group file. On the line starting \nwith lp, which defines the lp group, add the VMware Workstation user’s user name. \nYou must make this change as the root user. The following line provides an example \nfor a user whose user name is userj.\nlp::7:daemon,lp,userj\nThe next time the user logs on to the host, the changes take effect.\nSpecial Notes for the Iomega Zip Drive \nOn Windows 95 or Windows 98, use of older drivers for the Iomega Zip drive may \ncause the guest operating system to lock up intermittently at boot time or during \ninstallation of the guest operating system. The newest Iomega drivers work reliably in \nour tests. They are available atwww.iomega.com/software/index.html."
  },
  {
    "page": 276,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n277\nUsing Serial Ports\nA VMware Workstation virtual machine can use up to four virtual serial ports. The \nvirtual serial ports can be configured in several ways.\n•\nYou can connect a virtual serial port to a physical serial port on the host \ncomputer.\n•\nYou can connect a virtual serial port to a file on the host computer.\n•\nYou can make a direct connection between two virtual machines or between a \nvirtual machine and an application running on the host computer.\nYou can also select whether to connect the virtual serial port when you power on the \nvirtual machine.\nUsing a Serial Port on the Host Computer\nYou can set up the virtual serial port in a virtual machine to use a physical serial port \non the host computer. This is useful, for example, if you want to use an external \nmodem or a hand-held device in your virtual machine.\nTo install a virtual serial port that connects to a physical serial port on the host \ncomputer, take the following steps:\n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next."
  },
  {
    "page": 277,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n278\nVMware Workstation 4 User’s Manual\n4. Select Use physical serial port on the host, then click Next.\n5. Choose the port on the host computer that you want to use for this serial \nconnection. By default, the device status setting is Connect at power on. You \nmay deselect this setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that \ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n6. Click Finish, then click OK to close the virtual machine settings editor.\n7. Power on the virtual machine. \nUsing a File on the Host Computer\nYou can set up the virtual serial port in a virtual machine to send its output to a file on \nthe host computer. This is useful, for example, if you want to capture the data a \nprogram running in the virtual machine sends to the virtual serial port or if you need a \nquick way to transfer a file from the guest to the host.\nTo install a virtual serial port that connects to a file on the host computer, take the \nfollowing steps:\n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard."
  },
  {
    "page": 278,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n279\n3. Select Serial Port, then click Next.\n4. Select Output to file, then click Next.\n5. Browse to the file on the host computer that you want to use to store the output \nof the virtual serial port. By default, the device status setting is Connect at power \non. You may deselect this setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that \ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n6. Click Finish, then click OK to close the virtual machine settings editor.\n7. Power on the virtual machine. \nConnecting an Application on the Host to a Virtual Machine \nYou can set up the virtual serial port in a virtual machine to connect to an application \non the host computer. This is useful, for example, if you want to use an application on \nthe host to capture debugging information sent from the virtual machine’s serial port."
  },
  {
    "page": 279,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n280\nVMware Workstation 4 User’s Manual\nTo install a direct serial connection between an application on the host and a virtual \nmachine, take the following steps:\nWindows Host\n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next.\n4. Select Output to named pipe, then click Next. \n5. Use the default pipe name, or enter another pipe name of your choice. The pipe \nname must follow the form \\\\.\\pipe\\<namedpipe> — that is, it must \nbegin with \\\\.\\pipe\\.\n6. Select This end is the server or This end is the client. In general, select This end \nis the server if you plan to start this end of the connection first.\n7. Select The other end is an application.\n8. By default, the device status setting is Connect at power on. You may deselect \nthis setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that"
  },
  {
    "page": 280,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n281\ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n9. Click Finish, then click OK to close the virtual machine settings editor.\n10. On your host computer, configure the application that communicates with the \nvirtual machine to use the same pipe name.\n11. Power on the virtual machine. \nLinux Host\n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next.\n4. Select Output to named pipe, then click Next. \n5. In the Path field, enter /tmp/<socket> or another Unix socket name of your \nchoice. \n6. Select This end is the server or This end is the client. In general, select This end \nis the server if you plan to start this end of the connection first.\n7. Select The other end is an application.\n8. By default, the device status setting is Connect at power on. You may deselect \nthis setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that \ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n9. Click Finish. \n10. Click OK to save your configuration and close the virtual machine settings editor. \n11. On your host computer, configure the application that communicates with the \nvirtual machine to use the same Unix socket name. \n12. Power on the virtual machine. \nConnecting Two Virtual Machines \nYou can set up the virtual serial ports in two virtual machines to connect to each \nother. This is useful, for example, if you want to use an application in one virtual \nmachine to capture debugging information sent from the other virtual machine’s \nserial port."
  },
  {
    "page": 281,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n282\nVMware Workstation 4 User’s Manual\nTo install a direct serial connection between two virtual machines (a server and a \nclient), take the following steps:\nWindows Host\nIn the server virtual machine\n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next.\n4. Select Output to named pipe, then click Next. \n5. Use the default pipe name, or enter another pipe name of your choice. The pipe \nname must follow the form \\\\.\\pipe\\<namedpipe> — that is, it must \nbegin with \\\\.\\pipe\\.\n6. Select This end is the server. \n7. Select The other end is a virtual machine.\n8. By default, the device status setting is Connect at power on. You may deselect \nthis setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that"
  },
  {
    "page": 282,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n283\ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n9. Click Finish, then click OK to close the virtual machine settings editor.\nIn the client virtual machine \n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next.\n4. Select Use named pipe. \n5. Use the default name, or enter another pipe name of your choice. The pipe \nname must follow the form \\\\.\\pipe\\<namedpipe> — that is, it must \nbegin with \\\\.\\pipe\\. The pipe name must be the same on both server and \nclient.\n6. Select This end is the client.\n7. Select The other end is a virtual machine.\n8. By default, the device status setting is Connect at power on. You may deselect \nthis setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that \ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n9. Click Finish, then click OK to close the virtual machine settings editor.\nLinux Host\nIn the server virtual machine\n1. Open the virtual machine settings editor (VM > Settings)."
  },
  {
    "page": 283,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n284\nVMware Workstation 4 User’s Manual\n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next.\n4. Select Output to named pipe, then click Next. \n5. In the Path field, enter /tmp/<socket> or another Unix socket name of your \nchoice. \n6. Select This end is the server.\n7. Select The other end is a virtual machine.\n8. By default, the device status setting is Connect at power on. You may deselect \nthis setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that \ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n9. Click Finish, then click OK to save your configuration and close the virtual \nmachine settings editor. \nIn the client virtual machine \n1. Open the virtual machine settings editor (VM > Settings). \n2. Click Add to start the Add Hardware Wizard.\n3. Select Serial Port, then click Next.\n4. Select Output to named pipe, then click Next. \n5. In the Path field, enter /tmp/<socket> or another Unix socket name of your \nchoice. The pipe name must be the same on both server and client.\n6. Select This end is the client.\n7. Select The other end is a virtual machine.\n8. By default, the device status setting is Connect at power on. You may deselect \nthis setting if you wish.\nClick Advanced if you want to configure this serial port to use polled mode. This \noption is of interest primarily to developers who are using debugging tools that \ncommunicate over a serial connection. For more information, see Special \nConfiguration Options for Advanced Users on page 285.\n9. Click Finish, then click OK to save your configuration and close the virtual \nmachine settings editor."
  },
  {
    "page": 284,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n285\nSpecial Configuration Options for Advanced Users\nTwo special configuration options are available for serial connections between a \nvirtual machine and the host or between two virtual machines. These options are of \ninterest primarily to developers who are using debugging tools that communicate \nover a serial connection. \nImproving CPU Performance when Debugging\nThe first option must be set in the virtual machine settings editor. This option is useful \nwhen the serial port is being used by the guest operating system in polled mode as \nopposed to interrupt mode. Polled mode causes the virtual machine to consume a \ndisproportionate share of CPU time. This makes the host and other guests run \nsluggishly.\nTo restore performance for applications on the host, in the virtual machine settings \neditor, select the virtual serial port, and check the Yield CPU on poll check box. This \nconfiguration option forces the affected virtual machine to yield processor time if the \nonly task it is trying to do is poll the virtual serial port.\nChanging the Input Speed of the Serial Connection\nTo use the second option, power off the virtual machine and close the VMware \nWorkstation window, then use a text editor to add the following line to your virtual \nmachine’s configuration file:\nserial<n>.pipe.charTimePercent = <x> \nThis option is useful if you want to squeeze every possible bit of speed from your serial \nconnection over a pipe to the virtual machine. In principle, there is no limit on the \noutput speed — the speed at which the virtual machine sends data through the"
  },
  {
    "page": 285,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n286\nVMware Workstation 4 User’s Manual\nvirtual serial port. In practice, the output speed depends on how fast the application \nat the other end of the pipe reads data inbound to it.\n<n> is the number of the serial port, starting from 0. So the first serial port is \nserial0. \n<x> is any positive integer. It specifies the time taken to transmit a character, \nexpressed as a percentage of the default speed set for the serial port in the guest \noperating system. For example, a setting of 200 forces the port to take twice as long \nper character, or send data at half the default speed. A setting of 50 forces the port to \ntake only half as long per character, or send data at twice the default speed.\nYou should first use the guest operating system to configure the serial port for the \nhighest setting supported by the application you are running in the virtual machine.\nOnce the serial port speed is set appropriately in the guest operating system, \nexperiment with this setting. Start with a value of 100 and gradually decrease it until \nyou find the highest speed at which your connection works reliably.\nExamples: Debugging over a Virtual Serial Port\nYou can use Debugging Tools for Windows (WinDbg) or Kernel Debugger (KD) to \ndebug kernel code in a virtual machine over a virtual serial port. You can download \nDebugging Tools for Windows from the Windows DDK Web site \natwww.microsoft.com/whdc/devtools/debugging/default.mspx.\nThe following two examples illustrate how to use a virtual serial port to debug kernel \ncode in a virtual machine:\n•\nWith the debugging application on the VMware Workstation host (Windows \nhosts only)\n•\nWith the debugging application in another virtual machine on the same \nVMware Workstation host (useful on a Linux host and can also be done on a \nWindows host)\nUsing either of these methods lets you debug kernel code on one system, without the \nneed for two physical computers, a modem or serial cable. \nDebugging an Application in a Virtual Machine from the Windows Host\nIn this example, you have kernel code to debug in a virtual machine (called the target \nvirtual machine) and are running WinDbg or KD on your Windows host."
  },
  {
    "page": 286,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n287\nTo prepare the target virtual machine, follow the steps for a Windows host in \nConnecting an Application on the Host to a Virtual Machine on page 279. Make sure \nyou configure the virtual machine’s virtual serial port as follows:\n•\nSelect This end is the server\n•\nUnder I/O Mode, select the Yield CPU on poll check box, as the kernel in the \ntarget virtual machine uses the virtual serial port in polled mode, not interrupt \nmode\nTo prepare the host, make sure you have a recent version of Debugging Tools for \nWindows — one that supports debugging over a pipe. You need version 4.0.18.0 or \nhigher.\nWhen you are ready to begin, complete the following steps:\n1. Power on the virtual machine.\n2. Check to make sure the serial port is connected. Choose choose VM > \nRemovable Devices. On that menu, serial<n> should be reported as \n\\\\.\\pipe\\<namedpipe> (on Windows hosts) or /tmp/<socket> (on Linux hosts). \nIf the serial port is not connected, choose the virtual serial port, then Connect.\n3. On the host, open a Command Prompt window and do one of the following:\n• If you are using WinDbg, type the following:\nwindbg -k com:port=\\\\.\\pipe\\<namedpipe>,pipe\n• If you are using KD, type the following:\nkd -k com:port=\\\\.\\pipe\\<namedpipe>,pipe\nThen press Enter to start debugging.\nDebugging an Application in a Virtual Machine from another Virtual Machine\nIn this situation, you have kernel code to debug in a virtual machine (called the target \nvirtual machine) and are running Debugging Tools for Windows (WinDbg) or Kernel \nDebugger (KD) in another virtual machine (called the debugger virtual machine) on \nthe same host. \nThis is useful if you are running VMware Workstation on a Linux host. The debugger \nvirtual machine must be running Debugging Tools for Windows (WinDbg) or Kernel \nDebugger (KD) in a Windows guest operating system.\nTo prepare the target virtual machine, follow the steps for the server virtual machine \nfor the appropriate host in Connecting Two Virtual Machines on page 281. Make sure \nwhen you configure the target virtual machine’s virtual serial port that you select the"
  },
  {
    "page": 287,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n288\nVMware Workstation 4 User’s Manual\nYield CPU on poll check box, as the kernel in the target virtual machine uses the \nvirtual serial port in polled mode, not interrupt mode.\nTo prepare the debugger virtual machine, make sure you have downloaded \nDebugging Tools for Windows. Then follow the steps for the client virtual machine in \nConnecting Two Virtual Machines on page 281. \nWhen you are ready to begin, complete the following steps:\n1. Power on both virtual machines.\n2. Check to make sure the serial port is connected. Choose choose VM > \nRemovable Devices. If the serial port is not connected, choose the virtual serial \nport, then Connect.\n3. In the debugger virtual machine, start debugging with WinDbg or KD normally."
  },
  {
    "page": 288,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n289\nKeyboard Mapping on a Linux Host\nThis section addresses the following issues and provides additional details on \nkeyboard mapping in Linux:\n•\nMy (language-specific) keyboard is not supported by VMware Workstation. \n•\nSome of the keys on my keyboard don’t work right in the virtual machine. \n•\nMy keyboard works fine when I run a virtual machine locally, but not when I run \nthe same virtual machine with a remote X server. \nQuick Answers\nIf your keyboard works correctly with a local X server, and you just want the same \nbehavior with a remote X server (which is also an XFree86 server running on a PC), just \npower off the virtual machine and close the VMware Workstation window, then add \nthe line\n xkeymap.usekeycodeMapIfXFree86 = true\nto the virtual machine configuration file or to ~/.vmware/config. Make this \nchange on the host machine, where you run the virtual machine, not on the machine \nwith the remote X server. \nIf you are using an XFree86-based server that VMware Workstation does not recognize \nas an XFree86 server, use this instead: \n xkeymap.usekeycodeMap = true \nIf you are using an XFree86 server running locally, and the keyboard does not work \ncorrectly, please report the problem to the VMware technical support department.\nThe Longer Story \nUnfortunately, keyboard support for the PC (virtual or otherwise) is a complex affair. To \ndo it justice, we have to start with some background information — greatly simplified.\nPressing a key on the PC keyboard generates a scan code based roughly on the \nposition of the key. For example, the Z key on a German keyboard generates the same \ncode as the Y key on an English keyboard, because they are in the same position on \nthe keyboard. Most keys have one-byte scan codes, but some keys have two-byte \nscan codes with prefix 0xe0.\nInternally, VMware Workstation uses a simplified version of the PC scan code that is a \nsingle nine-bit numeric value, called a v-scan code. A v-scan code is written as a three-\ndigit hexadecimal number. The first digit is 0 or 1. For example, the left-hand Ctrl key"
  },
  {
    "page": 289,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n290\nVMware Workstation 4 User’s Manual\nhas a one-byte scan code (0x1d); its v-scan code is 0x01d. The right-hand Ctrl key scan \ncode is two bytes (0xe0, 0x1d); its v-scan code is 0x11d. \nAn X server uses a two-level encoding of keys. An X key code is a one-byte value. The \nassignment of key codes to keys depends on the X server implementation and the \nphysical keyboard. As a result, an X application normally cannot use key codes directly. \nInstead, the key codes are mapped into keysyms that have names like space, escape, x \nand 2. The mapping can be controlled by an X application via the function \nXChangeKeyboardMapping() or by the program xmodmap. To explore \nkeyboard mappings, you can use xev, which shows the key codes and keysyms for \nkeys typed into its window. \nTo recap, a key code corresponds roughly to a physical key, while a keysym \ncorresponds to the symbol on the key top. For example, with an XFree86 server \nrunning on a PC, the Z key on the German keyboard has the same key code as the Y \nkey on an English keyboard. The German Z keysym, however, is the same as the \nEnglish Z keysym, and different from the English Y keysym.\nFor an XFree86 server on a PC, there is a one-to-one mapping from X key codes to PC \nscan codes (or v-scan codes, which is what VMware Workstation really uses). VMware \nWorkstation takes advantage of this fact. When it is using an XFree86 server on the \nlocal host, it uses the built-in mapping from X key codes to v-scan codes. This \nmapping is keyboard independent and should be correct for most, if not all, \nlanguages. In other cases (not an XFree86 server or not a local server), VMware \nWorkstation must map keysyms to v-scan codes, using a set of keyboard-specific \ntables.\nKey code mapping is simple, automatic and foolproof. (Keysym mapping is more \ncomplex and described later.) However, because the program cannot tell whether a \nremote server is running on a PC or on some other kind of computer, it errs on the safe \nside and uses key code mapping only with local X servers. This is often too \nconservative and has undesirable effects. Luckily, this and other behavior related to \nkey code-mapping can be controlled by powering off the virtual machine and closing \nthe VMware Workstation window, then using a text editor to add configuration \nsettings to the virtual machine’s configuration file.\n•\nxkeymap.usekeycodeMapIfXFree86 = true\nUse key code mapping if you are using an XFree86 server, even if it is remote. \n•\nxkeymap.usekeycodeMap = true\nAlways use key code mapping regardless of server type. \n•\nxkeymap.nokeycodeMap = true\nNever use key code mapping."
  },
  {
    "page": 290,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n291\n•\nxkeymap.keycode.<code> = <v-scan code>\nIf using key code mapping, map key code <code> to <v-scan code>. In \nthis example, <code> must be a decimal number and <v-scan code> \nshould be a C-syntax hexadecimal number (for example, 0x001). \nThe easiest way to find the X key code for a key is to run xev or xmodmap -pk. Most \nof the v-scan codes are covered in V-Scan Code Table on page 292. The keysym \nmapping tables described in this section are also helpful. \nUse this feature to make small modifications to the mapping. For example, to swap \nleft Ctrl and Caps Lock, use the following lines:\nxkeymap.keycode.64 = 0x01d # X Caps_Lock -> VM left ctrl\nxkeymap.keycode.37 = 0x03a # X Control_L -> VM caps lock \nThese configuration lines can be added to the individual virtual machine \nconfiguration, to your personal VMware Workstation configuration (~/.vmware/\nconfig), or even to the host-wide (/etc/vmware/config) or installation-wide \n(usually /usr/local/lib/vmware/config) configuration. \nWhen key code mapping cannot be used (or is disabled), VMware Workstation maps \nkeysyms to v-scan codes. It does this using one of the tables in the xkeymap \ndirectory in the VMware Workstation installation (usually /usr/local/lib/\nvmware).\nWhich table you should use depends on the keyboard layout. The normal distribution \nincludes tables for PC keyboards for the United States and a number of European \ncountries and languages. And for most of these, there are both the 101-key (or 102-\nkey) and the 104-key (or 105-key) variants. \nVMware Workstation automatically determines which table to use by examining the \ncurrent X keymap. However, its decision-making process may sometimes fail. In \naddition, each mapping is fixed and may not be completely right for any given \nkeyboard and X key code-to-keysym mapping. For example, a user may have \nswapped Ctrl and Caps Lock using xmodmap. This means the keys are swapped in the \nvirtual machine when using a remote server (keysym mapping) but unswapped when \nusing a local server (key code mapping). \nTherefore, keysym mapping is necessarily imperfect. To make up for this defect, you \ncan change most of the behavior using configuration settings: \n•\nxkeymap.language = <keyboard-type>\nUse this if VMware Workstation has a table in xkeymap for your keyboard but \ncan’t detect it. <keyboard-type> must be one of the tables in the xkeymap"
  },
  {
    "page": 291,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n292\nVMware Workstation 4 User’s Manual\ndirectory. (See above for location.) However, the failure to detect the keyboard \nprobably means the table isn’t completely correct for you. \n•\nxkeymap.keysym.<sym> = <v-scan code>\nIf you use keysym mapping, map keysym <sym> to <v-scan code>. When \nyou do, <sym> must be an X keysym name and <v-scan code> should be a \nC-syntax hexadecimal number (for example, 0x001). \nThe easiest way to find the keysym name for a key is to run xev or \nxmodmap -pk. \nThe X header file /usr/X11R6/include/X11/keysymdef.h has a \ncomplete list of keysyms. (The name of a keysym is the same as its C constant \nwithout the XK_ prefix.) Most v-scan codes are in V-Scan Code Table on \npage 292.\nThe xkeymap tables themselves are also helpful. Use them to fix small errors in \nan existing mapping. \n•\nxkeymap.fileName = <file-path>\nUse the keysym mapping table in <file-path>. A table is a sequence of \nconfiguration lines of the form\n<sym> = <v-scan code>\nwhere <sym> is an X keysym name, and <v-scan code> is a C-syntax \nhexadecimal number (for example, 0x001). (See the explanation of \nxkeymap.keysym above for tips on finding the keysyms and v-scan codes for \nyour keyboard.) \nCompiling a complete keysym mapping is difficult. It is best to start with an \nexisting table and make small changes.\nV-Scan Code Table\nThese are the v-scan codes for the 104-key U.S. keyboard:\nSymbol \n Shifted symbol \n Location \n V-scan code \nEsc\n0x001\n1\n!\n0x002\n2\n@\n0x003\n3\n#\n0x004\n4\n$\n0x005\n5\n%\n0x006\n6\n^\n0x007"
  },
  {
    "page": 292,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n293\n7\n&\n0x008\n8\n*\n0x009\n9\n(\n0x00a\n0\n)\n0x00b\n-\n_\n0x00c\n=\n+\n0x00d\nBackspace\n0x00e\nTab\n0x00f\nQ\n0x010\nW\n0x011\nE\n0x012\nR\n0x013\nT\n0x014\nY\n0x015\nU\n0x016\nI\n0x017\nO\n0x018\nP\n0x019\n[\n{\n0x01a\n]\n}\n0x01b\nEnter\n0x01c\nCtrl\nleft\n0x01d\nA\n0x01e\nS\n0x01f\nD\n0x020\nF\n0x021\nG\n0x022\nH\n0x023\nJ\n0x024\nK\n0x025\nL\n0x026\nSymbol \n Shifted symbol \n Location \n V-scan code"
  },
  {
    "page": 293,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n294\nVMware Workstation 4 User’s Manual\n;\n0x027\n'\n0x028\n`\n0x029\nShift\nleft\n0x02a\n\\\n|\n0x02b\nZ\n0x02c\nX\n0x02d\nC\n0x02e\nV\n0x02f\nB\n0x030\nN\n0x031\nM\n0x032\n,\n<\n0x033\n.\n>\n0x034\n/\n?\n0x035\nShift\nright\n0x036\n*\nnumeric pad\n0x037\nAlt\nleft\n0x038\nSpace bar\n0x039\nCaps Lock\n0x03a\nF1\n0x03b\nF2\n0x03c\nF3\n0x03d\nF4\n0x03e\nF5\n0x03f\nF6\n0x040\nF7\n0x041\nF8\n0x042\nF9\n0x043\nF10\n0x044\nNum Lock\nnumeric pad\n0x045\nSymbol \n Shifted symbol \n Location \n V-scan code"
  },
  {
    "page": 294,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n295\nScroll Lock\n0x046\nHome\n7\nnumeric pad\n0x047\nUp arrow\n8\nnumeric pad\n0x048\nPgUp\n9\nnumeric pad\n0x049\n-\nnumeric pad\n0x04a\nLeft arrow\n4\nnumeric pad\n0x04b\n5\nnumeric pad\n0x04c\nRight arrow\n6\nnumeric pad\n0x04d\n+\nnumeric pad\n0x04e\nEnd\n1\nnumeric pad\n0x04f\nDown arrow\n2\nnumeric pad\n0x050\nPgDn\n3\nnumeric pad\n0x051\nIns\n0\nnumeric pad\n0x052\nDel\nnumeric pad\n0x053\nF11\n0x057\nF12\n0x058\nBreak\nPause\n0x100\nEnter\nnumeric pad\n0x11c\nCtrl\nright\n0x11d\n/\nnumeric pad\n0x135\nSysRq\nPrint Scrn\n0x137\nAlt\nright\n0x138\nHome\nfunction pad\n0x147\nUp arrow\nfunction pad\n0x148\nPage Up\nfunction pad\n0x149\nLeft arrow\nfunction pad\n0x14b\nRight arrow\nfunction pad\n0x14d\nEnd\nfunction pad\n0x14f\nDown arrow\nfunction pad\n0x150\nPage Down\nfunction pad\n0x151\nInsert\nfunction pad\n0x152\nSymbol \n Shifted symbol \n Location \n V-scan code"
  },
  {
    "page": 295,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n296\nVMware Workstation 4 User’s Manual\nThe 84-key keyboard has a Sys Req key on the numeric pad: \nKeyboards outside the U.S. usually have an extra key (often < > or < > | ) next to the \nleft shift key: \nDelete\nfunction pad\n0x153\nWindows\nleft\n0x15b\nWindows\nright\n0x15c\nMenu\n0x15d\nSymbol \nShifted symbol\nLocation\nV-scan code\nSys Req\nnumeric pad\n0x054\nSymbol\nShifted symbol\nLocation\nV-scan code\n<\n>\n0x056\nSymbol \n Shifted symbol \n Location \n V-scan code"
  },
  {
    "page": 296,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n297\nUsing USB Devices in a Virtual Machine\nVMware Workstation 4 provides a two-port USB 1.1 controller. You can use up to two \nUSB devices in your virtual machine if both your host operating system and your \nguest operating system support USB. If your host computer supports USB 2.0 devices, \nyou can use those devices in the virtual machine.\nNote: Windows NT and Linux kernels older than 2.2.17 do not support USB.\nAlthough your host operating system must support USB, you do not need to install \ndevice-specific drivers for your USB devices in the host operating system if you want \nto use those devices only in the virtual machine. \nOn a Windows 2000 host computer with USB 2.0 support, be sure you are using the \nMicrosoft USB 2.0 driver for the USB controller. Third-party USB 2.0 drivers, such as \nthose provided by some motherboard manufacturers, are not supported. For notes on \nreplacing the third-party drivers, see Replacing USB 2.0 Drivers on a Windows 2000 \nHost on page 298.\nNotes on USB Support in Version 4\nWe have tested a variety of USB devices with this release. In general, if the guest \noperating system has appropriate drivers, you should be able to use PDAs, printers, \nstorage (disk) devices, scanners, MP3 players, digital cameras and memory card \nreaders.\nModems and certain streaming data devices, such as speakers and Web cams, do not \nwork properly. \nEnabling and Disabling the USB Controller\nThe virtual machine’s USB ports are enabled by default. If you will not be using USB \ndevices in a virtual machine, you can disable its USB controller using the virtual \nmachine settings editor. \nConnecting USB Devices\nWhen a virtual machine is running, its window is the active window and a USB device \nis plugged into the host computer, the device automatically connects to the guest \ninstead of the host. This autoconnect feature can be disabled in the USB Controller \npanel of the virtual machine settings editor (VM > Settings). If all of the virtual \nmachine’s USB ports are already occupied when it is trying to connect automatically \nto a new device, a dialog box gives you a choice: you can either disconnect one of the \nexisting USB devices to free its port or ignore the new device, allowing the device to \nconnect to the host."
  },
  {
    "page": 297,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n298\nVMware Workstation 4 User’s Manual\nChoose VM > Removable Devices to connect specific USB devices to your virtual \nmachine. You can connect up to two USB devices at a time. If the physical USB devices \nare connected to the host computer through a hub, the virtual machine sees only the \nUSB devices, not the hub.\nThere is a menu item for each of the USB ports. Move the mouse over one of these \nitems to see a cascading menu of devices that are plugged into your host computer \nand available for use. To connect a device to the virtual machine, click its name.\nIf a device is already connected to that port, click the name of a new device to release \nthe first device and connect the new one.\nTo release a connected device, click None on the cascading menu for the port to \nwhich it is connected.\nIf you physically plug a new device into the host computer and the autoconnect \nfeature does not connect it to a virtual machine, the device is initially connected to \nthe host. Its name is also added to the VM > Removable Devices menu so you can \nconnect it to the virtual machine manually.\nUsing USB with a Windows Host\nWindows 2000, Windows XP and Windows Server 2003 hosts: When a particular \nUSB device is connected to a virtual machine for the first time, the host detects it as a \nnew device named VMware USB Device and installs the appropriate VMware driver.\nWindows XP and Windows Server 2003 hosts: User confirmation is required in the \nFound New Hardware Wizard. Select the default action — Install the software \nautomatically. Once the software is installed, the guest operating system detects the \nUSB device and searches for a suitable driver. \nWhen you are synchronizing a PDA, such as a Palm handheld or Handspring Visor, to a \nvirtual machine for the first time, the total time required to load the VMware USB \ndevice driver in the host and the PDA driver in the guest may exceed the device’s \nconnection timeout value. This causes the device to disconnect itself from the \ncomputer before the guest can synchronize with it. If this occurs, let the guest finish \ninstalling the PDA driver, dismiss any connection error warnings, then try \nsynchronizing the PDA again. The second attempt should succeed.\nReplacing USB 2.0 Drivers on a Windows 2000 Host\nTo use VMware Workstation 4 on a Windows 2000 host that has USB 2.0 ports, you \nmust use the Microsoft USB 2.0 drivers for the USB controller in the host operating \nsystem. If your host operating system is using a third-party driver — a driver supplied \nby your motherboard vendor, for example — you must replace it."
  },
  {
    "page": 298,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n299\nTake the following steps to check the provider of your driver:\n1. Go to the Device Manager. Right-click My Computer, choose Properties, click \nthe Hardware tab, then click Device Manager.\n2. Expand the listing for Universal Serial Bus controllers.\n3. Right-click the listing for the controller and choose Properties.\n4. Click the Driver tab. If the driver provider shown on that page is Microsoft, you \nhave the correct driver already.\nIf the driver provider is not Microsoft, download the latest USB driver for your host \noperating system from the Microsoft Web site and follow the Microsoft instructions to \ninstall it. Details are available in Microsoft knowledge base article 319973.\nInstalling USB Devices as a Non-Administrator\nAny user on a Windows host can connect USB devices for use in a virtual machine. You \nno longer need administrative privileges on the host to connect a USB device to a \nvirtual machine. \nThis functionality is not enabled by default. To enable it, you must use a text editor \nsuch as Notepad to add one line to the global configuration file. This file is\nC:\\Documents and Settings\\<username>\\Application \nData\\VMware\\config.ini\nAdd the following line anywhere in the file:\nusb.EnablePnpMgr = TRUE \nNote: A user with administrative privileges on the host operating system must install \na USB device on the host before it can be connected by users who do not have \nadministrative privileges.\nUsing USB with a Linux Host\nOn Linux hosts, VMware Workstation uses the USB device file system to connect to \nUSB devices. In most Linux systems that support USB, the USB device file system is at \n/proc/bus/usb. If your host operating system uses a different path to the USB \ndevice file system, you can change it in the virtual machine settings editor (VM > \nSettings > USB). Enter the correct path in the Path to usbdevfs field.\nWho Has Control over a USB Device?\nOnly one computer — host or guest — can have control of a USB device at any one \ntime."
  },
  {
    "page": 299,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n300\nVMware Workstation 4 User’s Manual\nDevice Control on a Windows Host\nWhen you connect a device to a virtual machine, it is “unplugged” from the host or \nfrom the virtual machine that previously had control of the device. When you \ndisconnect a device from a virtual machine, it is “plugged in” to the host.\nCaution: On Windows 2000, Windows XP and Windows Server 2003 hosts, you need \nto take a special step to disconnect USB network and storage devices from the host. \nThere is a system tray icon called Eject Hardware on Windows 2000 and Safely Remove \nHardware on Windows XP and Windows Server 2003. Use this icon to disconnect the \ndevice from the host before connecting it to a virtual machine.\nNote: On Windows 2000, Windows XP and Windows Server 2003 hosts, when you \nconnect a USB network or storage device in a virtual machine, you may see a message \non your host that says the device can be removed safely. This is normal behavior, and \nyou can simply dismiss the dialog box. However, do not remove the device from your \nphysical computer. VMware Workstation automatically transfers control of the device \nto the virtual machine.\nUnder some circumstances, if a USB storage device is in use on the host (for example, \none or more files stored on the device are open on the host), an error appears in the \nvirtual machine when you try to connect to the device. You must let the host \ncomplete its operation or close any application connected to the device on the host, \nthen connect to the device in the virtual machine again.\nDevice Control on a Linux Host\nOn Linux hosts, guest operating systems can use devices that are not already in use by \nthe host — that is, devices that are not claimed by a host operating system driver.\nIf your device is in use by the host and you try to connect it to the guest using the VM \n> Removable Devices menu, a dialog box appears, informing you that there is a \nproblem connecting to the device.\nTo disconnect the device from the host, you must unload the device driver. You can \nunload the driver manually as root (su) using the rmmod command. Or, if the driver \nwas automatically loaded by hotplug, you can disable it in the hotplug \nconfiguration files in the /etc/hotplug directory. See your Linux distribution’s \ndocumentation for details on editing these configuration files.\nA related issue sometimes affects devices that rely on automatic connection (as PDAs \noften do).\nIf you have successfully used autoconnection to connect the device to your virtual \nmachine, then experience problems with the connection to the device, take the \nfollowing steps:"
  },
  {
    "page": 300,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n301\n1. Disconnect and reconnect the device. You can either unplug it physically, then \nplug it back in or use the VM > Removable Devices menu to disconnect it and \nreconnect it.\n2. If you see a dialog box warning that the device is in use, disable it in the \nhotplug configuration files in the /etc/hotplug directory.\nDisconnecting USB Devices from a Virtual Machine\nBefore unplugging a USB device or using the VM > Removable Devices menu to \ndisconnect it from a virtual machine, be sure it is in a safe state. \nYou should follow the procedures the device manufacturer specifies for unplugging \nthe device from a physical computer. This is true whether you are physically \nunplugging it, moving it from host to virtual machine, moving it between virtual \nmachines or moving it from virtual machine to host. \nThis is particularly important with data storage devices (a Zip drive, for example). If you \nmove a data storage device too soon after saving a file and the operating system has \nnot actually written the data to the disk, you can lose data.\nHuman Interface Devices\nUSB human interface devices, such as the keyboard and mouse, are not handled \nthough the virtual machine’s USB controller. Instead, they appear in the virtual \nmachine as a standard PS/2 keyboard and mouse, even though they are plugged into \nUSB ports on the host."
  },
  {
    "page": 301,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n302\nVMware Workstation 4 User’s Manual\nConnecting to a Generic SCSI Device\nGeneric SCSI lets a virtual machine run any SCSI device that is supported by the guest \noperating system in the virtual machine. Generic SCSI gives the guest operating \nsystem direct access to SCSI devices connected to the host, such as scanners and tape \ndrives. \nGeneric SCSI on a Windows Host Operating System \nUsing the SCSI Generic driver in Windows, VMware Workstation allows your guest \noperating system to operate generic SCSI devices — including scanners, tape drives \nand other data storage devices — in a virtual machine. \nNote: In order to access host SCSI devices as Generic SCSI devices from within a \nvirtual machine, you must run VMware Workstation as a user with administrator \naccess.\nDevice Support\nIn theory, generic SCSI is completely device independent, but VMware has discovered \nit is sensitive to the guest operating system, device class and specific SCSI hardware. \nWe encourage you to try any SCSI hardware you want to use and report problems to \nVMware technical support. \nNote: If you are using generic SCSI devices in a Windows 95, Windows 98 or \nWindows Me guest operating system and are experiencing problems with the \ndevices, download the latest Mylex® (BusLogic) BT/KT-958 compatible host bus \nadapter from www.lsilogic.com. This driver overrides what Windows chooses as the \nbest driver, but it corrects known problems. \nPreparing a Windows XP or Windows Server 2003 Guest Operating System to \nUse SCSI Devices\nTo use SCSI devices in a Windows XP or Windows Server 2003 virtual machine, you \nneed a special SCSI driver available from the download section of the VMware Web \nsite at www.vmware.com/download. Follow the instructions on the Web site to install \nthe driver. \nPreparing a Windows NT 4.0 Guest Operating System to Use SCSI Devices\nGeneric SCSI devices use the virtual Mylex (BusLogic) BT/KT-958 compatible host bus \nadapter provided by the virtual machine. Some guest operating systems guide you \nthrough installing the drivers after you install the first SCSI device in the virtual \nmachine. On Windows NT 4.0, however, you may need to install the driver manually, if"
  },
  {
    "page": 302,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n303\nit is not already installed for a virtual SCSI disk. You should do so before you add a \ngeneric SCSI device.\nTo install the BusLogic driver in a Windows NT 4.0 guest, have your Windows NT \ninstallation CD available and follow these steps.\n1. Open the SCSI Adapters control panel.\nStart > Settings > Control Panel > SCSI Adapters\n2. Click the Drivers tab.\n3. Click Add.\n4. In the list of vendors on the left, select BusLogic.\n5. In the list of drivers on the right, select BusLogic MultiMaster PCI SCSI Host \nAdapters.\n6. Click OK.\n7. Insert the Windows NT CD when you are prompted. Click OK.\n8. Reboot when you are prompted.\nAdding a Generic SCSI Device to a Virtual Machine\nYou can add generic SCSI devices to your virtual machine in the virtual machine \nsettings editor. When you set up a generic SCSI device, the virtual machine must be \npowered off. \n1. If it is not already running, launch VMware Workstation.\nStart > Programs > VMware > VMware Workstation\n2. Open the virtual machine in which you want to use the generic SCSI device. \nMake sure the virtual machine is powered off. \n3. From the VMware Workstation window, choose VM > Settings. The virtual \nmachine settings editor opens. \n4. Click Add to start the Add Hardware Wizard. Click Next.\n5. Select Generic SCSI Device, then click Next.\n6. Choose the name of the physical device you want to use.\nThen choose the virtual device node where you want this device to appear in \nthe virtual machine.\nA check box under Device status allows you to specify whether the device \nshould be connected each time the virtual machine is powered on.\n7. Click Finish to install the new device."
  },
  {
    "page": 303,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n304\nVMware Workstation 4 User’s Manual\n8. Click OK to save the configuration and close the virtual machine settings editor.\nTo remove this device, launch the virtual machine settings editor, select the generic \nSCSI device, then click Remove. \nGeneric SCSI on a Linux Host Operating System \nUsing the SCSI Generic driver in Linux, VMware Workstation allows your guest \noperating system to operate generic SCSI devices within a virtual machine. The SCSI \nGeneric driver sets up a mapping for each SCSI device in /dev. Each entry starts with \nsg (for the SCSI Generic driver) followed by a letter. For example, /dev/sga is the \nfirst generic SCSI device.\nEach entry corresponds to a SCSI device, in the order specified in \n/proc/scsi/scsi, from the lowest device ID on the lowest adapter to the \nhighest device ID on the lowest adapter, and so on to the highest device ID on the \nhighest adapter. Do not enter /dev/st0 or /dev/scd0.\nNote: When setting up a generic SCSI device in the virtual machine settings editor, \nas described later in this section, you specify the device you wish to install in the \nvirtual machine by typing its /dev/sg entry in the Connection field. You must be \nlogged on as a user who has permissions to use the device.\nRequirements \nGeneric SCSI requires version 2.1.36 of the SCSI Generic (sg.o) driver, which comes \nwith kernel 2.2.14 and higher. \nAvoiding Concurrent Access to a Generic SCSI Device \nUnder Linux some devices — specifically tape drives, disk drives and CD-ROM drives \n— already have a designated /dev entry (traditionally, st, sd and scd, respectively). \nWhen the SCSI Generic driver is installed, Linux also identifies these devices with \ncorresponding sg entries in /dev — in addition to their traditional entries. VMware \nWorkstation ensures that multiple programs are not using the same /dev/sg entry \nat the same time but cannot always ensure that multiple programs are not using the \n/dev/sg and the traditional /dev entry at the same time. It is important that you \ndo not attempt to use the same device in both host and guest. This can cause \nunexpected behavior and may cause loss or corruption of data. \nPermissions on a Generic SCSI Device \nYou must have read and write permissions on a given generic SCSI device in order to \nuse the device within a virtual machine, even if the device is a read-only device such \nas a CD-ROM drive. These devices typically default to root-only permissions. Your"
  },
  {
    "page": 304,
    "chapter": "Connecting Devices",
    "text": "C H A P T E R  1 1  Connecting Devices\n305\nadministrator should create a group with access to read and write to these devices, \nthen add the appropriate users to that group. \nDevice Support\nIn theory, generic SCSI is completely device independent, but VMware has discovered \nit is sensitive to the guest operating system, device class and specific SCSI hardware. \nWe encourage you to try any SCSI hardware you want to use and report problems to \nVMware technical support. \nNote: If you are using generic SCSI devices in a Windows 95, Windows 98 or \nWindows Me guest operating system and are experiencing problems with the \ndevices, download the latest Mylex (BusLogic) BT/KT-958 compatible host bus adapter \nfrom www.lsilogic.com. This driver overrides what Windows chooses as the best driver, \nbut it corrects known problems. To use SCSI devices in a Windows XP or Windows \nServer 2003 virtual machine, you need a special SCSI driver available from the \ndownload section of the VMware Web site at www.vmware.com/download. \nAdding a Generic SCSI Device to a Virtual Machine\nYou can add generic SCSI devices to your virtual machine in the virtual machine \nsettings editor. The virtual machine settings editor lets you map virtual SCSI devices to \nphysical generic SCSI devices on the host. \nWhen you set up a generic SCSI device, the virtual machine must be powered off. \n1. Launch VMware Workstation and select the virtual machine. Make sure the \nvirtual machine is powered off. \n2. Choose VM > Settings. The virtual machine settings editor opens. \n3. Click Add to start the Add Hardware Wizard. Select Generic SCSI Device, then \nclick Next.\n4. Choose the name of the physical device you want to use.\nThen choose the virtual device node where you want this device to appear in \nthe virtual machine.\nA check box under Device status allows you to specify whether the device \nshould be connected each time the virtual machine is powered on.\n5. Click Finish to install the new device.\n6. Click OK to save the configuration and close the virtual machine settings editor.\nTo remove this device, launch the virtual machine settings editor, select the generic \nSCSI device, then click Remove."
  },
  {
    "page": 305,
    "chapter": "Connecting Devices",
    "text": "www.vmware.com\n306\nVMware Workstation 4 User’s Manual"
  },
  {
    "page": 306,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R12\n307\nPerformance Tuning\nThe following sections offer suggestions for getting the best performance from \nVMware Workstation and your virtual machines:\n•\nConfiguring and Maintaining the Host Computer on page 309\n•\nConfiguring VMware Workstation on page 310\n• General VMware Workstation Options on page 310\n• VMware Workstation on a Windows Host on page 313\n• VMware Workstation on a Linux Host on page 314\n•\nMonitoring Virtual Machine Performance on page 315\n•\nMemory Usage Notes on page 317\n• Virtual Machine Memory Size on page 317\n• Specifying How Much RAM Is Used by All Virtual Machines on page 318\n• Using More Than 1GB of Memory on a Linux Host on page 320\n•\nImproving Performance for Guest Operating Systems on page 322"
  },
  {
    "page": 307,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n308\nVMware Workstation 4 User’s Manual\n• Windows 95 and Windows 98 Guest Operating System Performance Tips on \npage 322\n• Windows 2000, Windows XP and Windows Server 2003 Guest Operating \nSystem Performance Tips on page 324\n• Linux Guest Operating System Performance Tips on page 326"
  },
  {
    "page": 308,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n309\nConfiguring and Maintaining the Host \nComputer\nYou may see slower virtual machine performance if the physical disk that holds the \nvirtual machine’s working directory or the physical disk that holds the virtual disk files \nis badly fragmented. By default, the working directory holds the virtual disk files and is \non the host computer. If you have customized the virtual machine configuration, you \nmay have placed the working directory or the virtual disk files on a different physical \ncomputer.\nFragmentation of the host disk can affect any or all of the following:\n•\nThe files that hold a virtual disk\n•\nThe files that store newly saved data when you have a snapshot\n•\nThe files that hold information used in suspending and resuming a virtual \nmachine\nIf you are experiencing slow disk performance in the virtual machine, or if you want to \nimprove the speed of suspend and resume operations, check to be sure the host disk \nthat holds the virtual machine’s working directory and virtual disk files is not badly \nfragmented. If it is fragmented, you can improve performance by running a \ndefragmentation utility to reduce fragmentation on that host disk."
  },
  {
    "page": 309,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n310\nVMware Workstation 4 User’s Manual\nConfiguring VMware Workstation\nThis section offers advice and information about factors that can affect the \nperformance of VMware Workstation itself. This section does not address performance \nof the guest operating system or the host operating system. \nNote: In addition to the VMware Workstation configuration options discussed below, \nyou should always install VMware Tools in any guest operating system for which a \nVMware Tools package exists. Installing VMware Tools provides better video and \nmouse performance and also greatly improves the usability of the virtual machine. For \ndetails, see Installing VMware Tools on page 81.\nGeneral VMware Workstation Options\nGuest Operating System Selection\nMake certain you select the correct guest operating system for each of your virtual \nmachines. To check the guest operating system setting, choose VM > Settings > \nOptions > General.\nVMware Workstation optimizes certain internal configurations on the basis of this \nselection. For this reason, it is important to set the guest operating system correctly. \nThe optimizations can greatly aid the operating system they target, but they may \ncause significant performance degradation if there is a mismatch between the \nselection and the operating system actually running in the virtual machine. (Selecting \nthe wrong guest operating system should not cause a virtual machine to run \nincorrectly, but it may degrade the virtual machine’s performance.) \nMemory Settings\nMake sure to choose a reasonable amount of memory for your virtual machine. Many \nmodern operating systems have a growing need for memory, so assigning a generous \namount is a good thing. \nThe same holds true for the host operating system, especially a Windows host. \nThe New Virtual Machine Wizard automatically selects a reasonable starting point for \nthe virtual machine’s memory, but you may be able to improve performance by \nadjusting the settings in the virtual machine settings editor (VM > Settings > \nMemory).\nIf you plan to run one virtual machine at a time most of the time, a good starting point \nis to give the virtual machine half the memory available on the host."
  },
  {
    "page": 310,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n311\nAdjusting the application memory settings may also help. Go to Edit > Preferences > \nMemory. \nFor additional information, see Memory Usage Notes on page 317. \nDebugging Mode\nVMware Workstation can run in two modes — normal mode and a mode that \nprovides extra debugging information. The debugging mode is slower than normal \nmode.\nFor normal use, check to be sure you are not running in debugging mode. Go to VM > \nSettings > Options and select Advanced. In the Advanced Options section, be sure \nthere is no check in the Run with debugging information check box. \nCD-ROM Drive Polling\nSome operating systems — including Windows NT and Windows 98 — poll the CD-\nROM drive every second or so to see whether a disc is present. (This allows them to \nrun autorun programs.) This polling can cause VMware Workstation to connect to the \nhost CD-ROM drive, which can make it spin up while the virtual machine appears to \npause.\nIf you have a CD-ROM drive that takes especially long to spin up, there are two ways \nyou can eliminate these pauses. \n•\nYou can disable the polling inside your guest operating system. The method \nvaries by operating system. For recent Microsoft Windows operating systems, \nthe easiest way is to use TweakUI from the PowerToys utilities.\nFor information on finding TweakUI and installing it in your guest operating \nsystem, go towww.microsoft.com and search for TweakUI. Specific instructions \ndepend on your operating system.\n•\nAnother approach is to configure your virtual CD-ROM drive to start \ndisconnected. The drive appears in the virtual machine, but it always appears to \ncontain no disc (and VMware Workstation does not connect to your host CD-\nROM drive). \nTo make this change, go to VM > Settings. Click the DVD/CD-ROM item in the \nDevice list. Then clear the Connect at Power On check box.\nWhen you want to use a CD-ROM in the virtual machine, go to the VM > \nRemovable Devices menu and connect the CD-ROM drive. \nDisk Options\nThe various disk options (SCSI versus IDE) and types (virtual or raw) affect performance \nin a number of ways."
  },
  {
    "page": 311,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n312\nVMware Workstation 4 User’s Manual\nInside a virtual machine, SCSI disks and IDE disks that use direct memory access (DMA) \nhave approximately the same performance. However, IDE disks can be very slow in a \nguest operating system that either cannot use or is not set to use DMA. \nThe easiest way to configure a Linux guest to use DMA for IDE drive access is to install \nVMware Tools (VM > Install VMware Tools). Among other things, the installation \nprocess automatically sets IDE virtual drives to use DMA.\nIn Windows 2000, DMA access is enabled by default. In other Windows guest \noperating systems, the method for changing the setting varies with the operating \nsystem. See the following technical notes for details.\n•\nDisk Performance in Windows NT Guests on Multiprocessor Hosts on page 195\n•\nWindows 95 and Windows 98 Guest Operating System Performance Tips on \npage 322\nWhen a snapshot exists, virtual disks often have very good performance for random or \nnonsequential access. But they can potentially become so fragmented that \nperformance is affected. In order to defragment the disk, you must first remove the \nsnapshot (Snapshot > Remove Snapshot).\nWhen no snapshot exists, raw disks and virtual disks with all the space allocated in \nadvance both use flat files that mimic the sequential and random access performance \nof the underlying disk. When a snapshot exists and you have made changes since \npowering on the virtual machine, any access to those changed files performs at a level \nsimilar to the performance of a virtual disk that does not have all space allocated in \nadvance. If you remove the snapshot, performance is again similar to that of the \nunderlying disk.\nOverall, if no snapshot exists and you are using raw disks or virtual disks with all the \nspace allocated in advance, you see somewhat better performance than that \nprovided by other configurations. \nDisk writes may be slower for virtual disks that do not have all space allocated in \nadvance. However, you can improve performance for these disks by defragmenting \nthem from the virtual machine settings editor. Choose VM > Settings, select the disk \nyou want to defragment, then click Defragment.\nRemote Disk Access\nWhenever possible, do not use disks that are on remote machines and accessed over \nthe network unless you have a very fast network. If you must run disks remotely, \nchoose VM > Settings > Options, select General and set the Working directory to a \ndirectory on your local hard disk. Then take a snapshot. After you take the snapshot, \nchanges you make are stored locally in the working directory."
  },
  {
    "page": 312,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n313\nSnapshot\nIf you do not need to use the snapshot feature, it is best to run your virtual machine \nwith no snapshot. This provides best performance. To be sure a virtual machine has no \nsnapshot, choose Snapshot > Remove Snapshot.\nVMware Workstation on a Windows Host\nNote: The items in this section describe performance of VMware Workstation on a \nWindows host. For tips on configuring VMware Workstation on a Linux host, see \nVMware Workstation on a Linux Host on page 314. \nProcess Scheduling\nNote: The information in this hint was created to address scheduling problems with \nWindows NT. The issues are likely to be different in Windows 2000, Windows XP and \nWindows Server 2003; however, we do not currently have corresponding information \nfor Windows 2000, Windows XP or Windows Server 2003 hosts. \nThe process scheduler on Windows NT does not necessarily schedule processes in a \nway that allows you to get the best performance from your particular combination of \nvirtual machines and applications running on the host. VMware Workstation on a \nWindows host provides configuration options that let you adjust scheduling priorities \nto meet your needs.\nThese configuration options are available from the Edit > Preferences > Priority and \nVM > Settings > Options > Advanced menu options. These menu items allow you to \nspecify either high or normal priority when the mouse and keyboard are grabbed by \nthe virtual machine and either normal or low priority when they are not grabbed. \nGlobal priority is taken as the default across all virtual machines. Local priority \noverrides the global settings for just the specific virtual machine where you make the \nchanges.\nPay particular attention to the grabbed: HIGH – ungrabbed: NORMAL and grabbed: \nNORMAL – ungrabbed: LOW settings. \nThe grabbed: HIGH – ungrabbed: NORMAL setting is useful if you have many \nbackground processes or applications and you do not care if they run with fairly low \nrelative priority while VMware Workstation is in the foreground. In return, you get a \nvery noticeable performance boost using a VMware Workstation virtual machine \nwhile another virtual machine is running or while some other processor-intensive task \n(a compile, for example) is running in the background.\nThe reverse is true of the grabbed: NORMAL – ungrabbed: LOW setting. If your host \nmachine feels too sluggish when a virtual machine is running in the background, you \ncan direct the virtual machine to drop its priority when it does not have control of the"
  },
  {
    "page": 313,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n314\nVMware Workstation 4 User’s Manual\nmouse and keyboard. As with the high setting, this is a heavy-handed change of \npriority, so the virtual machine and any background applications run much more \nslowly. \nVMware Workstation on a Linux Host\nNote: The items in this section describe performance of VMware Workstation on a \nLinux host. For tips on configuring VMware Workstation on a Windows host, see \nVMware Workstation on a Windows Host on page 313. \nUsing Full Screen Mode\nFull screen mode is faster than window mode. As a result, if you do not need to have \nyour virtual machine and your host sharing the screen, try switching to full screen \nmode.\nNote: The extreme case of this is VGA mode. VGA mode is any mode in which the \nscreen is in text mode (DOS, for example, or Linux virtual terminals), or 16-color 640 x \n480 graphics mode (for example, the Windows 95 or Windows 98 clouds boot screen \nor any guest operating system that is running without the SVGA driver provided by \nVMware Tools). \nOn a Linux host, full screen VGA mode uses the underlying video card directly, so \ngraphics performance is quite close to that of the host. By contrast, window mode \nVGA requires more computer resources to emulate than window mode SVGA. As a \nresult, if you need to run for an extended period of time in VGA mode (for example, \nwhen you are installing an operating system using a graphical installer) you should \nsee a significant performance boost if you run in full screen mode."
  },
  {
    "page": 314,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n315\nMonitoring Virtual Machine \nPerformance\nVMware Workstation incorporates a set of performance counters that work with \nMicrosoft’s Performance console so you can collect performance data from running \nvirtual machines. \nNote: The Performance console is available only on Windows hosts. You cannot \nmonitor performance for virtual machines on Linux hosts. However, you can monitor \nthe performance of any virtual machines running on the Windows host, including \nthose running Linux guest operating systems.\nThe VMware Workstation performance counters can monitor the following data from \na running virtual machine:\n•\nReading and writing to virtual disks\n•\nMemory used by the virtual machine\n•\nVirtual network traffic\nYou can track virtual machine performance only when a virtual machine is running. \nThe performance counters reflect the state of the virtual machine, not the guest \noperating system. For example, the counters can record how often a virtual machine \nreads from a virtual disk, but they cannot track how many processes are running \ninside the guest operating system. An explanation of each counter appears in the \nPerformance console.\nTo add counters to track virtual machine performance, use the Windows Performance \nconsole. Take the following steps.\n1. Open the Administrative Tools control panel and double-click Performance. The \nPerformance console opens."
  },
  {
    "page": 315,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n316\nVMware Workstation 4 User’s Manual\n2. Click the plus (+) sign on the toolbar. The Add Counters dialog box appears.\n3. In the Performance object list, select VMware.\n4. Decide whether you want to add all counters or select specific counters from the \nlist.\n5. To use these counters for all running virtual machines, select All instances. To \nuse the counters for specific virtual machines, select Select instances from list, \nthen choose the virtual machines you want. The names shown in the list \ncorrespond to the display names of running virtual machines.\nNote: For a brief description of each counter, click Explain. When you select a \ncounter from the list, a description appears below the Add Counters dialog box.\n   6. Click Add to add the counters to the Performance console.\nFor more information about using the Performance console, choose Action > Help in \nthe Performance console or go to the Microsoft Web site."
  },
  {
    "page": 316,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n317\nMemory Usage Notes\nVMware Workstation allows you to make the following memory-related settings:\n•\nThe memory size of a particular virtual machine\n•\nThe amount of the host computer’s RAM that can be used for virtual machines.\n•\nThe extent to which you want to allow the host operating system’s memory \nmanager to swap virtual machines out of physical RAM \nBy adjusting these three settings, you can affect both virtual machine and overall \nsystem performance. \nThis section describes how VMware Workstation uses the memory configuration \nparameters to manage virtual machines and system memory properly.\nVirtual Machine Memory Size\nThe first configuration parameter you can set is the size of an individual virtual \nmachine’s memory. Set this configuration parameter for the virtual machine in the \nvirtual machine settings editor (VM > Settings > Memory). The guest memory size \nshould not be set lower than the minimum recommendations of the operating \nsystem provider. \nThe New Virtual Machine Wizard sets reasonable defaults for the memory size of a \nvirtual machine, based on the type of the guest operating system and the amount of \nmemory in the host computer. This value also appears in the virtual machine settings \neditor as the recommended memory value.\nThe virtual machine settings editor also shows a value for the maximum amount of \nmemory for best performance. If you have only one virtual machine running on the \nhost and you set virtual machine memory to this value, the virtual machine can run \nentirely in RAM. A virtual machine running completely in RAM performs better than a \nvirtual machine that must swap some of its memory to disk.\nThe actual memory size you should give to a virtual machine depends on a few \npractical considerations:\n•\nWhat kinds of applications will run in the virtual machine \n•\nWhat other virtual machines will contend with this virtual machine for memory \nresources \n•\nWhat applications will run on the host at the same time as the virtual machine"
  },
  {
    "page": 317,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n318\nVMware Workstation 4 User’s Manual\nNote: You cannot allocate more than 2GB of memory to a virtual machine if the \nvirtual machine’s files are stored on a file system such as FAT32 that does not support \nfiles greater than 2GB.\nThe total amount of memory you assign to all virtual machines running on a single \nhost may not exceed 4GB.\nMemory Use on the Host\nHost operating systems do not behave well when they run low on free memory for \ntheir own use. When a Windows or Linux host operating system does not have \nenough RAM for its own use, it thrashes — it constantly swaps parts of itself between \nRAM and its paging file on disk. To help guard against virtual machines causing the \nhost to thrash, VMware Workstation enforces a limit on the total amount of RAM that \nmay be consumed by virtual machines.\nSome memory must be kept available on the host to ensure the host is able to \noperate properly while virtual machines are running. The amount of memory reserved \nfor the host depends on the host operating system and the size of the host \ncomputer’s memory. \nSpecifying How Much RAM Is Used by All Virtual Machines\nThe second configuration parameter you can set is the amount of RAM that VMware \nWorkstation is allowed to reserve for all running virtual machines combined. To set \nthis parameter, go to Edit > Preferences > Memory.\nThe reserved memory setting specifies a maximum amount of RAM that VMware \nWorkstation is allowed to use. But this memory is not allocated in advance. Even if \nmultiple virtual machines are running at the same time, VMware Workstation may be \nusing only a fraction of the RAM you specify here. Any unused RAM is available to be \nused by other applications. If all the RAM you specify here is in use by one or more \nvirtual machines, the host operating system cannot use this RAM itself or allow other \napplications to use it.\nThe RAM used by VMware Workstation includes the RAM made available to the guest \noperating systems plus a small amount of overhead memory associated with running \na virtual machine. \nThe amount of RAM actually used for a particular virtual machine varies dynamically as \na virtual machine runs. If multiple virtual machines run simultaneously, they work \ntogether to manage the memory. \nThe recommended amount of RAM to specify for all running virtual machines is \ncalculated on the basis of the host computer’s physical memory and appears in the"
  },
  {
    "page": 318,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n319\nreserved memory control — Edit > Preferences > Memory. If you want VMware \nWorkstation to use more or less RAM, move this slider to change the amount. \nIf you set this value too high, the host may thrash when other applications are run on \nthe host. If you set this value too low, virtual machines may perform very poorly and \nyou cannot run as many virtual machines at once.\nUsing Additional Memory \nBy default, VMware Workstation limits the number of virtual machines that can run at \nonce based on the amount of memory specified in the application settings. This \nprevents virtual machines from causing each other to perform poorly. \nTo allow more or larger virtual machines to run, you can adjust a third setting — the \namount of virtual machine memory that the host operating system may swap to disk. \nTo change this setting, go to Edit > Preferences > Memory and change the additional \nmemory setting. Select one of the following radio buttons:\n•\nFit all virtual machine memory into reserved host RAM — Strictly apply the \nreserved memory limit set in the top of the panel. This setting imposes the \ntightest restrictions on the number and memory size of virtual machines that \nmay run at a given time. Because the virtual machines are running entirely in \nRAM, they have the best possible performance.\n•\nAllow some virtual machine memory to be swapped — Allow the host \noperating system to swap a moderate amount of virtual machine memory to \ndisk if necessary. This setting allows you to increase the number or memory size \nof virtual machines that can run on the host computer at a given time. It may \nalso result in reduced performance if virtual machine memory must be shifted \nbetween RAM and disk.\n•\nAllow most virtual machine memory to be swapped — Allow the host \noperating system to swap as much virtual machine memory to disk as it wants. \nThis setting allows you to run even more virtual machines with even more \nmemory than the intermediate setting does. In this case, too, performance may \nbe lower if virtual machine memory must be shifted between RAM and disk.\nIf you try to power on a virtual machine and there is not enough memory available, \nVMware Workstation displays a warning message. The message shows how much \nmemory the virtual machine is configured to use and how much memory is available. \nTo try to power on the virtual machine using the available memory, click OK. If you do \nnot want to power on the virtual machine, click Cancel."
  },
  {
    "page": 319,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n320\nVMware Workstation 4 User’s Manual\nUsing More Than 1GB of Memory on a Linux Host\nBy default, Linux kernels in the 2.2.x series support 1GB of physical memory. If you \nwant to use more memory in Linux, you can take one of several approaches.\n•\nUpgrade to a 2.4.x series kernel that allows for more physical memory.\n•\nRecompile your kernel as a 2GB kernel using the CONFIG_2GB option.\n•\nEnable the CONFIG_BIGMEM option to map more physical memory. (This \napproach requires special steps, described in detail in the Workarounds section \nbelow, to work with VMware products.)\nThe CONFIG_2GB option calls for recompiling your kernel as a 2GB kernel. You do this \nby recompiling your kernel with CONFIG_2GB enabled. This allows Linux to support \nnearly 2GB of physical memory by dividing the address space into a 2GB user section \nand a 2GB kernel section (as opposed to the normal division of 3GB for user and 1GB \nfor kernel). \nThe third approach uses the CONFIG_BIGMEM option in Linux. With the \nCONFIG_BIGMEM option enabled, the kernel does not directly address all of physical \nmemory and it can then map 1GB (or 2GB) of physical memory into the address space \nat a time. This allows the use of all of physical memory at the cost of changing the \nsemantics the kernel uses to map virtual to physical addresses. However, VMware \nproducts expect physical memory to be mapped directly in the kernel’s address space \nand thus do not work properly with the CONFIG_BIGMEM option enabled. \nWorkarounds\nIf you are using a 1GB kernel with CONFIG_BIGMEM enabled and have 960MB to \n1983MB of memory, VMware Workstation does not run. To work around this issue, you \ncan either: \n•\nRecompile the kernel as a 2GB kernel by enabling the CONFIG_2GB option. This \nallows for 100 percent use of physical memory. \n•\nPass the boot-time switch mem=959M at the LILO prompt, or add it to \nlilo.conf, to disable CONFIG_BIGMEM and thus allow you to run VMware \nWorkstation. To do this: \n•  At the LILO prompt, type linux-2.2.16xxx mem=959M. \n•  Or, edit lilo.conf. In the kernel section, add this line: \nappend mem=\"959M\" \nIf you have a 1GB kernel with CONFIG_BIGMEM enabled and have more than 1983MB \nof memory, you can do one of the following:"
  },
  {
    "page": 320,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n321\n•\nRecompile the kernel as a 2GB kernel by enabling the CONFIG_2GB option and \neither pass the boot-time switch mem=1983M at the LILO prompt or add it to \nlilo.conf. To use the switch: \n•  At the LILO prompt, type linux-2.2.16xxx mem=1983M. \n•  Or, edit lilo.conf. In the kernel section, add this line: \nappend mem=\"1983M\" \n•\nPass the boot-time switch mem=959M at the LILO prompt or add it to \nlilo.conf to disable CONFIG_BIGMEM. To use the switch: \n•  At the LILO prompt, type linux-2.2.16xxx mem=959M. \n•  Or, edit lilo.conf. In the kernel section, add this line: \nappend mem=\"959M\" \nIf you are using a 2GB kernel with CONFIG_BIGMEM enabled and have 1984MB or \nmore memory, VMware Workstation does not run. You can either pass the boot-time \nswitch mem=1983M at the LILO prompt, or add it to lilo.conf to disable \nCONFIG_BIGMEM and thus allow you to run VMware Workstation. To use the switch: \n•\n At the LILO prompt, type linux-2.2.16xxx mem=1983M. \n•\n Or, edit lilo.conf. In the kernel section, add this line: \nappend mem=\"1983M\""
  },
  {
    "page": 321,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n322\nVMware Workstation 4 User’s Manual\nImproving Performance for Guest \nOperating Systems\nThe tips in this section help you make adjustments to improve performance for \nparticular guest operating systems running inside a virtual machine.\nWindows 95 and Windows 98 Guest Operating System \nPerformance Tips\nThis section offers advice for configuring a Windows 95 or Windows 98 guest \noperating system for better performance inside a VMware Workstation virtual \nmachine.\nNote: This document pertains to the guest operating system that is running inside a \nVMware Workstation virtual machine. It does not describe actions that should be \ntaken on the host. \nGuest Operating System Selection\nMake certain you have selected the correct guest operating system in the virtual \nmachine settings editor — VM > Settings > Options.\nVMware Tools\nMake certain VMware Tools is installed. VMware Tools provides an optimized SVGA \ndriver and sets up the VMware Tools service to run automatically when the system \nstarts. Among other things, the VMware Tools service allows you to synchronize the \nvirtual machine’s clock with the host computer’s clock, which can improve \nperformance for some functions. You can install VMware Tools by choosing VM > \nInstall VMware Tools.\nDMA Mode for IDE Disks\nWindows 95 OSR2 and later (including Windows 98) can use direct memory access \n(DMA) for faster access to IDE hard disks. However, this feature may not be enabled by \ndefault.\nYou can turn on DMA access using the guest operating system’s Device Manager.\n1. Right-click My Computer and choose Properties from the pop-up menu. \n2. Click the + sign beside Disk Drives to show your virtual machine’s individual \ndrives. \n3. Right-click the entry for each IDE drive to open its Properties dialog box."
  },
  {
    "page": 322,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n323\n4. Under Settings, check the box labeled DMA and accept any warning Windows \ndisplays. \n5. Restart Windows for the new settings to take effect. \nFull Screen Mode\nRun your virtual machine in full screen mode. Click the Full Screen button on the \nVMware Workstation toolbar.\nSwap File Usage\nIn your system.ini file, in the [386enh] section, add the following line:\nConservativeSwapFileUsage=1\nDisconnect CD-ROM and /dev/rtc\nUsing the VM > Removable Devices menu, disconnect your CD-ROM drive if you do \nnot need to use it. \nIf you are using a Linux host and have a Windows 95 guest, also disconnect \n/dev/rtc. Do not disconnect it in a Windows 98 guest.\nDisconnecting these devices reduces CPU usage. \nNote: The time synchronization feature in VMware Tools does not rely on \n/dev/rtc. \nVisual Effects\nWindows 98 has a number of visual effects, designed to be attractive, that place \nunnecessary demands on the graphics emulation in VMware Workstation. Some users \nhave seen performance improvements when they turn off these special effects.\nTo modify these settings, right-click on the desktop of your virtual machine, then \nselect Properties from the pop-up menu. Click the Effects tab and uncheck the \nAnimate windows, menus, and lists check box.\nAlso, if you have Show window contents while dragging checked, try unchecking \nthat check box."
  },
  {
    "page": 323,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n324\nVMware Workstation 4 User’s Manual\nWindows 2000, Windows XP and Windows Server 2003 Guest \nOperating System Performance Tips\nThis section offers advice for configuring a Windows 2000, Windows XP or Windows \nServer 2003 guest operating system for better performance inside a VMware \nWorkstation virtual machine.\nNote: This document pertains to the guest operating system that is running inside a \nVMware Workstation virtual machine. It does not describe actions that should be \ntaken on Windows 2000, Windows XP or Windows Server 2003 running on the host \ncomputer. \nGuest Operating System Selection\nMake certain you have selected the correct guest operating system in the virtual \nmachine settings editor — VM > Settings > Options.\nVMware Tools\nMake certain VMware Tools is installed. VMware Tools provides an optimized SVGA \ndriver and sets up the VMware Tools service to run automatically when the system \nstarts. Among other things, the VMware Tools service allows you to synchronize the \nvirtual machine’s clock with the host computer’s clock, which can improve \nperformance for some functions. You can install VMware Tools by choosing VM > \nInstall VMware Tools.\nDisconnect CD-ROM and /dev/rtc\nUsing the VM > Removable Devices menu, disconnect your CD-ROM drive if you do \nnot need to use it. If you are using a Linux host, also disconnect /dev/rtc. \nDisconnecting these devices reduces CPU usage. \nNote: The time synchronization feature in VMware Tools does not rely on \n/dev/rtc. \nVisual Effects\nThe fade effects that Windows 2000, Windows XP and Windows Server 2003 use when \ndisplaying menus can be somewhat slow and make the virtual machine seem less \nresponsive. \nTo disable the fade effects, right-click the guest operating system desktop, then \nchoose Properties > Appearance > Effects (on Windows XP or Windows Server 2003) \nor Properties > Effects (on Windows 2000) and uncheck Use transition effects for \nmenus and tool tips."
  },
  {
    "page": 324,
    "chapter": "Performance Tuning",
    "text": "C H A P T E R  1 2  Performance Tuning\n325\nFull Screen Mode\nRun your virtual machine in full screen mode. Click the Full Screen button on the \nVMware Workstation toolbar."
  },
  {
    "page": 325,
    "chapter": "Performance Tuning",
    "text": "www.vmware.com\n326\nVMware Workstation 4 User’s Manual\nLinux Guest Operating System Performance Tips\nThis section offers advice for configuring a Linux guest operating system for better \nperformance inside a VMware Workstation virtual machine.\nNote: This document pertains to the guest operating system that is running inside a \nVMware Workstation virtual machine. It does not describe actions that should be \ntaken on Linux running on the host. \nGuest Operating System Selection\nMake certain you have selected the correct guest operating system in the virtual \nmachine settings editor — VM > Settings > Options.\nVMware Tools\nMake certain VMware Tools is installed. VMware Tools provides an optimized SVGA \ndriver and sets up the VMware Tools service to run automatically when the system \nstarts. Among other things, the VMware Tools service allows you to synchronize the \nvirtual machine’s clock with the host computer’s clock, which can improve \nperformance for some functions. You can install VMware Tools by choosing VM > \nInstall VMware Tools.\nDisconnect CD-ROM and /dev/rtc\nUsing the VM > Removable Devices menu, disconnect your CD-ROM drive if you do \nnot need to use it. If you are using a Linux host, also disconnect /dev/rtc. \nDisconnecting these devices reduces CPU usage. \nNote: The time synchronization feature in VMware Tools does not rely on \n/dev/rtc. \nInstall in Text Mode\nWhen you are installing your Linux guest operating system, use the text-mode \ninstaller instead of the graphical installer if you have a choice. This makes the \ninstallation process faster. \nIf you do use a graphical installer and if you are using a Linux host computer, try to run \nVMware Workstation in full screen mode during the installation. \nFull Screen Mode\nRun your virtual machine in full screen mode. Click the Full Screen button on the \nVMware Workstation toolbar."
  },
  {
    "page": 326,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R13\n327\nSpecial-Purpose Configuration \nOptions\nThe following sections describe how to use special-purpose configuration options:\n•\nLocking Out Interface Features on page 329\n•\nRestricting the User Interface on page 331\n• Automatically Returning to a Snapshot with a Restricted User Interface on \npage 332\n•\nUsing Full Screen Switch Mode on page 334\nIn some situations you may find it useful to restrict a user’s ability to reconfigure virtual \nmachines and to simplify the user interface for inexperienced users. In a classroom, for \nexample, you may want to ensure that virtual machine configurations remain \nconsistent from one class session to the next.\nThe special-purpose configuration options available on Windows hosts meet these \nneeds.\nAdministrative lockout is a global setting for VMware Workstation itself and affects all \nvirtual machines. Restricted user interface affects only the specific virtual machines for \nwhich the setting has been made. Full screen switch mode affects the way VMware \nWorkstation itself runs and, as a result, affects all virtual machines."
  },
  {
    "page": 327,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n328\nVMware Workstation 4 User’s Manual\nThese options are available on Windows hosts only."
  },
  {
    "page": 328,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R  1 3  Special-Purpose Configuration Options\n329\nLocking Out Interface Features\nAdministrative lockout is a global setting that affects all virtual machines for all users \non a host computer. It allows a user to impose any combination of the following \nrestrictions:\n•\nOnly a user who knows the password can create new virtual machines.\n•\nOnly a user who knows the password can edit virtual machine configurations.\n•\nOnly a user who knows the password can edit network settings.\nNote: If no user has yet set administrative lockout preferences, any user may set \nthem and set a password for access to the administrative lockout features. If any user \nhas already set administrative lockout preferences, you must know the password in \norder to change the settings.\nTake the following steps to set administrative lockout preferences:\n1. Open the Application Settings dialog box (Edit > Preferences).\n2. Click the Lockout tab. If a password is already set for the administrative lockout \nfeature, enter the password when prompted.\n3. Be sure Enable administrative lockout is selected and select the actions you \nwant to restrict. If this is the first time administrative lockout options have been \nset, enter a password in the Password field and again in the Confirm password \nfield.\n4. Click OK to save the settings.\nRemoving a Forgotten Password\nIf you cannot remember the password and want to remove it, you must uninstall \nWorkstation. Be sure to click Yes when asked if you want to remove the administrative"
  },
  {
    "page": 329,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n330\nVMware Workstation 4 User’s Manual\nlockout settings. After you reinstall Workstation, you may enable the administrative \nlockout features again and set a new password."
  },
  {
    "page": 330,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R  1 3  Special-Purpose Configuration Options\n331\nRestricting the User Interface\nThe restricted user interface affects only the specific virtual machines for which the \nsetting has been made. The following changes are made when you enable the \nrestricted user interface:\n•\nThe toolbar is always hidden.\n•\nAll functions on the Power menu are disabled.\n•\nAll functions on the Snapshot menu and snapshot functions on the toolbar are \ndisabled.\n•\nThere is no access to the virtual machine settings editor from the VMware \nWorkstation window.\n•\nThe user cannot change virtual networking settings.\n•\nThe user starts the virtual machine by double-clicking the configuration file \n(.vmx file) or a desktop shortcut to that file. The virtual machine powers on \nautomatically. At the end of the working session, the user shuts down by closing \nthe virtual machine (File > Exit).\nIt is also possible to launch VMware Workstation, then open a restricted-interface \nvirtual machine from the virtual machine list or the File menu.\nThe changes needed to enable the restricted user interface must be made by a user \nwith sufficient privileges to edit the virtual machine’s configuration file and to set file \npermissions as described below.\nTake the following steps to enable the restricted user interface.\n1. Power off the virtual machine and close the VMware Workstation window, then \nopen the virtual machine’s configuration file (.vmx file) in Notepad or another \ntext editor. Add the following line anywhere in the file:\ngui.restricted = \"true\"\n2. You may wish to set file permissions on the configuration file to give normal \nusers of the system only read access to the file, so they cannot manually modify \nthe configuration. \n3. For the convenience of users, create a shortcut to the configuration file on the \ndesktop and give it an appropriate name.\nNote: Although the restricted user interface provides no access to menu and toolbar \ncontrols for the snapshot, you may choose to give the user limited snapshot control. If \nyou set up a snapshot for the restricted virtual machine and set the power-off option \nto Ask me, the user sees the standard dialog box when shutting down a virtual"
  },
  {
    "page": 331,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n332\nVMware Workstation 4 User’s Manual\nmachine and has the opportunity to choose Just power off, Take snapshot or Revert \nto snapshot.\nAutomatically Returning to a Snapshot with a Restricted \nUser Interface\nYou can combine a restricted user interface with a snapshot to ensure that users’ \nvirtual machines always start in the same state. Typically, users running a virtual \nmachine with a restricted user interface can power it on and off only, and the virtual \nmachine boots when powered on. When the virtual machine has a snapshot set and \nis configured to return to that snapshot when powered off, the user can only start and \npower off the virtual machine. The virtual machine always starts from the snapshot.\nSince you can restrict the user interface only on Windows hosts, this combination \nworks only with virtual machines running on Windows hosts.\nTo set up a virtual machine with restricted user interface and a snapshot as described \nabove, take the following steps:\n1. Power on the virtual machine and be sure it is in the state you want, then take \nthe snapshot. \n2. Configure the virtual machine to return to the snapshot any time it is powered \noff. To do so, go to VM > Settings > Options > Snapshot and select After \npowering off and Revert to snapshot. \n3. With the virtual machine powered off, restrict the user interface. Close the \nVMware Workstation window, then open the virtual machine’s configuration file \n(.vmx file) in Notepad or another text editor. Add the following line anywhere in \nthe file.\ngui.restricted = \"true\"\n4. You may wish to set file permissions on the configuration file to give normal \nusers of the system only read access to the file, so they cannot manually modify \nthe configuration. \n5. For the convenience of users, create a shortcut to the configuration file on the \ndesktop and give it an appropriate name.\nThe user runs this virtual machine by double-clicking the shortcut to the \nconfiguration file. The virtual machine starts at the snapshot, with the user interface \nrestricted — with no toolbar and no access to the Power menu or the virtual machine \nsettings editor."
  },
  {
    "page": 332,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R  1 3  Special-Purpose Configuration Options\n333\nWhen the user is finished working with this virtual machine, he or she closes it by \nchoosing File > Close. The virtual machine powers off, and the next time a user \npowers it on, it returns to the snapshot.\nTo remove the restriction on the interface, take the following steps.\n1. Power off the virtual machine and close the VMware Workstation window. \n2. Open the configuration file (.vmx) file and do one of the following:\n• Set gui.restricted = \"false\".\n• Remove or comment out the gui.restricted = \"true\" line. \nSave the changes to the configuration file and close it.\n3. Start the virtual machine by double-clicking the shortcut. The virtual machine \nstarts at the snapshot, and the interface is not restricted."
  },
  {
    "page": 333,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n334\nVMware Workstation 4 User’s Manual\nUsing Full Screen Switch Mode\nFull screen switch mode is a run-time option for the VMware Workstation program. \nWhen VMware Workstation is running in full screen switch mode, the user has no \naccess to the VMware Workstation user interface. The user cannot create, reconfigure \nor launch virtual machines. A system administrator performs these functions. \nWhen VMware Workstation is running in full screen switch mode, one or more virtual \nmachines may be running and you can use hot keys to switch from one to another. \nYou may also provide hot key access to the host operating system.\nCreating a Virtual Machine for Use in Full Screen Switch Mode\nTo create new virtual machines, you must run VMware Workstation in standard mode. \nThe instructions in this section assume that you are creating the virtual machines on a \nseparate administrative computer. However you may, if you prefer, create the virtual \nmachines directly on the user’s computer.\nCreate the new virtual machine following the instructions in Creating a New Virtual \nMachine on page 65. Be sure to make the following choices:\n•\nIn step 6, select Custom to perform a custom installation.\n•\nIn step 8, make a note of the folder in which you create the virtual machine. You \nmust copy all the files in this folder to the user’s computer after you finish \ncreating and configuring the virtual machine.\n•\nIn step 12, specify the desired size for the virtual disk and select Allocate all disk \nspace now. This selection is not required, but it is strongly recommended. If you \ndo not make this selection and the host computer’s hard disk runs out of space \nfor a growing virtual disk file, the user sees no warning message and does not \nknow what is causing the problem in the virtual machine.\nMake all needed configuration settings before you configure the user’s computer to \nlaunch VMware Workstation when the computer starts. You cannot change virtual \nmachine settings using the virtual machine settings editor when VMware Workstation \nis running in full screen switch mode. You may find it most convenient to finish \nconfiguring the virtual machine and to install the guest operating system and \napplication software before you move the virtual machine to the user’s computer.\nMoving a Virtual Machine to the User’s Computer\nThe easiest way to move the virtual machine to the user’s computer is to use a \nnetwork connection to copy all the files in the virtual machine directory to a directory"
  },
  {
    "page": 334,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R  1 3  Special-Purpose Configuration Options\n335\non the user’s computer. You may also move it using a DVD or other removable media \nlarge enough to store the files.\nEach virtual machine should be in its own directory.\nSetting Configuration Options on the User’s Computer\nGlobal configuration settings are made in the VMware Workstation global \nconfiguration file, created by default as C:\\Documents and Settings\\All \nUsers\\Application Data\\VMware\\VMware \nWorkstation\\config.ini. You can edit this file with a text editor. You should \nset permissions on this file so the user cannot change it.\nLocal configuration settings are made in the configuration file for a particular virtual \nmachine. The local configuration file is in the virtual machine’s directory; the filename \nhas a .vmx extension.\nThe format for an entry in either configuration file is\noption = \"value\"\nEntries in the configuration files can appear in any order.\nThe hot key entries described in this section require you to enter a virtual key code as \npart of the value for an option. Virtual key codes are entered in hexadecimal format — \nas a hexadecimal number preceded by 0x. For example, to use the virtual key code of \n5A as a value, type 0x5A.\nMicrosoft provides a reference list of virtual key codes on the MSDN Web site. At the \ntime this manual was written, the reference list was at msdn.microsoft.com/library/en-\nus/winui/WinUI/WindowsUserInterface/UserInput/VirtualKeyCodes.asp. \nThe hot key entries also include modifier keys. The modifier keys are Ctrl, Alt and Shift, \nor a combination of those keys.\nModifier key\nValue\nNo modifier\n0x0\nAlt\n0x1\nCtrl\n0x2\nShift\n0x4\nCtrl-Alt\n0x3\nAlt-Shift\n0x5\nCtrl-Shift\n0x6\nCtrl-Alt-Shift\n0x7"
  },
  {
    "page": 335,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n336\nVMware Workstation 4 User’s Manual\nWhen listing a key plus a modifier, type the virtual key code for the key followed by a \ncomma, then type the value for the modifier key or keys. For example, the value entry \nfor Ctrl-Shift-F1 is 0x70,0x6.\nNote: Keep the following limitations in mind when defining cycle keys and switch \nkeys:\n•\nDo not use the Pause key with the Ctrl key. You may use the Pause key with other \nmodifier keys.\n•\nIf you use F12, you must use one or more modifier keys. You cannot use F12 \nalone.\n•\nYou cannot use combinations that include only the Shift, Ctrl and Alt keys. These \nkeys may be used only as modifiers in combination with some other key.\nHot Key for Cycling Through Virtual Machines and the Host Computer\nYou can specify a hot key or hot key combination for cycling through the available \nvirtual machines on a host computer. Each time you press the specified hot key, the \nscreen displays the next virtual machine in order. You may also include the host \noperating system in the cycle.\nIf any particular virtual machine is not running, it is skipped. \nIf only one virtual machine is running and the host operating system is not included in \nthe cycle, pressing the hot key has no effect.\nThe hot key for cycling through virtual machines is defined in the global configuration \nfile (config.ini).\nTwo options control cycling.\nFullScreenSwitch.cycleKey\nThe value of this option defines the hot key. It is specified as <key>,<modifier>. \nThere is no default. \nFor example, to use the Pause key with no modifier to cycle through virtual machines, \nadd the following line to the config.ini file, or modify its value if the option is \nalready listed.\nFullScreenSwitch.cycleKey = \"0x13,0x0\"\nFullScreenSwitch.cycleHost\nThe value of this option determines whether the host operating system is included in \nthe cycle. Possible values are true and false. The default value is false."
  },
  {
    "page": 336,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R  1 3  Special-Purpose Configuration Options\n337\nFor example, to include the host operating system in the cycle, add the following line \nto the config.ini file, or modify its value if the option is already listed:\nFullScreenSwitch.cycleHost = \"TRUE\"\nHot Keys for Switching Directly to Virtual Machines and the Host Computer\nYou can specify a hot key or hot key combination for switching directly to any \navailable virtual machine on a host computer. Each time you press the specified hot \nkey, the screen display switches to that of the specified virtual machine. You may also \nspecify a hot key for switching directly to the host operating system.\nIf any particular virtual machine is not running, pressing the hot key for that virtual \nmachine has no effect.\nYou define the hot key used to switch to a virtual machine by adding a line to the \ntarget virtual machine’s configuration (.vmx) file. The value of this option defines the \nhot key. It is specified as <key>,<modifier>. There is no default. \nFor example, to use Ctrl-Shift-F1 to switch to a particular virtual machine, add the \nfollowing line to that virtual machine’s .vmx file, or modify its value if the option is \nalready listed.\nFullScreenSwitch.directKey = \"0x70,0x6\"\nYou define the hot key used to switch to the host operating system by adding a line to \nthe global configuration file (config.ini). The value of this option defines the hot \nkey. It is specified as <key>,<modifier>. There is no default. \nFor example, to use Ctrl-Shift-F9 to switch to the host operating system, add the \nfollowing line to the config.ini file, or modify its value if the option is already \nlisted.\nFullScreenSwitch.hostDirectKey = \"0x78,0x6\"\nOther Entries in the Global Configuration File\nThe following entries in the global configuration file (config.ini) are optional. \nThey enable you to control certain functions of the virtual machine that are important \nin work environments where virtual machines need to be isolated from each other \nand from the host computer.\nIsolation.tools.copy.enable\nThe value of this option determines whether data in one virtual machine or the host \noperating system can be copied in a way that allows it to be transferred to another \nvirtual machine or to the host operating system. Possible values are true (such \ncopying is allowed) and false (such copying is not allowed). The default value is false."
  },
  {
    "page": 337,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n338\nVMware Workstation 4 User’s Manual\nThe setting for this option should be the same as the setting for \nIsolation.tools.paste.enable (below).\nIsolation.tools.paste.enable\nThe value of this option determines whether data copied in one virtual machine or \nthe host operating system can be pasted into another virtual machine or the host \noperating system. Possible values are true (such pasting is allowed) and false (such \npasting is not allowed). The default value is false. The setting for this option should be \nthe same as the setting for Isolation.tools.copy.enable (above).\nIsolation.tools.HGFS.disable\nThe value of this option determines whether virtual machines can be configured with \nshared folders, for sharing files among virtual machines and with the host computer. \nPossible values are true (shared folders are disabled) and false (shared folders are \nenabled). The default value is true.\nThe following entries are required in the global configuration file (config.ini) and \nmust not be changed:\nmks.ctlAltDel.ignore = \"TRUE\"\nmks.fullscreen.allowScreenSaver = \"TRUE\"\nfullScreenSwitch.onSeparateDesktop = \"TRUE\"\nmsg.autoAnswer = \"TRUE\"\nStarting and Stopping Virtual Machines on the User’s \nComputer\nUse the vmware-fullscreen command to run VMware Workstation in full screen \nswitch mode and to start and stop virtual machines on a user’s computer. The \ncommand can pass certain information to the virtual machine when it starts. \nAs administrator, you must decide how to issue the command. For example, you may \nuse a custom application or script running on the host operating system to issue one \nor more vmware-fullscreen commands. Or you can include the command to \nstart a virtual machine in a shortcut in the host operating system’s startup group, so \nthe virtual machine starts automatically when the user logs on to the host computer.\nThe vmware-fullscreen command must be issued once for each virtual \nmachine you want to start or stop.\nvmware-fullscreen -poweron [-s variable=value] \n[-name=<alias>] [-directkey=<keyspec>] [-fullscreen] \n\"<config-file>\"\nWhen you use the optional switches shown here, the -poweron switch is required"
  },
  {
    "page": 338,
    "chapter": "Special-Purpose Configuration Options",
    "text": "C H A P T E R  1 3  Special-Purpose Configuration Options\n339\nand must be the first switch after the vmware-fullscreen command. Provide \nthe full path to the virtual machine’s configuration (.vmx) file at the end of the \ncommand line. The complete command must be entered on one line.\nUse the -s switch to pass a variable name and value to be used in configuring the \nvirtual machine. You may include multiple variable=value pairs in the \ncommand. Each variable=value pair must be preceded by -s.\nUse -name=<alias> to give a name to the virtual machine. You can the use that \nalias in -switchto and -poweroff commands.\nUse -directkey=<keyspec> to specify the virtual machine’s direct-switch key. If \na direct-switch key is specified in the virtual machine’s configuration file, the one \nspecified on the command line overrides the one in the configuration file. \nFor example, to start a virtual machine and specify that its direct-switch key \ncombination is Ctrl-Shift-F1, use the following command: \nvmware-fullscreen -poweron -directkey=0x70,0x6 \n\"<config-file>\"\nThe complete command must be entered on one line.\nUse -fullscreen to start a virtual machine and go straight to full screen switch \nmode. The virtual machine takes over the display immediately, instead of running \ninvisibly until the user switches to it later.\nStarting a Virtual Machine\nvmware-fullscreen -poweron \"<config-file>\"\nUse this command to power on the virtual machine without passing any additional \ninformation to the virtual machine. Provide the full path to the virtual machine’s \nconfiguration (.vmx) file. \nThe user sees no immediate indication that the virtual machine has started, but the \nuser can switch to the virtual machine with its direct-switch key or with the cycle key.\nStopping a Virtual Machine\nvmware-fullscreen -poweroff \"<config-file>\"\nvmware-fullscreen -poweroff <alias> \nUse this command to shut down the specified virtual machine. You can specify the \npath to the configuration (.vmx) file, or you can specify the alias if you used -name= \nwhen you started the virtual machine."
  },
  {
    "page": 339,
    "chapter": "Special-Purpose Configuration Options",
    "text": "www.vmware.com\n340\nVMware Workstation 4 User’s Manual\nStopping All Virtual Machines\nvmware-fullscreen -exit\nUse this command to power off all virtual machines cleanly. VMware Workstation exits \nas soon as all the virtual machines have powered off.\nSwitching Among Virtual Machines and the Host\nvmware-fullscreen -switchto \"<config-file>\"\nvmware-fullscreen -switchto <alias> \nvmware-fullscreen -switchto host \nvmware-fullscreen -switchto next \nUse this command to switch to the specified virtual machine, to the host operating \nsystem, or to the next machine (virtual machine or host) in the cycling order. A virtual \nmachine must already be powered on before you can switch to it. When specifying a \nvirtual machine, you can specify the path to the configuration (.vmx) file, or you can \nspecify the alias if you used -name= when you started the virtual machine.\nChecking the Status of VMware Workstation\nvmware-fullscreen -query\nThis command tells you if VMware Workstation is already running in full screen switch \nmode. If it is, the response to this command also reports its process ID and window \nhandle.\nThe vmware-fullscreen Log File\nThe vmware-fullscreen program writes to a log file. This log file records errors \nreported by vmware-fullscreen itself as it starts, stops and passes other \ncommands to VMware Workstation. It is separate from the vmware.log file, which \nstores information on the running virtual machines. \nThe name of the vmware-fullscreen log file is vmware-<username>-\n<pid>.log. By default, the vmware-fullscreen log file is in the temp directory \nfor the user logged on to the host computer. This location may be specified in the \nTEMP environment variable; by default, the location is C:\\Documents and \nSettings\\<username>\\Local Settings\\Temp.\nThe administrator can specify a different location for this log file by adding the \nfollowing line to the VMware Workstation global configuration file (config.ini):\nfullScreenSwitch.log.filename=\"<path>\"\nIt is best to use a full path. If you use a relative path, the location is relative to the \ndirectory that is active when the vmware-fullscreen command is issued for the \nfirst time after the host computer reboots."
  },
  {
    "page": 340,
    "chapter": "Glossary",
    "text": "C H A P T E R14\n341\nGlossary\nBridged networking — A type of network connection between a virtual machine \nand the rest of the world. Under bridged networking, a virtual machine appears as an \nadditional computer on the same physical Ethernet network as the host. \nSee also Host-only networking. \nConfiguration — See Virtual machine configuration file. \nCustom networking — Any type of network connection between virtual machines \nand the host that does not use the default bridged, host-only or network address \ntranslation (NAT) networking configurations. For instance, different virtual machines \ncan be connected to the host by separate networks or connected to each other and \nnot to the host. Any network topology is possible. \nDrag and drop— With the drag and drop feature of VMware Workstation, you can \nmove files easily between a Windows host and a Windows virtual machine. You can \ndrag and drop individual files or entire directories.\nExisting partition — A partition on a physical disk in the host machine. \nSee also Raw disk."
  },
  {
    "page": 341,
    "chapter": "Glossary",
    "text": "www.vmware.com\n342\nVMware Workstation 4 User’s Manual\nFull screen mode— A display mode in which the virtual machine’s display fills the \nentire screen.\nSee also Quick switch mode.\nFavorites list — A list in the left panel of the main VMware Workstation screen that \nshows the names of virtual machines that a user has added to the list. The Favorites list \nmakes it easy to launch a virtual machine or to connect to the virtual machine’s \nconfiguration file in order to make changes in the virtual machine settings.\nGuest operating system — An operating system that runs inside a virtual \nmachine. \nSee also Host operating system. \nHost-only networking — A type of network connection between a virtual \nmachine and the host. Under host-only networking, a virtual machine is connected to \nthe host on a private network, which normally is not visible outside the host. Multiple \nvirtual machines configured with host-only networking on the same host are on the \nsame network. \nSee also Bridged networking, Custom networking and Network address translation. \nHost machine — The physical computer on which the VMware Workstation \nsoftware is installed. It hosts the VMware Workstation virtual machines. \nHost operating system — An operating system that runs on the host machine. \nSee also Guest operating system. \nNetwork address translation (NAT) — A type of network connection that allows \nyou to connect your virtual machines to an external network when you have only one \nIP network address, and that address is used by the host computer. If you use NAT, \nyour virtual machine does not have its own IP address on the external network. \nInstead, a separate private network is set up on the host computer. Your virtual \nmachine gets an address on that network from the VMware virtual DHCP server. The \nVMware NAT device passes network data between one or more virtual machines and \nthe external network. It identifies incoming data packets intended for each virtual \nmachine and sends them to the correct destination.\nNew Virtual Machine Wizard — A point-and-click interface for convenient, easy \ncreation of a virtual machine configuration. To launch it, choose File > New Virtual \nMachine. It prompts you for information, suggesting default values in most cases. It \ncreates files that define the virtual machine, including a virtual machine configuration \nfile and (optionally) a virtual disk or raw disk file. \nSee also Virtual machine settings editor."
  },
  {
    "page": 342,
    "chapter": "Glossary",
    "text": "C H A P T E R  1 4  Glossary\n343\nQuick switch mode— A display mode in which the virtual machine’s display fills \nmost of the screen. In this mode, tabs at the top of the screen allow you to switch \nquickly from one running virtual machine to another.\nSee also Full screen mode.\nRaw disk — A hard disk in a virtual machine that is mapped to a physical disk drive \nor partition on the host machine. A virtual machine’s disk can be stored as a file on the \nhost file system (see Virtual disk) or on a local hard disk. When a virtual machine is \nconfigured to use a raw disk, VMware Workstation directly accesses the local disk or \npartition as a raw device (not as a file on a file system). It is possible to boot a \npreviously installed operating system on an existing partition within a virtual machine \nenvironment. The only limitation is that the existing partition must reside on a local \nIDE or SCSI drive. \nSee also Virtual disk.\nResume — Return a virtual machine to operation from its suspended state. When \nyou resume a suspended virtual machine, all applications are in the same state they \nwere when the virtual machine was suspended.\nSee also Suspend.\nShared folder — A shared folder is a folder on the host computer — or on a \nnetwork drive accessible from the host computer — that can be used by both the \nhost computer and one or more virtual machines. It provides a simple way of sharing \nfiles between host and guest or among virtual machines. In a Windows virtual \nmachine, shared folders appear as folders on a designated drive letter. In a Linux \nvirtual machine, shared folders appear under a specified mount point.\nSnapshot — A snapshot preserves the virtual machine just as it was when you took \nthe snapshot — the state of the data on all the virtual machine’s disks and whether \nthe virtual machine was powered on, powered off or suspended. VMware Workstation \nlets you take a snapshot of a virtual machine at any time and revert to that snapshot at \nany time. You can take a snapshot when a virtual machine is powered on, powered off \nor suspended. \nSuspend — Save the current state of a running virtual machine. To return a \nsuspended virtual machine to operation, use the resume feature.\nSee also Resume.\nVirtual disk — A virtual disk is a file or set of files, usually on the host file system, that \nappears as a physical disk drive to a guest operating system. These files can be on the \nhost machine or on a remote file system. When you configure a virtual machine with a \nvirtual disk, you can install a new operating system into the disk file without the need"
  },
  {
    "page": 343,
    "chapter": "Glossary",
    "text": "www.vmware.com\n344\nVMware Workstation 4 User’s Manual\nto repartition a physical disk or reboot the host. \nSee also Raw disk. \nVirtual machine — A virtualized x86 PC environment in which a guest operating \nsystem and associated application software can run. Multiple virtual machines can \noperate on the same host machine concurrently. \nVirtual machine configuration — The specification of what virtual devices (disks, \nmemory size, etc.) are present in a virtual machine and how they are mapped to host \nfiles and devices. \nVirtual machine configuration file — A file containing a virtual machine \nconfiguration. It is created by the New Virtual Machine Wizard. It is used by VMware \nWorkstation to identify and run a specific virtual machine.\nVirtual machine settings editor — A point-and-click editor used to view and \nmodify the settings of a virtual machine. You can launch it from the VM menu. \nSee also New Virtual Machine Wizard. \nVirtual Network Editor — A point-and-click editor used to view and modify the \nnetworking settings for the virtual networks created by VMware Workstation. You can \nlaunch it from the Edit menu. \nVMware Tools — A suite of utilities and drivers that enhances the performance and \nfunctionality of your guest operating system. Key features of VMware Tools include \nsome or all of the following, depending on your guest operating system: an SVGA \ndriver, a mouse driver, the VMware Tools control panel and support for such features \nas shared folders, drag and drop in Windows guests, shrinking virtual disks, time \nsynchronization with the host, VMware Tools scripts, and connecting and \ndisconnecting devices while the virtual machine is running."
  },
  {
    "page": 344,
    "chapter": "Index",
    "text": "345\nFile extensions\n.bmp 123\n.cfg 67\n.dsk 67, 151\n.log 67\n.png 123\n.REDO 67\n.sav 68\n.std 32, 68, 151\n.vmdk 32, 49, 51, 67, 69, 135, 137, 140, \n149, 151\n.vmsn 68\n.vmss 32, 68, 151\n.vmx 67\n.wav 269\nA\nAccess\nto raw disks 171, 190\nAdapter\nhost virtual 210\nin promiscuous mode on a Linux \nhost 243\nvirtual Ethernet 219\nAdd\ndevices to virtual machine 121\nDVD or CD drive 159\nfloppy drive 160\ngeneric SCSI device 303, 305\nhost virtual adapter 224\nparallel port 273\nraw disk 155\nserial port 277\nshared folder 113\nsoftware to virtual machine 111\nvirtual disk 154\nvirtual Ethernet adapter 219\nAddress\nassigning IP 230\nassigning MAC manually 233\nIP in virtual machine 72\nIP on virtual network 228\nMAC 232\nnetwork address translation 244\nusing DHCP to assign on a virtual \nnetwork 228\nAdministrative lockout 329\nAssign\ndrive letter 173\nIP address 228\nMAC address 232\nnetwork port number in NAT 249\nAthlon 17\nAttach\nSee Connect\nAudio\nSee Sound\nAudioPCI 269\nAutofit 108\nAutomatic bridging 220\nAutorun\ndisable 32\nB\nBasic disks\non Windows host 184\nBIOS\nfile in virtual machine 67\nprovided in virtual machine 20\nBoot loader\nLILO 172, 175, 186\nBoot sequence\nin VMware BIOS 173, 176\nBridge 210\nBridged networking\nconfiguring options 220\ndefined 341\nBrowser\nconfiguring on Linux host 39\nBSD\nsupported guest operating systems \n24\nBusLogic 21, 185, 302, 305\nC\nCapture\nscreen shot of virtual machine 123\nIndex"
  },
  {
    "page": 345,
    "chapter": "Index",
    "text": "www.vmware.com\n346\nCD\nadding drive to virtual machine 159\nCD-ROM image file 20\nCeleron 17\nCentrino 17\nChange\nSee Configure\nClock\nreal-time on Linux host 36\nsynchronize guest and host 90\nColor\nscreen colors in a virtual machine \n266\nComm port\nSee Serial connection, Serial port \n277\nCommands\nkeyboard shortcuts 130\non the command line 129\nCompress\nSee Shrink\nConfiguration\nvirtual machine 344\nConfigure\nadministrative lockout 329\nafter Linux kernel upgrade 38\nautomatic bridging 220\nbridged networking 220\ndevices in virtual machine 121\nDHCP on Linux host 229\nDHCP on Windows host 229\nDHCP settings 223\ndisplay resolution on a Linux host \n268\nfull screen switch mode 334\ngeneric SCSI device 302, 303, 305\nhost virtual network mapping 222\nhot keys 126\nmemory size 317\nmemory use 127\nNAT 247\nNAT on Linux host 253\nparallel port 273\nparallel port on a Linux host 274\nperformance monitoring 315\npreferences for virtual machine 125\nprocess priorities on Windows host \n127\nrestricted user interface 331\nSamba during Workstation installa-\ntion 38\nscreen colors 266\nsecond bridged network on a Linux \nhost 236\nserial port 277\nshared folder 113\nsound 269\nUSB controller 297\nvirtual Ethernet adapter 219\nvirtual network 212, 216, 219\nvirtual network subnet settings 223\nVMware Tools 90\nWeb browser on Linux host 39\nConnect\nremovable devices 91, 99, 121\nUSB devices 297\nControls\nhiding 109\nCopy\ntext 112\nvirtual machine 135, 136, 138, 141\nCPU\nhost requirement 17\nprovided in virtual machine 20\nCreate\nfloppy image file 162\nnamed pipe 280, 281, 282\nvirtual machine 65\nCreative Labs 21, 269\nCtrl-Alt 127\nCut\ntext 112\nD\nDate\nSee Time\nDDNS 235\nDecrease\nSee Shrink\nDefragment\nvirtual disks 152\nDelete\nvirtual machine 120"
  },
  {
    "page": 346,
    "chapter": "Index",
    "text": "347\nvirtual machine from Favorites list \n104\nDevices\nadding, configuring and removing \n121\nconnecting and disconnecting 121\ndisconnecting from USB controller \n301\nprovided in virtual machine 20\nUSB 297\nDHCP\nassigning IP addresses on a virtual \nnetwork 228\nchanging settings 223\nconfiguring on a Linux host 229\nconfiguring on a Windows host 229\nDHCP server 211\non a virtual network with NAT 245\nserver on virtual network 214, 215\nstopping 242\ntroubleshooting on a Linux host 235\ndhcpd 235\nDial-up connection 232\nDirect memory access\nSee DMA\nDisable\nautorun 32\nDHCP 242\ndrag and drop 116\nhost virtual adapter 224\ninterface features 327\nremovable devices 91, 99\nscripts 91\nshared folder 114\nsnapshot 201\nSnapshot menu functions 331\nUSB controller 297\nDisconnect\nremovable devices 91, 99, 121\nUSB devices 301\nDisk\nspace required on host computer 17\nDisk files 149\nDisk modes\ncompared to snapshot 203\nDisks\nadding virtual disks 154\navailable in virtual machine 20\ndefragmenting 152\nDMA and performance 322\ndynamic 184\nexisting partition 341\nfile locations 149\nplain 148\nraw 148, 343\nrenaming virtual disks 32, 151\nSee also Virtual disk\nshrinking 106, 152, 166\nvirtual 147, 343\nvirtual disk files 67\nvirtual disk manager 163\nvirtual disk size in new virtual \nmachine 70\nDisplay\ncolor depth 266\nfitting virtual machine to window \n109\nfitting window to virtual machine \n108\nfull screen 107\nmultiple monitor 108\nresolution on a Linux host 268\nswitching virtual machines 107\nDMA\nand disk performance 195, 322\nDNS 245\nDrag and drop 116, 341\nDriver\nSCSI 302\nsound 269\nDrives\nSee Disks\ntape 302, 304\ndskrename.exe 152\nDual-boot\nand SCSI disks 184\nconfiguring for use in virtual \nmachine 169, 171\nDual-monitor display 108\nDuron 17\nDVD\nadding drive to virtual machine 159\nDynamic disk 184\nDynamic domain name service 235"
  },
  {
    "page": 347,
    "chapter": "Index",
    "text": "www.vmware.com\n348\nE\nEnable\ndrag and drop 116\nhost virtual adapter 224\nremovable devices 91, 99\nshared folder 114\nUSB controller 297\nEthernet\nadapter in promiscuous mode on a \nLinux host 243\nadding virtual adapter 219\nvirtual adapter 211\nExisting disk\nusing in a virtual machine 148\nExpand\nvirtual machine screen size 109\nExtension\nvirtual disk filename 32\nF\nFavorites\ndefined 342\nhide 109\nremoving from list 104\nFiles\nBIOS in virtual machine 67\nlocation of virtual disk files 70\nlog 67\nredo log 67, 136, 139, 141, 143, 204\nrenaming virtual disk 69\nSamba and file sharing on a Linux \nhost 256\nsharing among virtual machines and \nhost 113, 116\nsnapshot 68\nsuspended state 68\nused by a virtual machine 67\nused by snapshot 67\nvirtual disk files 67\nFirewall 251\nFit\nvirtual machine to window 109\nwindow to virtual machine 108\nFloppy\nadd drive to virtual machine 160\ndrives in virtual machine 21\nimage file 21, 161\nFolder\nshared 113\nForums 25\nFreeBSD\nsupported guest operating systems \n24\nVMware Tools for 87\nFTP 245\nFull screen mode\ndefined 342\nswitching between virtual machines \n107\nusing 107\nFull screen switch mode 334\nlog file 340\nG\ngated 234\nGlobal configuration file 335\nGrab\nkeyboard and mouse input 126\nGraphics\nSee also Display\nsupport in virtual machine 20, 266\nGuest operating system\ndefined 342\ninstalling 78\nsupported 23\nH\nHalt\nvirtual machine 119\nvirtual machines in full screen switch \nmode 338\nHardware profiles 177\nHelp\nconfiguring Web browser for, on \nLinux host 39\nHide\ncontrols 109\ntoolbar 331\nHost computer\nsystem requirements 17\nHost machine 342\nHost operating system 342\nHost virtual adapter\nadding 224"
  },
  {
    "page": 348,
    "chapter": "Index",
    "text": "349\ndefined 210\ndisabling 224\nenabling 224\nremoving 224\nHost virtual network mapping 222\nHost-only networking\nand Workstation upgrade on Win-\ndows 2000 host 46\nbasic configuration 214\ndefined 342\nenabling on Linux host 38\nselecting IP addresses 228\nHot key\nfor full screen switch mode 336, 337\nHot keys 126\nfor full screen switch mode 335\nI\nICMP 245\nIDE\ndrives in virtual machine 20\nImage file\nfloppy 21, 161\nISO 20, 159, 161\nInput\ncapturing from keyboard and \nmouse 126\nInstall\nguest operating system 78\nguest operating system on raw disk \n190\non Linux host 36\non Windows host 29\nsoftware in a virtual machine 111\nVMware Tools 81\nVMware Workstation 27\nInternet connection sharing 215\nIomega\nparallel port Zip drives 276\nIP address\nassigning 230\nin virtual machine 72\nIP forwarding 231, 232\nISO image file 20, 159, 161\nK\nKernel\nreconfiguring Workstation after \nLinux kernel upgrade 38\nKey code mapping 291\nKeyboard\nmapping on a Linux host 289\nsending input to virtual machine \n126\nshortcuts 130\nUSB 301\nKeysym\ndefined 290\nmapping 291\nKnowledge base 25\nL\nLaunch\nvirtual machine 103, 104\nvirtual machines in full screen switch \nmode 338\nLeak\nIP packets in a virtual machine 232\nIP packets in host-only network 230\nLILO 172, 175, 186\nLink\nsymbolic link does not work in \nshared folder 115\nLinux\ninstalling on Linux host 36\nsupported guest operating systems \n23\nsupported host operating systems \n18\nuninstalling Workstation on Linux \nhost 39\nupgrading on Linux host 48\nVMware Tools for 85\nLock files 150\nLockout\nfor some interface features 329\nLog files 67, 340\nLSI Logic 21, 73, 185, 302, 305\nM\nMAC address\nassigning manually 233\nof virtual Ethernet adapter 232"
  },
  {
    "page": 349,
    "chapter": "Index",
    "text": "www.vmware.com\n350\nMap\nkey code 291\nkeyboard 289\nkeysym 291\nMemory\namount required on host 17\navailable in virtual machine 20\nchoosing for best performance 310\nmore than 1GB on a Linux host 320\nreserved memory 318\nsetting size 317\nswapping 127\nvirtual machine memory size 317\nMIDI 269\nMigrate\ndisks in undoable mode 142\nupgrading virtual disks 83\nvirtual machine 49, 60, 140\nMode\nfull screen 107, 342\nnonpersistent compared to snap-\nshot 203, 204\npersistent compared to snapshot \n203, 204\nquick switch 107, 343\nsnapshot and disk modes compared \n203\nundoable compared to snapshot \n203, 204\nModifier keys\nfor full screen switch mode 335\nMouse\nsending input to virtual machine \n126\nUSB 301\nMove\nvirtual machine 133\nMP3 269\nMS-DOS\nsupported guest operating systems \n23\nMylex 21, 185, 302, 305\nN\nNamed pipe 280, 281, 282\nNAT\nadvanced configuration 247\nand DHCP 245\nand DNS 245\nand the host computer 244\ndefined 342\nexternal access from a NAT network \n245\non virtual network 213, 244\nport forwarding 249, 254, 255\nsample configuration file for Linux \nhost 253\nselecting IP addresses 228\nspecifying connection from port \nbelow 1024 250\nvirtual device 210\nwhen creating a virtual machine 72\nnat.conf 247, 253\nNetLogon 251\nNetscape 39\nNetWare\nSee Novell NetWare\nNetwork\nadding and modifying virtual Ether-\nnet adapters 219\nautomatic bridging 220\nbridge 210\nbridged networking 341\nchanging DHCP settings 223\nchanging subnet settings 223\nchanging the configuration 219\ncommon configurations 212\ncomponents 210\nconfiguring bridged networking \noptions 220\ncustom configurations 216\ncustom networking 341\nDHCP 228\nDHCP server 211\ndial-up connection 232\ndynamic domain name service 235\nenabling host-only networking on \nLinux host 38\nhardware address 232\nhost virtual adapter 210\nhost virtual network mapping 222\nhost-only 214, 342\nhost-only subnet 228\nInternet connection sharing 215\nIP forwarding 231, 232\nIP packet leaks 230, 232"
  },
  {
    "page": 350,
    "chapter": "Index",
    "text": "351\nlocking out access to settings 329\nMAC address 232\nNAT 213, 244, 342\nNAT as firewall 251\nNAT device 210\nNAT subnet 228\npacket filtering 232\npromiscuous mode on a Linux host \n243\nrouting between two host-only net-\nworks 239\nrouting on a Linux host 234\nSamba 256\nsecond bridged network on a Linux \nhost 236\nswitch 210\nToken Ring 214, 215\ntroubleshooting DHCP on a Linux \nhost 235\ntwo host-only networks 236\nvirtual DHCP server 214, 215\nvirtual Ethernet adapter 211\nVirtual Network Editor 220, 224, 229, \n344\nvirtual switch 210\nNetwork address translation\ndefined 342\nSee NAT\nNew Virtual Machine Wizard 69, 147, \n342\nNewsgroups 25\nNFS\nspecifying connection from port \nbelow 1024 250\nNIC\nadding and configuring virtual \nEthernet adapter 219\npromiscuous mode on a Linux host \n243\nNonpersistent mode\ncompared to snapshot 203, 204\nNovell NetWare\nsupported guest operating systems \n24\nVMware Tools for 89\nnvram 67\nO\nOperating system\nguest 342\nhost 342\ninstalling guest 78\nsupported guest 23\nsupported Linux host 18\nsupported Windows host 18\nOpteron 17\nP\nPacket\nfiltering 232\nleaks 230, 232\nParallel ports\nand Iomega Zip drives 276\nand the Linux kernel 36, 273\nconfiguring on a Linux host 274\nin a virtual machine 273\ninstalling in virtual machines 273\nPartition\nexisting 341\nPasswords\nand administrative lockout 329\nSamba password file 260\nPaste\ntext 112\nPentium 17\nPerformance\nCD-ROM drive polling 311\ndebugging mode 311\ndisk options 311\nDMA and disks 322\nguest operating system selection \n310\nLinux guest 326\nmemory settings 310\nmemory usage 317\nprocess scheduling on a Windows \nhost 313\nremote disk access 312\nusing full screen mode on a Linux \nhost 314\nusing the Windows Performance \nconsole 315\nWindows 2000 guest 324\nWindows 95 and Windows 98 guests \n322"
  },
  {
    "page": 351,
    "chapter": "Index",
    "text": "www.vmware.com\n352\nPersistent mode\ncompared to snapshot 203, 204\nPhysical disk\nconfiguring virtual machine on dual-\nboot computer 169\nusing in a virtual machine 148\nusing in new virtual machine 70\nPing 245\nPipe\nnamed 280, 281, 282\nPlain disk 148\nPort\nTCP and UDP below 1024 250\nPort forwarding 249, 254, 255\nPower buttons\nfor a virtual machine 100\nPower menu\ndisabling functions 331\nPreferences 125\nPriorities\nfor virtual machines on Windows \nhost 127\nProcess scheduler 127\nProcessor\nhost requirement 17\nprovided in virtual machine 20\nPromiscuous mode 243\nQ\nQuick switch mode 107, 343\nR\nRAM\namount required on host 17\navailable in virtual machine 20\nRaw disk\nadding 155\nconfiguring virtual machine on dual-\nboot computer 169\ncontrolling access 171\ndefined 343\ndo not use Windows dynamic disks \n184\ninstalling guest operating system on \n190\nSCSI issues 184\nusing in a virtual machine 148\nusing in new virtual machine 70\nReal Media 269\nReal-time clock\nrequirement on Linux host 36\nReclaim\ndisk space 92, 93\nRedo-log file 67, 136, 139, 141, 143, 204\nRegistration 26\nRemove\ncontrols 109\ndevices from virtual machine 121\nhost virtual adapter 224\npasswords for administrative lockout \n329\nremovable devices 121\nSee also Uninstall\ntoolbar 331\nUSB devices 301\nvirtual machine 120\nvirtual machine from Favorites list \n104\nRename\nvirtual disk files 32, 69\nRepeatable resume\nSee Resume\nRestore\nsuspended virtual machine 117\nvirtual machine to state in snapshot \n200\nRestrict\naccess to interface features 329, 334\naccess to virtual machine settings \neditor 331\nRestricted user interface 331\nResume\ndefined 343\nsnapshot compared to repeatable \nresume 204\nvirtual machine 117, 199\nReturn\nSee Revert\nRevert\nto snapshot 200\nrouted 234"
  },
  {
    "page": 352,
    "chapter": "Index",
    "text": "353\nRouting\nbetween two host-only networks \n239\nfor a host-only network on a Linux \nhost 234\nRun\nsuspended virtual machine 117, 199\nS\nSamba\nalready running on a Linux host 261\nand file sharing on a Linux host 256\nand printer sharing 257\nconfiguring during Workstation \ninstallation 38\non both bridged and host-only net-\nworks 261\npassword file 260\nrunning two Samba servers 262\nsample configuration file 257, 258, \n262\nSave\nstate of virtual machine 117, 118, \n199, 200\nScan code 289\nScanner 302\nScreen\ncolors 266\nScreen modes\nfull screen 107\nquick switch 107\nScreen shot\ncapturing 123\nSCSI\nadding a generic SCSI device 303, \n305\nand dual-boot configurations 184\navoiding concurrent access on a \nLinux host 304\nconnecting to generic SCSI device \n302\ndevices in virtual machine 20\ndisk geometry 188\ndriver for Windows NT guest 302\ndriver for Windows Server 2003 \nguest 185, 302\ndriver for Windows XP guest 185, \n302\ndrivers 73, 185, 188, 302, 305\ngeneric SCSI on a Linux host 304\ngeneric SCSI on a Windows host 302\npermissions for a generic SCSI \ndevice on a Linux host 304\nSerial connection\nbetween host application and vir-\ntual machine 279\nbetween two virtual machines 281\nto a serial port on the host 277\nSerial number 29, 36, 68\nSerial port\ninstalling and using 277\nServer\nDHCP 211, 218, 223, 229, 235, 245, \n252\nDNS 235, 245, 247\nSamba 256\nWINS 246\nSet up\nadministrative lockout 329\nautomatic bridging 220\nbridged networking 220\nDHCP on Linux host 229\nDHCP on Windows host 229\nDHCP settings 223\ndisplay resolution on a Linux host \n268\nfull screen switch mode 334\ngeneric SCSI device 302, 305\nhost virtual network mapping 222\nhot keys 126\nmemory size 317\nparallel port 273, 277\nparallel port on a Linux host 274\nperformance monitoring 315\npreferences for virtual machine 125\nprocess priorities on Windows host \n127\nrestricted user interface 331\nrmemory use 127\nscreen colors 266\nsecond bridged network on a Linux \nhost 236\nshared folder 113\nsoftware in virtual machine 111\nsound 269\nUSB controller 297"
  },
  {
    "page": 353,
    "chapter": "Index",
    "text": "www.vmware.com\n354\nvirtual machine 65\nvirtual network 212, 216, 219\nvirtual network subnet settings 223\nVMware Tools 90\nWeb browser on Linux host 39\nSettings editor\nvirtual machine 121, 344\nShare\ndrag and drop 341\nfiles among host and guest 113, 116\nfiles on a Linux host with Samba 256\nShared folder\nand Linux symbolic link 115\nand Windows shortcut 115\ndefined 343\nenable and disable 114\nusing 113\nShortcut\ndoes not work in shared folder 115\nShortcuts\nkeyboard 130\nShrink\nvirtual disks 92, 93, 106, 152, 166\nShut down\na virtual machine 119\nSize\nvirtual disk 20, 75\nvirtual machine window 108\nsmb.conf 257, 258, 262\nSnapshot\ncompared to disk modes 203\ncompared to repeatable resume 204\ndefined 343\ndisabling 201\ndisabling functions 331\nfiles 68\nremoving 202\nupdating 202\nusing 118\nvirtual machine 200\nways of using 202\nwhat is saved in 200\nSound\nconfiguring 269\ndrivers for Windows 9x and Win-\ndows NT guest operating systems \n269\nsupport in guest 21\nSound Blaster 269\nSpecifications\nvirtual machine platform 20\nStart\nsuspended virtual machine 117, 199\nvirtual machine 103, 104\nvirtual machines in full screen switch \nmode 338\nVMware Tools 106\nStatus bar\nhide 109\nStop\nDHCP 242\nvirtual machine 119\nvirtual machines in full screen switch \nmode 338\nSubnet\nchanging settings 223\nin NAT configuration 228\non host-only network 228\nSupport\ntechnical support resources 25\nSuspend\ndefined 343\nfiles 68\nvirtual machine 117, 199\nSVGA\nin a Windows 95 guest on a raw disk \n181\nin a Windows 98 guest on a raw disk \n182\nSwapping\nmemory 127\nSwitch\nvirtual network 210\nworkspaces in Linux guest 86, 127\nSystem requirements 17\nSystem Restore\navoiding conflicts 32, 69, 151\nT\nTabs\nhide 109\nTake\nscreen shot of virtual machine 123\nTape drive 302, 304"
  },
  {
    "page": 354,
    "chapter": "Index",
    "text": "355\nTelnet 245\nText\ncutting, copying and pasting 112\nTime\nsynchronize guest and host 90\nToken Ring 214, 215\nToolbar\nhide 109, 331\npower buttons on 100\nTools\ninstalling VMware Tools 81\nstarting VMware Tools 106\nVMware Tools 344\nTrend Micro Virus Buster\ninstallation issues 111\nTurn off\naccess to virtual machine settings \neditor 331\nfunctions on Power menu 331\nfunctions on Snapshot menu 331\ninterface features 329\nvirtual machine 119\nU\nUndoable mode\ncompared to snapshot 203, 204\nmigrating 142\nUninstall\nhost virtual adapter 224\non Linux host 39\non Windows host 35\nSee also Remove\nUnplug\nUSB devices 301\nUpgrade\nLinux kernel, reconfiguring Worksta-\ntion after upgrade 38\non Linux host 48\non Windows host 45\nvirtual disks 83\nvirtual hardware 59\nvirtual machine 49, 60\nVMware Workstation 41\nUSB\nconnecting devices 297\ncontrol of devices by host and guest \n299\ndevices in a virtual machine 297\ndisconnecting devices 301\nenabling and disabling the control-\nler 297\nkeyboard and mouse 301\non a Linux host 299\non a Windows host 298\nsupported device types 297\nUser interface\noverview 97\nrestricted 331\nV\nVideo\nresolution on a Linux host 268\nSee also Display\nVirtual disk\nadd to virtual machine 154\ndefined 147, 343\nlocation 70\nmigrating 83\nSee also Disks\nsize 20, 70, 75, 155\nVirtual hardware\nupgrading 59\nVirtual machine\ncapturing screen shot of 123\nconstituent files 67\ncreating 65\ndefined 344\ninstalling software in 111\nmigrating 140\nmoving 133\nplatform specifications 20\npower buttons 100\nremoving 120\nresuming 117, 199\nshutting down 119\nstarting 103, 104\nsuspending 117, 199\ntaking and restoring snapshot 118\nupgrading 49, 60\nwindow size 108\nVirtual machine settings editor\ndefined 344\nrestricting access 329, 331\nusing 121\nVirtual Network Editor 344\nVirtual switch 210"
  },
  {
    "page": 355,
    "chapter": "Index",
    "text": "www.vmware.com\n356\nVirtualCenter\nand virtual disk manager 164\nVirus Buster\nSee Trend Micro Virus Buster\nvmnet1.conf 235\nVMnet8 244\nVMware Tools\nconfiguring 90\ndefined 344\nfor FreeBSD guests 87\nfor Linux guests 85\nfor NetWare guests 89\nfor Windows guests 81\ninstalling 81\nstarting 106\nVMware Virtual Disk Manager 163\nvmware.log 67\nvmware-config.pl 38\nvmware-fullscreen log file 340\nV-scan code\ndefined 289\ntable of codes 292\nW\nWeb browser\nconfiguring on Linux host 39\nWindow size 108\nWindows\ninstalling on Windows host 29\nsupported guest operating systems \n23\nuninstalling on Windows host 35\nupgrading on Windows host 45\nVMware Tools for 81\nWindows 95\nsound driver 269\nSVGA driver in a raw disk configura-\ntion 181\nupgrading guest 62\nWindows 98\nsound driver 269\nSVGA driver in a raw disk configura-\ntion 182\nupgrading guest 61\nWindows Me\nupgrading guest 60\nWindows NT\nSCSI driver for guest 302\nsound driver 269\nWindows Server 2003\nSCSI driver for guest 185, 302\nWindows XP\ninstalling guest operating system 79\nSCSI driver for guest 185, 302\nWizard\nadd new hardware 121\nnew virtual machine 69, 149, 342\nshared folder 114\nWorkspaces\nswitching in Linux guest 86, 127\nX\nX server\nand keyboard mapping 289\nXeon 17\nXFree86\nand keyboard mapping 289\nZ\nZip drives\non a parallel port 276"
  }
]